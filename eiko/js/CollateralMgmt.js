var requirejs, require, define;
!function(t) {
    function n(t, n) {
        return g.call(t, n)
    }
    function e(t, n) {
        var e, r, i, o, a, u, s, c, l, f, d, p = n && n.split("/"), h = m.map, v = h && h["*"] || {};
        if (t && "." === t.charAt(0))
            if (n) {
                for (t = t.split("/"),
                a = t.length - 1,
                m.nodeIdCompat && y.test(t[a]) && (t[a] = t[a].replace(y, "")),
                t = p.slice(0, p.length - 1).concat(t),
                l = 0; l < t.length; l += 1)
                    if (d = t[l],
                    "." === d)
                        t.splice(l, 1),
                        l -= 1;
                    else if (".." === d) {
                        if (1 === l && (".." === t[2] || ".." === t[0]))
                            break;
                        l > 0 && (t.splice(l - 1, 2),
                        l -= 2)
                    }
                t = t.join("/")
            } else
                0 === t.indexOf("./") && (t = t.substring(2));
        if ((p || v) && h) {
            for (e = t.split("/"),
            l = e.length; l > 0; l -= 1) {
                if (r = e.slice(0, l).join("/"),
                p)
                    for (f = p.length; f > 0; f -= 1)
                        if (i = h[p.slice(0, f).join("/")],
                        i && (i = i[r])) {
                            o = i,
                            u = l;
                            break
                        }
                if (o)
                    break;
                !s && v && v[r] && (s = v[r],
                c = l)
            }
            !o && s && (o = s,
            u = c),
            o && (e.splice(0, u, o),
            t = e.join("/"))
        }
        return t
    }
    function r(n, e) {
        return function() {
            var r = b.call(arguments, 0);
            return "string" != typeof r[0] && 1 === r.length && r.push(null ),
            l.apply(t, r.concat([n, e]))
        }
    }
    function i(t) {
        return function(n) {
            return e(n, t)
        }
    }
    function o(t) {
        return function(n) {
            p[t] = n
        }
    }
    function a(e) {
        if (n(h, e)) {
            var r = h[e];
            delete h[e],
            v[e] = !0,
            c.apply(t, r)
        }
        if (!n(p, e) && !n(v, e))
            throw new Error("No " + e);
        return p[e]
    }
    function u(t) {
        var n, e = t ? t.indexOf("!") : -1;
        return e > -1 && (n = t.substring(0, e),
        t = t.substring(e + 1, t.length)),
        [n, t]
    }
    function s(t) {
        return function() {
            return m && m.config && m.config[t] || {}
        }
    }
    var c, l, f, d, p = {}, h = {}, m = {}, v = {}, g = Object.prototype.hasOwnProperty, b = [].slice, y = /\.js$/;
    f = function(t, n) {
        var r, o = u(t), s = o[0];
        return t = o[1],
        s && (s = e(s, n),
        r = a(s)),
        s ? t = r && r.normalize ? r.normalize(t, i(n)) : e(t, n) : (t = e(t, n),
        o = u(t),
        s = o[0],
        t = o[1],
        s && (r = a(s))),
        {
            f: s ? s + "!" + t : t,
            n: t,
            pr: s,
            p: r
        }
    }
    ,
    d = {
        require: function(t) {
            return r(t)
        },
        exports: function(t) {
            var n = p[t];
            return "undefined" != typeof n ? n : p[t] = {}
        },
        module: function(t) {
            return {
                id: t,
                uri: "",
                exports: p[t],
                config: s(t)
            }
        }
    },
    c = function(e, i, u, s) {
        var c, l, m, g, b, y, w = [], x = typeof u;
        if (s = s || e,
        "undefined" === x || "function" === x) {
            for (i = !i.length && u.length ? ["require", "exports", "module"] : i,
            b = 0; b < i.length; b += 1)
                if (g = f(i[b], s),
                l = g.f,
                "require" === l)
                    w[b] = d.require(e);
                else if ("exports" === l)
                    w[b] = d.exports(e),
                    y = !0;
                else if ("module" === l)
                    c = w[b] = d.module(e);
                else if (n(p, l) || n(h, l) || n(v, l))
                    w[b] = a(l);
                else {
                    if (!g.p)
                        throw new Error(e + " missing " + l);
                    g.p.load(g.n, r(s, !0), o(l), {}),
                    w[b] = p[l]
                }
            m = u ? u.apply(p[e], w) : void 0,
            e && (c && c.exports !== t && c.exports !== p[e] ? p[e] = c.exports : m === t && y || (p[e] = m))
        } else
            e && (p[e] = u)
    }
    ,
    requirejs = require = l = function(n, e, r, i, o) {
        if ("string" == typeof n)
            return d[n] ? d[n](e) : a(f(n, e).f);
        if (!n.splice) {
            if (m = n,
            m.deps && l(m.deps, m.callback),
            !e)
                return;
            e.splice ? (n = e,
            e = r,
            r = null ) : n = t
        }
        return e = e || function() {}
        ,
        "function" == typeof r && (r = i,
        i = o),
        i ? c(t, n, e, r) : setTimeout(function() {
            c(t, n, e, r)
        }
        , 4),
        l
    }
    ,
    l.config = function(t) {
        return l(t)
    }
    ,
    requirejs._defined = p,
    define = function(t, e, r) {
        if ("string" != typeof t)
            throw new Error("See almond README: incorrect module build, no module name");
        e.splice || (r = e,
        e = []),
        n(p, t) || n(h, t) || (h[t] = [t, e, r])
    }
    ,
    define.amd = {
        jQuery: !0
    }
}
(),
define("almond", function() {}
),
define("scalejs", [], function() {
    var t;
    return {
        load: function(n, e, r, i) {
            var o;
            "extensions" === n ? i.scalejs && i.scalejs.extensions ? (t = i.scalejs.extensions,
            e(t, function() {
                r(Array.prototype.slice(arguments))
            }
            )) : e(["scalejs.extensions"], function() {
                r(Array.prototype.slice(arguments))
            }
            , function() {
                r([])
            }
            ) : 0 === n.indexOf("application") ? (o = n.substring("application".length + 1).match(/([^,]+)/g) || [],
            o = o.map(function(t) {
                return -1 === t.indexOf("/") ? "app/" + t + "/" + t + "Module" : t
            }
            ),
            o.push("scalejs.application"),
            e(["scalejs!extensions"], function() {
                e(o, function() {
                    var t = arguments[arguments.length - 1]
                      , n = Array.prototype.slice.call(arguments, 0, arguments.length - 1);
                    i.isBuild || t.registerModules.apply(null , n),
                    r(t)
                }
                )
            }
            )) : e(["scalejs." + n], function(t) {
                r(t)
            }
            )
        },
        write: function(n, e, r) {
            "scalejs" === n && 0 === e.indexOf("application") && r('define("scalejs.extensions", ' + JSON.stringify(t) + ", function () { return Array.prototype.slice(arguments); })")
        }
    }
}
),
define("scalejs.base.type", [], function() {
    function t(t) {
        if (void 0 === t)
            return "undefined";
        if (null  === t)
            return "null";
        var n, e = Object.prototype.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase();
        return "object" !== e ? e : (n = t.constructor.toString().match(/^function\s*([$A-Z_][0-9A-Z_$]*)/i),
        null  === n ? "object" : n[1])
    }
    function n(t) {
        var e, r, i, o, a = void 0, u = arguments.length, s = u - 1, c = t;
        if (0 === u)
            return !1;
        if (1 === u)
            return null  !== t && t !== a;
        if (u > 2)
            for (e = 0; s - 1 > e; e += 1) {
                if (!n(c))
                    return !1;
                c = c[arguments[e + 1]]
            }
        return r = arguments[s],
        null  === c ? null  === r || "null" === r : c === a ? r === a || "undefined" === r : "" === r ? c === r : (i = typeof r,
        "string" === i ? (o = Object.prototype.toString.call(c).slice(8, -1).toLowerCase(),
        o === r) : "function" === i ? c instanceof r : c === r)
    }
    return {
        is: n,
        typeOf: t
    }
}
),
define("scalejs.base.object", ["./scalejs.base.type"], function(t) {
    function n(t) {
        var n, e, r, i = t;
        if (!c(i))
            return !1;
        for (n = 1,
        e = arguments.length; e > n; n += 1)
            if (r = arguments[n],
            i = i[r],
            !c(i))
                return !1;
        return !0
    }
    function e(t, r) {
        var i;
        for (i in r)
            r.hasOwnProperty(i) && (t[i] = n(r, i) && n(t, i) && r[i].constructor === Object ? e(t[i], r[i]) : r[i]);
        return t
    }
    function r() {
        var t, n = arguments, r = n.length, i = {};
        for (t = 0; r > t; t += 1)
            e(i, n[t]);
        return i
    }
    function i(t) {
        return r(t)
    }
    function o(t, r, i) {
        var o, a = n(i) ? i.split(".") : [], u = t;
        for (o = 0; o < a.length; o += 1)
            n(u, a[o]) || (u[a[o]] = {}),
            u = u[a[o]];
        return e(u, r),
        u
    }
    function a(t, e, r) {
        var i, o, a = e.split("."), u = !0;
        for (i = 0; i < a.length; i += 1) {
            if (o = a[i],
            !n(t, o)) {
                u = !1;
                break
            }
            t = t[o]
        }
        return u ? t : r
    }
    function u(t, e) {
        return n(t) ? t : e
    }
    function s(t) {
        var n = [];
        return JSON.stringify(t, function(t, e) {
            if ("object" == typeof e && null  !== e) {
                if (-1 !== n.indexOf(e))
                    return "[Circular]";
                n.push(e)
            }
            return e
        }
        )
    }
    var c = t.is;
    return {
        has: n,
        valueOrDefault: u,
        merge: r,
        extend: o,
        clone: i,
        get: a,
        stringify: s
    }
}
),
define("scalejs.base.array", ["./scalejs.base.object"], function(t) {
    function n(t, n) {
        t.indexOf(n) < 0 && t.push(n)
    }
    function e(t, n) {
        var e = t.indexOf(n);
        e > -1 && t.splice(e, 1)
    }
    function r(t) {
        t.splice(0, t.length)
    }
    function i(t, n, e) {
        return n = u(n, 0),
        e = u(e, t.length),
        Array.prototype.slice.call(t, n, e)
    }
    function o(t, n, e) {
        var r, i;
        for (r = 0,
        i = t.length; i > r; r += 1)
            if (t.hasOwnProperty(r) && n.call(e, t[r], r, t))
                return t[r];
        return null 
    }
    function a(t, n, e) {
        return i(t, n, e)
    }
    var u = t.valueOrDefault;
    return {
        addOne: n,
        removeOne: e,
        removeAll: r,
        copy: i,
        find: o,
        toArray: a
    }
}
),
define("scalejs.base.log", ["./scalejs.base.object"], function(t) {
    function n(n) {
        return function() {
            var e, o;
            e = Array.prototype.slice.call(arguments, 0),
            i ? (o = n + " ",
            e.forEach(function(n) {
                o += t.stringify(n) + " "
            }
            ),
            e = [o]) : e.unshift(n),
            r.apply(this, arguments)
        }
    }
    function e(t) {
        var n = t.stack ? String(t.stack) : ""
          , e = t.message || "";
        return "Error: " + e + "\nStack: " + n
    }
    var r = Function.prototype.call.bind(console.log, console)
      , i = navigator.userAgent.indexOf("MSIE") > 0 || navigator.userAgent.indexOf("Trident") > 0;
    return {
        log: n("      "),
        info: n("info: "),
        error: n("error:"),
        warn: n("warn: "),
        debug: n("debug:"),
        formatException: e
    }
}
),
define("scalejs.base", ["./scalejs.base.array", "./scalejs.base.log", "./scalejs.base.object", "./scalejs.base.type"], function(t, n, e, r) {
    return {
        type: r,
        object: e,
        array: t,
        log: n
    }
}
),
define("scalejs.core", ["./scalejs.base"], function(t) {
    function n(t) {
        try {
            var n;
            if (u(t, "buildCore", "function"))
                return t.buildCore(f),
                void c(d, t);
            n = u(t, "function") ? t(f) : a(t, "core") ? t.core : t,
            n && (s(f, n),
            c(d, t))
        } catch (e) {
            l("Fatal error during application initialization. ", 'Failed to build core with extension "', t, "See following exception for more details.", e)
        }
    }
    function e(t) {
        if (!a(t))
            throw new Error("Sandbox name is required to build a sandbox.");
        var n = {
            type: f.type,
            object: f.object,
            array: f.array,
            log: f.log
        };
        return d.forEach(function(t) {
            try {
                u(t, "buildSandbox", "function") ? t.buildSandbox(n) : a(t, "sandbox") ? s(n, t.sandbox) : s(n, t)
            } catch (e) {
                throw l("Fatal error during application initialization. ", 'Failed to build sandbox with extension "', t, "See following exception for more details.", e),
                e
            }
        }
        ),
        n
    }
    function r(t) {
        p.push(t)
    }
    function i() {
        h || (h = !0,
        p.forEach(function(t) {
            t("started")
        }
        ))
    }
    function o() {
        h && (h = !1,
        p.forEach(function(t) {
            t("stopped")
        }
        ))
    }
    var a = t.object.has
      , u = t.type.is
      , s = t.object.extend
      , c = t.array.addOne
      , l = t.log.error
      , f = {}
      , d = []
      , p = []
      , h = !1;
    return Object.defineProperty(f, "STARTED", {
        value: "started",
        writable: !1
    }),
    Object.defineProperty(f, "STOPPED", {
        value: "stopped",
        writable: !1
    }),
    s(f, {
        type: t.type,
        object: t.object,
        array: t.array,
        log: t.log,
        buildSandbox: e,
        notifyApplicationStarted: i,
        notifyApplicationStopped: o,
        onApplicationEvent: r,
        registerExtension: n,
        isApplicationRunning: function() {
            return h
        }
    })
}
),
define("scalejs.application", ["scalejs!core"], function(t) {
    function n() {
        if (t.isApplicationRunning())
            throw new Error("Can't register module since the application is already running.","Dynamic module loading is not supported.");
        Array.prototype.push.apply(d, c(arguments).filter(function(t) {
            return t
        }
        ))
    }
    function e(t) {
        var n, e;
        if ("function" == typeof t)
            try {
                n = t()
            } catch (r) {
                e = t.getId ? t.getId() : t.name,
                l('Failed to create an instance of module "' + e + '".', "Application will continue running without the module. See following exception stack for more details.", r.stack)
            }
        else
            n = t;
        return s(p, n),
        n
    }
    function r() {
        d.forEach(e)
    }
    function i() {
        f("Application started."),
        t.notifyApplicationStarted()
    }
    function o() {
        f("Application exited."),
        t.notifyApplicationStopped()
    }
    function a() {
        r(),
        i()
    }
    function u() {
        o()
    }
    var s = t.array.addOne
      , c = t.array.toArray
      , l = t.log.error
      , f = t.log.debug
      , d = []
      , p = [];
    return {
        registerModules: n,
        run: a,
        exit: u
    }
}
),
define("scalejs.sandbox", [], function() {
    return {
        load: function(t, n, e, r) {
            n(["scalejs!core", "scalejs!extensions"], function(n) {
                if (r.isBuild)
                    e();
                else {
                    var i = n.buildSandbox(t);
                    e(i)
                }
            }
            )
        }
    }
}
),
function() {
    function t(t) {
        function n(n, e, r, i, o, a) {
            for (; o >= 0 && a > o; o += t) {
                var u = i ? i[o] : o;
                r = e(r, n[u], u, n)
            }
            return r
        }
        return function(e, r, i, o) {
            r = y(r, o, 4);
            var a = !M(e) && b.keys(e)
              , u = (a || e).length
              , s = t > 0 ? 0 : u - 1;
            return arguments.length < 3 && (i = e[a ? a[s] : s],
            s += t),
            n(e, r, i, a, s, u)
        }
    }
    function n(t) {
        return function(n, e, r) {
            e = w(e, r);
            for (var i = S(n), o = t > 0 ? 0 : i - 1; o >= 0 && i > o; o += t)
                if (e(n[o], o, n))
                    return o;
            return -1
        }
    }
    function e(t, n, e) {
        return function(r, i, o) {
            var a = 0
              , u = S(r);
            if ("number" == typeof o)
                t > 0 ? a = o >= 0 ? o : Math.max(o + u, a) : u = o >= 0 ? Math.min(o + 1, u) : o + u + 1;
            else if (e && o && u)
                return o = e(r, i),
                r[o] === i ? o : -1;
            if (i !== i)
                return o = n(l.call(r, a, u), b.isNaN),
                o >= 0 ? o + a : -1;
            for (o = t > 0 ? a : u - 1; o >= 0 && u > o; o += t)
                if (r[o] === i)
                    return o;
            return -1
        }
    }
    function r(t, n) {
        var e = N.length
          , r = t.constructor
          , i = b.isFunction(r) && r.prototype || u
          , o = "constructor";
        for (b.has(t, o) && !b.contains(n, o) && n.push(o); e--; )
            o = N[e],
            o in t && t[o] !== i[o] && !b.contains(n, o) && n.push(o)
    }
    var i = this
      , o = i._
      , a = Array.prototype
      , u = Object.prototype
      , s = Function.prototype
      , c = a.push
      , l = a.slice
      , f = u.toString
      , d = u.hasOwnProperty
      , p = Array.isArray
      , h = Object.keys
      , m = s.bind
      , v = Object.create
      , g = function() {}
      , b = function(t) {
        return t instanceof b ? t : this instanceof b ? void (this._wrapped = t) : new b(t)
    }
    ;
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = b),
    exports._ = b) : i._ = b,
    b.VERSION = "1.8.3";
    var y = function(t, n, e) {
        if (void 0 === n)
            return t;
        switch (null  == e ? 3 : e) {
        case 1:
            return function(e) {
                return t.call(n, e)
            }
            ;
        case 2:
            return function(e, r) {
                return t.call(n, e, r)
            }
            ;
        case 3:
            return function(e, r, i) {
                return t.call(n, e, r, i)
            }
            ;
        case 4:
            return function(e, r, i, o) {
                return t.call(n, e, r, i, o)
            }
        }
        return function() {
            return t.apply(n, arguments)
        }
    }
      , w = function(t, n, e) {
        return null  == t ? b.identity : b.isFunction(t) ? y(t, n, e) : b.isObject(t) ? b.matcher(t) : b.property(t)
    }
    ;
    b.iteratee = function(t, n) {
        return w(t, n, 1 / 0)
    }
    ;
    var x = function(t, n) {
        return function(e) {
            var r = arguments.length;
            if (2 > r || null  == e)
                return e;
            for (var i = 1; r > i; i++)
                for (var o = arguments[i], a = t(o), u = a.length, s = 0; u > s; s++) {
                    var c = a[s];
                    n && void 0 !== e[c] || (e[c] = o[c])
                }
            return e
        }
    }
      , E = function(t) {
        if (!b.isObject(t))
            return {};
        if (v)
            return v(t);
        g.prototype = t;
        var n = new g;
        return g.prototype = null ,
        n
    }
      , _ = function(t) {
        return function(n) {
            return null  == n ? void 0 : n[t]
        }
    }
      , C = Math.pow(2, 53) - 1
      , S = _("length")
      , M = function(t) {
        var n = S(t);
        return "number" == typeof n && n >= 0 && C >= n
    }
    ;
    b.each = b.forEach = function(t, n, e) {
        n = y(n, e);
        var r, i;
        if (M(t))
            for (r = 0,
            i = t.length; i > r; r++)
                n(t[r], r, t);
        else {
            var o = b.keys(t);
            for (r = 0,
            i = o.length; i > r; r++)
                n(t[o[r]], o[r], t)
        }
        return t
    }
    ,
    b.map = b.collect = function(t, n, e) {
        n = w(n, e);
        for (var r = !M(t) && b.keys(t), i = (r || t).length, o = Array(i), a = 0; i > a; a++) {
            var u = r ? r[a] : a;
            o[a] = n(t[u], u, t)
        }
        return o
    }
    ,
    b.reduce = b.foldl = b.inject = t(1),
    b.reduceRight = b.foldr = t(-1),
    b.find = b.detect = function(t, n, e) {
        var r;
        return r = M(t) ? b.findIndex(t, n, e) : b.findKey(t, n, e),
        void 0 !== r && -1 !== r ? t[r] : void 0
    }
    ,
    b.filter = b.select = function(t, n, e) {
        var r = [];
        return n = w(n, e),
        b.each(t, function(t, e, i) {
            n(t, e, i) && r.push(t)
        }
        ),
        r
    }
    ,
    b.reject = function(t, n, e) {
        return b.filter(t, b.negate(w(n)), e)
    }
    ,
    b.every = b.all = function(t, n, e) {
        n = w(n, e);
        for (var r = !M(t) && b.keys(t), i = (r || t).length, o = 0; i > o; o++) {
            var a = r ? r[o] : o;
            if (!n(t[a], a, t))
                return !1
        }
        return !0
    }
    ,
    b.some = b.any = function(t, n, e) {
        n = w(n, e);
        for (var r = !M(t) && b.keys(t), i = (r || t).length, o = 0; i > o; o++) {
            var a = r ? r[o] : o;
            if (n(t[a], a, t))
                return !0
        }
        return !1
    }
    ,
    b.contains = b.includes = b.include = function(t, n, e, r) {
        return M(t) || (t = b.values(t)),
        ("number" != typeof e || r) && (e = 0),
        b.indexOf(t, n, e) >= 0
    }
    ,
    b.invoke = function(t, n) {
        var e = l.call(arguments, 2)
          , r = b.isFunction(n);
        return b.map(t, function(t) {
            var i = r ? n : t[n];
            return null  == i ? i : i.apply(t, e)
        }
        )
    }
    ,
    b.pluck = function(t, n) {
        return b.map(t, b.property(n))
    }
    ,
    b.where = function(t, n) {
        return b.filter(t, b.matcher(n))
    }
    ,
    b.findWhere = function(t, n) {
        return b.find(t, b.matcher(n))
    }
    ,
    b.max = function(t, n, e) {
        var r, i, o = -(1 / 0), a = -(1 / 0);
        if (null  == n && null  != t) {
            t = M(t) ? t : b.values(t);
            for (var u = 0, s = t.length; s > u; u++)
                r = t[u],
                r > o && (o = r)
        } else
            n = w(n, e),
            b.each(t, function(t, e, r) {
                i = n(t, e, r),
                (i > a || i === -(1 / 0) && o === -(1 / 0)) && (o = t,
                a = i)
            }
            );
        return o
    }
    ,
    b.min = function(t, n, e) {
        var r, i, o = 1 / 0, a = 1 / 0;
        if (null  == n && null  != t) {
            t = M(t) ? t : b.values(t);
            for (var u = 0, s = t.length; s > u; u++)
                r = t[u],
                o > r && (o = r)
        } else
            n = w(n, e),
            b.each(t, function(t, e, r) {
                i = n(t, e, r),
                (a > i || i === 1 / 0 && o === 1 / 0) && (o = t,
                a = i)
            }
            );
        return o
    }
    ,
    b.shuffle = function(t) {
        for (var n, e = M(t) ? t : b.values(t), r = e.length, i = Array(r), o = 0; r > o; o++)
            n = b.random(0, o),
            n !== o && (i[o] = i[n]),
            i[n] = e[o];
        return i
    }
    ,
    b.sample = function(t, n, e) {
        return null  == n || e ? (M(t) || (t = b.values(t)),
        t[b.random(t.length - 1)]) : b.shuffle(t).slice(0, Math.max(0, n))
    }
    ,
    b.sortBy = function(t, n, e) {
        return n = w(n, e),
        b.pluck(b.map(t, function(t, e, r) {
            return {
                value: t,
                index: e,
                criteria: n(t, e, r)
            }
        }
        ).sort(function(t, n) {
            var e = t.criteria
              , r = n.criteria;
            if (e !== r) {
                if (e > r || void 0 === e)
                    return 1;
                if (r > e || void 0 === r)
                    return -1
            }
            return t.index - n.index
        }
        ), "value")
    }
    ;
    var k = function(t) {
        return function(n, e, r) {
            var i = {};
            return e = w(e, r),
            b.each(n, function(r, o) {
                var a = e(r, o, n);
                t(i, r, a)
            }
            ),
            i
        }
    }
    ;
    b.groupBy = k(function(t, n, e) {
        b.has(t, e) ? t[e].push(n) : t[e] = [n]
    }
    ),
    b.indexBy = k(function(t, n, e) {
        t[e] = n
    }
    ),
    b.countBy = k(function(t, n, e) {
        b.has(t, e) ? t[e]++ : t[e] = 1
    }
    ),
    b.toArray = function(t) {
        return t ? b.isArray(t) ? l.call(t) : M(t) ? b.map(t, b.identity) : b.values(t) : []
    }
    ,
    b.size = function(t) {
        return null  == t ? 0 : M(t) ? t.length : b.keys(t).length
    }
    ,
    b.partition = function(t, n, e) {
        n = w(n, e);
        var r = []
          , i = [];
        return b.each(t, function(t, e, o) {
            (n(t, e, o) ? r : i).push(t)
        }
        ),
        [r, i]
    }
    ,
    b.first = b.head = b.take = function(t, n, e) {
        return null  == t ? void 0 : null  == n || e ? t[0] : b.initial(t, t.length - n)
    }
    ,
    b.initial = function(t, n, e) {
        return l.call(t, 0, Math.max(0, t.length - (null  == n || e ? 1 : n)))
    }
    ,
    b.last = function(t, n, e) {
        return null  == t ? void 0 : null  == n || e ? t[t.length - 1] : b.rest(t, Math.max(0, t.length - n))
    }
    ,
    b.rest = b.tail = b.drop = function(t, n, e) {
        return l.call(t, null  == n || e ? 1 : n)
    }
    ,
    b.compact = function(t) {
        return b.filter(t, b.identity)
    }
    ;
    var A = function(t, n, e, r) {
        for (var i = [], o = 0, a = r || 0, u = S(t); u > a; a++) {
            var s = t[a];
            if (M(s) && (b.isArray(s) || b.isArguments(s))) {
                n || (s = A(s, n, e));
                var c = 0
                  , l = s.length;
                for (i.length += l; l > c; )
                    i[o++] = s[c++]
            } else
                e || (i[o++] = s)
        }
        return i
    }
    ;
    b.flatten = function(t, n) {
        return A(t, n, !1)
    }
    ,
    b.without = function(t) {
        return b.difference(t, l.call(arguments, 1))
    }
    ,
    b.uniq = b.unique = function(t, n, e, r) {
        b.isBoolean(n) || (r = e,
        e = n,
        n = !1),
        null  != e && (e = w(e, r));
        for (var i = [], o = [], a = 0, u = S(t); u > a; a++) {
            var s = t[a]
              , c = e ? e(s, a, t) : s;
            n ? (a && o === c || i.push(s),
            o = c) : e ? b.contains(o, c) || (o.push(c),
            i.push(s)) : b.contains(i, s) || i.push(s)
        }
        return i
    }
    ,
    b.union = function() {
        return b.uniq(A(arguments, !0, !0))
    }
    ,
    b.intersection = function(t) {
        for (var n = [], e = arguments.length, r = 0, i = S(t); i > r; r++) {
            var o = t[r];
            if (!b.contains(n, o)) {
                for (var a = 1; e > a && b.contains(arguments[a], o); a++)
                    ;
                a === e && n.push(o)
            }
        }
        return n
    }
    ,
    b.difference = function(t) {
        var n = A(arguments, !0, !0, 1);
        return b.filter(t, function(t) {
            return !b.contains(n, t)
        }
        )
    }
    ,
    b.zip = function() {
        return b.unzip(arguments)
    }
    ,
    b.unzip = function(t) {
        for (var n = t && b.max(t, S).length || 0, e = Array(n), r = 0; n > r; r++)
            e[r] = b.pluck(t, r);
        return e
    }
    ,
    b.object = function(t, n) {
        for (var e = {}, r = 0, i = S(t); i > r; r++)
            n ? e[t[r]] = n[r] : e[t[r][0]] = t[r][1];
        return e
    }
    ,
    b.findIndex = n(1),
    b.findLastIndex = n(-1),
    b.sortedIndex = function(t, n, e, r) {
        e = w(e, r, 1);
        for (var i = e(n), o = 0, a = S(t); a > o; ) {
            var u = Math.floor((o + a) / 2);
            e(t[u]) < i ? o = u + 1 : a = u
        }
        return o
    }
    ,
    b.indexOf = e(1, b.findIndex, b.sortedIndex),
    b.lastIndexOf = e(-1, b.findLastIndex),
    b.range = function(t, n, e) {
        null  == n && (n = t || 0,
        t = 0),
        e = e || 1;
        for (var r = Math.max(Math.ceil((n - t) / e), 0), i = Array(r), o = 0; r > o; o++,
        t += e)
            i[o] = t;
        return i
    }
    ;
    var P = function(t, n, e, r, i) {
        if (!(r instanceof n))
            return t.apply(e, i);
        var o = E(t.prototype)
          , a = t.apply(o, i);
        return b.isObject(a) ? a : o
    }
    ;
    b.bind = function(t, n) {
        if (m && t.bind === m)
            return m.apply(t, l.call(arguments, 1));
        if (!b.isFunction(t))
            throw new TypeError("Bind must be called on a function");
        var e = l.call(arguments, 2)
          , r = function() {
            return P(t, r, n, this, e.concat(l.call(arguments)))
        }
        ;
        return r
    }
    ,
    b.partial = function(t) {
        var n = l.call(arguments, 1)
          , e = function() {
            for (var r = 0, i = n.length, o = Array(i), a = 0; i > a; a++)
                o[a] = n[a] === b ? arguments[r++] : n[a];
            for (; r < arguments.length; )
                o.push(arguments[r++]);
            return P(t, e, this, this, o)
        }
        ;
        return e
    }
    ,
    b.bindAll = function(t) {
        var n, e, r = arguments.length;
        if (1 >= r)
            throw new Error("bindAll must be passed function names");
        for (n = 1; r > n; n++)
            e = arguments[n],
            t[e] = b.bind(t[e], t);
        return t
    }
    ,
    b.memoize = function(t, n) {
        var e = function(r) {
            var i = e.cache
              , o = "" + (n ? n.apply(this, arguments) : r);
            return b.has(i, o) || (i[o] = t.apply(this, arguments)),
            i[o]
        }
        ;
        return e.cache = {},
        e
    }
    ,
    b.delay = function(t, n) {
        var e = l.call(arguments, 2);
        return setTimeout(function() {
            return t.apply(null , e)
        }
        , n)
    }
    ,
    b.defer = b.partial(b.delay, b, 1),
    b.throttle = function(t, n, e) {
        var r, i, o, a = null , u = 0;
        e || (e = {});
        var s = function() {
            u = e.leading === !1 ? 0 : b.now(),
            a = null ,
            o = t.apply(r, i),
            a || (r = i = null )
        }
        ;
        return function() {
            var c = b.now();
            u || e.leading !== !1 || (u = c);
            var l = n - (c - u);
            return r = this,
            i = arguments,
            0 >= l || l > n ? (a && (clearTimeout(a),
            a = null ),
            u = c,
            o = t.apply(r, i),
            a || (r = i = null )) : a || e.trailing === !1 || (a = setTimeout(s, l)),
            o
        }
    }
    ,
    b.debounce = function(t, n, e) {
        var r, i, o, a, u, s = function() {
            var c = b.now() - a;
            n > c && c >= 0 ? r = setTimeout(s, n - c) : (r = null ,
            e || (u = t.apply(o, i),
            r || (o = i = null )))
        }
        ;
        return function() {
            o = this,
            i = arguments,
            a = b.now();
            var c = e && !r;
            return r || (r = setTimeout(s, n)),
            c && (u = t.apply(o, i),
            o = i = null ),
            u
        }
    }
    ,
    b.wrap = function(t, n) {
        return b.partial(n, t)
    }
    ,
    b.negate = function(t) {
        return function() {
            return !t.apply(this, arguments)
        }
    }
    ,
    b.compose = function() {
        var t = arguments
          , n = t.length - 1;
        return function() {
            for (var e = n, r = t[n].apply(this, arguments); e--; )
                r = t[e].call(this, r);
            return r
        }
    }
    ,
    b.after = function(t, n) {
        return function() {
            return --t < 1 ? n.apply(this, arguments) : void 0
        }
    }
    ,
    b.before = function(t, n) {
        var e;
        return function() {
            return --t > 0 && (e = n.apply(this, arguments)),
            1 >= t && (n = null ),
            e
        }
    }
    ,
    b.once = b.partial(b.before, 2);
    var T = !{
        toString: null 
    }.propertyIsEnumerable("toString")
      , N = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
    b.keys = function(t) {
        if (!b.isObject(t))
            return [];
        if (h)
            return h(t);
        var n = [];
        for (var e in t)
            b.has(t, e) && n.push(e);
        return T && r(t, n),
        n
    }
    ,
    b.allKeys = function(t) {
        if (!b.isObject(t))
            return [];
        var n = [];
        for (var e in t)
            n.push(e);
        return T && r(t, n),
        n
    }
    ,
    b.values = function(t) {
        for (var n = b.keys(t), e = n.length, r = Array(e), i = 0; e > i; i++)
            r[i] = t[n[i]];
        return r
    }
    ,
    b.mapObject = function(t, n, e) {
        n = w(n, e);
        for (var r, i = b.keys(t), o = i.length, a = {}, u = 0; o > u; u++)
            r = i[u],
            a[r] = n(t[r], r, t);
        return a
    }
    ,
    b.pairs = function(t) {
        for (var n = b.keys(t), e = n.length, r = Array(e), i = 0; e > i; i++)
            r[i] = [n[i], t[n[i]]];
        return r
    }
    ,
    b.invert = function(t) {
        for (var n = {}, e = b.keys(t), r = 0, i = e.length; i > r; r++)
            n[t[e[r]]] = e[r];
        return n
    }
    ,
    b.functions = b.methods = function(t) {
        var n = [];
        for (var e in t)
            b.isFunction(t[e]) && n.push(e);
        return n.sort()
    }
    ,
    b.extend = x(b.allKeys),
    b.extendOwn = b.assign = x(b.keys),
    b.findKey = function(t, n, e) {
        n = w(n, e);
        for (var r, i = b.keys(t), o = 0, a = i.length; a > o; o++)
            if (r = i[o],
            n(t[r], r, t))
                return r
    }
    ,
    b.pick = function(t, n, e) {
        var r, i, o = {}, a = t;
        if (null  == a)
            return o;
        b.isFunction(n) ? (i = b.allKeys(a),
        r = y(n, e)) : (i = A(arguments, !1, !1, 1),
        r = function(t, n, e) {
            return n in e
        }
        ,
        a = Object(a));
        for (var u = 0, s = i.length; s > u; u++) {
            var c = i[u]
              , l = a[c];
            r(l, c, a) && (o[c] = l)
        }
        return o
    }
    ,
    b.omit = function(t, n, e) {
        if (b.isFunction(n))
            n = b.negate(n);
        else {
            var r = b.map(A(arguments, !1, !1, 1), String);
            n = function(t, n) {
                return !b.contains(r, n)
            }
        }
        return b.pick(t, n, e)
    }
    ,
    b.defaults = x(b.allKeys, !0),
    b.create = function(t, n) {
        var e = E(t);
        return n && b.extendOwn(e, n),
        e
    }
    ,
    b.clone = function(t) {
        return b.isObject(t) ? b.isArray(t) ? t.slice() : b.extend({}, t) : t
    }
    ,
    b.tap = function(t, n) {
        return n(t),
        t
    }
    ,
    b.isMatch = function(t, n) {
        var e = b.keys(n)
          , r = e.length;
        if (null  == t)
            return !r;
        for (var i = Object(t), o = 0; r > o; o++) {
            var a = e[o];
            if (n[a] !== i[a] || !(a in i))
                return !1
        }
        return !0
    }
    ;
    var D = function(t, n, e, r) {
        if (t === n)
            return 0 !== t || 1 / t === 1 / n;
        if (null  == t || null  == n)
            return t === n;
        t instanceof b && (t = t._wrapped),
        n instanceof b && (n = n._wrapped);
        var i = f.call(t);
        if (i !== f.call(n))
            return !1;
        switch (i) {
        case "[object RegExp]":
        case "[object String]":
            return "" + t == "" + n;
        case "[object Number]":
            return +t !== +t ? +n !== +n : 0 === +t ? 1 / +t === 1 / n : +t === +n;
        case "[object Date]":
        case "[object Boolean]":
            return +t === +n
        }
        var o = "[object Array]" === i;
        if (!o) {
            if ("object" != typeof t || "object" != typeof n)
                return !1;
            var a = t.constructor
              , u = n.constructor;
            if (a !== u && !(b.isFunction(a) && a instanceof a && b.isFunction(u) && u instanceof u) && "constructor" in t && "constructor" in n)
                return !1
        }
        e = e || [],
        r = r || [];
        for (var s = e.length; s--; )
            if (e[s] === t)
                return r[s] === n;
        if (e.push(t),
        r.push(n),
        o) {
            if (s = t.length,
            s !== n.length)
                return !1;
            for (; s--; )
                if (!D(t[s], n[s], e, r))
                    return !1
        } else {
            var c, l = b.keys(t);
            if (s = l.length,
            b.keys(n).length !== s)
                return !1;
            for (; s--; )
                if (c = l[s],
                !b.has(n, c) || !D(t[c], n[c], e, r))
                    return !1
        }
        return e.pop(),
        r.pop(),
        !0
    }
    ;
    b.isEqual = function(t, n) {
        return D(t, n)
    }
    ,
    b.isEmpty = function(t) {
        return null  == t ? !0 : M(t) && (b.isArray(t) || b.isString(t) || b.isArguments(t)) ? 0 === t.length : 0 === b.keys(t).length
    }
    ,
    b.isElement = function(t) {
        return !(!t || 1 !== t.nodeType)
    }
    ,
    b.isArray = p || function(t) {
        return "[object Array]" === f.call(t)
    }
    ,
    b.isObject = function(t) {
        var n = typeof t;
        return "function" === n || "object" === n && !!t
    }
    ,
    b.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(t) {
        b["is" + t] = function(n) {
            return f.call(n) === "[object " + t + "]"
        }
    }
    ),
    b.isArguments(arguments) || (b.isArguments = function(t) {
        return b.has(t, "callee")
    }
    ),
    "function" != typeof /./ && "object" != typeof Int8Array && (b.isFunction = function(t) {
        return "function" == typeof t || !1
    }
    ),
    b.isFinite = function(t) {
        return isFinite(t) && !isNaN(parseFloat(t))
    }
    ,
    b.isNaN = function(t) {
        return b.isNumber(t) && t !== +t
    }
    ,
    b.isBoolean = function(t) {
        return t === !0 || t === !1 || "[object Boolean]" === f.call(t)
    }
    ,
    b.isNull = function(t) {
        return null  === t
    }
    ,
    b.isUndefined = function(t) {
        return void 0 === t
    }
    ,
    b.has = function(t, n) {
        return null  != t && d.call(t, n)
    }
    ,
    b.noConflict = function() {
        return i._ = o,
        this
    }
    ,
    b.identity = function(t) {
        return t
    }
    ,
    b.constant = function(t) {
        return function() {
            return t
        }
    }
    ,
    b.noop = function() {}
    ,
    b.property = _,
    b.propertyOf = function(t) {
        return null  == t ? function() {}
         : function(n) {
            return t[n]
        }
    }
    ,
    b.matcher = b.matches = function(t) {
        return t = b.extendOwn({}, t),
        function(n) {
            return b.isMatch(n, t)
        }
    }
    ,
    b.times = function(t, n, e) {
        var r = Array(Math.max(0, t));
        n = y(n, e, 1);
        for (var i = 0; t > i; i++)
            r[i] = n(i);
        return r
    }
    ,
    b.random = function(t, n) {
        return null  == n && (n = t,
        t = 0),
        t + Math.floor(Math.random() * (n - t + 1))
    }
    ,
    b.now = Date.now || function() {
        return (new Date).getTime()
    }
    ;
    var j = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }
      , O = b.invert(j)
      , I = function(t) {
        var n = function(n) {
            return t[n]
        }
          , e = "(?:" + b.keys(t).join("|") + ")"
          , r = RegExp(e)
          , i = RegExp(e, "g");
        return function(t) {
            return t = null  == t ? "" : "" + t,
            r.test(t) ? t.replace(i, n) : t
        }
    }
    ;
    b.escape = I(j),
    b.unescape = I(O),
    b.result = function(t, n, e) {
        var r = null  == t ? void 0 : t[n];
        return void 0 === r && (r = e),
        b.isFunction(r) ? r.call(t) : r
    }
    ;
    var R = 0;
    b.uniqueId = function(t) {
        var n = ++R + "";
        return t ? t + n : n
    }
    ,
    b.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var L = /(.)^/
      , z = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }
      , q = /\\|'|\r|\n|\u2028|\u2029/g
      , B = function(t) {
        return "\\" + z[t]
    }
    ;
    b.template = function(t, n, e) {
        !n && e && (n = e),
        n = b.defaults({}, n, b.templateSettings);
        var r = RegExp([(n.escape || L).source, (n.interpolate || L).source, (n.evaluate || L).source].join("|") + "|$", "g")
          , i = 0
          , o = "__p+='";
        t.replace(r, function(n, e, r, a, u) {
            return o += t.slice(i, u).replace(q, B),
            i = u + n.length,
            e ? o += "'+\n((__t=(" + e + "))==null?'':_.escape(__t))+\n'" : r ? o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : a && (o += "';\n" + a + "\n__p+='"),
            n
        }
        ),
        o += "';\n",
        n.variable || (o = "with(obj||{}){\n" + o + "}\n"),
        o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
        try {
            var a = new Function(n.variable || "obj","_",o)
        } catch (u) {
            throw u.source = o,
            u
        }
        var s = function(t) {
            return a.call(this, t, b)
        }
          , c = n.variable || "obj";
        return s.source = "function(" + c + "){\n" + o + "}",
        s
    }
    ,
    b.chain = function(t) {
        var n = b(t);
        return n._chain = !0,
        n
    }
    ;
    var W = function(t, n) {
        return t._chain ? b(n).chain() : n
    }
    ;
    b.mixin = function(t) {
        b.each(b.functions(t), function(n) {
            var e = b[n] = t[n];
            b.prototype[n] = function() {
                var t = [this._wrapped];
                return c.apply(t, arguments),
                W(this, e.apply(b, t))
            }
        }
        )
    }
    ,
    b.mixin(b),
    b.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(t) {
        var n = a[t];
        b.prototype[t] = function() {
            var e = this._wrapped;
            return n.apply(e, arguments),
            "shift" !== t && "splice" !== t || 0 !== e.length || delete e[0],
            W(this, e)
        }
    }
    ),
    b.each(["concat", "join", "slice"], function(t) {
        var n = a[t];
        b.prototype[t] = function() {
            return W(this, n.apply(this._wrapped, arguments))
        }
    }
    ),
    b.prototype.value = function() {
        return this._wrapped
    }
    ,
    b.prototype.valueOf = b.prototype.toJSON = b.prototype.value,
    b.prototype.toString = function() {
        return "" + this._wrapped
    }
    ,
    "function" == typeof define && define.amd && define("underscore", [], function() {
        return b
    }
    )
}
.call(this),
define("backend", ["scalejs!core", "underscore"], function(t, n) {
    "use strict";
    function e(t, n) {
        try {
            t && t.length > 0 && (t = JSON.parse(t))
        } catch (e) {
            return n(e)
        }
        n(null , t)
    }
    function r(t, n, r, i) {
        var o = new XMLHttpRequest;
        o.onreadystatechange = function() {
            return 4 === o.readyState ? 200 !== o.status ? i("request failed with status " + o.status) : void e(o.responseText, i) : void 0
        }
        ;
        var a = o.abort.bind(o);
        return o.abort = function() {
            i(null , []),
            a()
        }
        ,
        o.open(t, s + n, !0),
        r ? (o.setRequestHeader("Content-type", "application/x-www-form-urlencoded"),
        o.setRequestHeader("Content-length", r.length),
        o.setRequestHeader("Connection", "close"),
        o.send(r)) : o.send(),
        o
    }
    function i(t, e) {
        return e = n.once(e),
        r("GET", t, null , e)
    }
    function o(t, e) {
        return e = n.once(e),
        r("POST", t, null , e)
    }
    function a(t, e, i) {
        return i = n.once(i),
        r("POST", t, e, i)
    }
    var u = "https://mobile.eikospartners.com";
    null  !== window.service && (u = window.service);
    var s = u;
    t.registerExtension({
        query: i,
        post: o,
        postForm: a
    })
}
),
function() {
    !function(t) {
        var n = this || (0,
        eval)("this")
          , e = n.document
          , r = n.navigator
          , i = n.jQuery
          , o = n.JSON;
        !function(t) {
            "function" == typeof define && define.amd ? define("knockout", ["exports", "require"], t) : t("function" == typeof require && "object" == typeof exports && "object" == typeof module ? module.exports || exports : n.ko = {})
        }
        (function(a, u) {
            function s(t, n) {
                return null  === t || typeof t in p ? t === n : !1
            }
            function c(n, e) {
                var r;
                return function() {
                    r || (r = setTimeout(function() {
                        r = t,
                        n()
                    }
                    , e))
                }
            }
            function l(t, n) {
                var e;
                return function() {
                    clearTimeout(e),
                    e = setTimeout(t, n)
                }
            }
            function f(t, n, e, r) {
                d.d[t] = {
                    init: function(t, i, o, a, u) {
                        var s, c;
                        return d.w(function() {
                            var o = d.a.c(i())
                              , a = !e != !o
                              , l = !c;
                            (l || n || a !== s) && (l && d.Z.oa() && (c = d.a.la(d.e.childNodes(t), !0)),
                            a ? (l || d.e.T(t, d.a.la(c)),
                            d.Ja(r ? r(u, o) : u, t)) : d.e.ma(t),
                            s = a)
                        }
                        , null , {
                            q: t
                        }),
                        {
                            controlsDescendantBindings: !0
                        }
                    }
                },
                d.h.ka[t] = !1,
                d.e.R[t] = !0
            }
            var d = "undefined" != typeof a ? a : {};
            d.b = function(t, n) {
                for (var e = t.split("."), r = d, i = 0; i < e.length - 1; i++)
                    r = r[e[i]];
                r[e[e.length - 1]] = n
            }
            ,
            d.D = function(t, n, e) {
                t[n] = e
            }
            ,
            d.version = "3.3.0",
            d.b("version", d.version),
            d.a = function() {
                function a(t, n) {
                    for (var e in t)
                        t.hasOwnProperty(e) && n(e, t[e])
                }
                function u(t, n) {
                    if (n)
                        for (var e in n)
                            n.hasOwnProperty(e) && (t[e] = n[e]);
                    return t
                }
                function s(t, n) {
                    return t.__proto__ = n,
                    t
                }
                function c(t, n, e, r) {
                    var i = t[n].match(v) || [];
                    d.a.o(e.match(v), function(t) {
                        d.a.ga(i, t, r)
                    }
                    ),
                    t[n] = i.join(" ")
                }
                var l = {
                    __proto__: []
                } instanceof Array
                  , f = {}
                  , p = {};
                f[r && /Firefox\/2/i.test(r.userAgent) ? "KeyboardEvent" : "UIEvents"] = ["keyup", "keydown", "keypress"],
                f.MouseEvents = "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),
                a(f, function(t, n) {
                    if (n.length)
                        for (var e = 0, r = n.length; r > e; e++)
                            p[n[e]] = t
                }
                );
                var h = {
                    propertychange: !0
                }
                  , m = e && function() {
                    for (var n = 3, r = e.createElement("div"), i = r.getElementsByTagName("i"); r.innerHTML = "<!--[if gt IE " + ++n + "]><i></i><![endif]-->",
                    i[0]; )
                        ;
                    return n > 4 ? n : t
                }
                ()
                  , v = /\S+/g;
                return {
                    Bb: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/],
                    o: function(t, n) {
                        for (var e = 0, r = t.length; r > e; e++)
                            n(t[e], e)
                    },
                    m: function(t, n) {
                        if ("function" == typeof Array.prototype.indexOf)
                            return Array.prototype.indexOf.call(t, n);
                        for (var e = 0, r = t.length; r > e; e++)
                            if (t[e] === n)
                                return e;
                        return -1
                    },
                    vb: function(t, n, e) {
                        for (var r = 0, i = t.length; i > r; r++)
                            if (n.call(e, t[r], r))
                                return t[r];
                        return null 
                    },
                    ya: function(t, n) {
                        var e = d.a.m(t, n);
                        e > 0 ? t.splice(e, 1) : 0 === e && t.shift()
                    },
                    wb: function(t) {
                        t = t || [];
                        for (var n = [], e = 0, r = t.length; r > e; e++)
                            0 > d.a.m(n, t[e]) && n.push(t[e]);
                        return n
                    },
                    Ka: function(t, n) {
                        t = t || [];
                        for (var e = [], r = 0, i = t.length; i > r; r++)
                            e.push(n(t[r], r));
                        return e
                    },
                    xa: function(t, n) {
                        t = t || [];
                        for (var e = [], r = 0, i = t.length; i > r; r++)
                            n(t[r], r) && e.push(t[r]);
                        return e
                    },
                    ia: function(t, n) {
                        if (n instanceof Array)
                            t.push.apply(t, n);
                        else
                            for (var e = 0, r = n.length; r > e; e++)
                                t.push(n[e]);
                        return t
                    },
                    ga: function(t, n, e) {
                        var r = d.a.m(d.a.cb(t), n);
                        0 > r ? e && t.push(n) : e || t.splice(r, 1)
                    },
                    za: l,
                    extend: u,
                    Fa: s,
                    Ga: l ? s : u,
                    A: a,
                    pa: function(t, n) {
                        if (!t)
                            return t;
                        var e, r = {};
                        for (e in t)
                            t.hasOwnProperty(e) && (r[e] = n(t[e], e, t));
                        return r
                    },
                    Ra: function(t) {
                        for (; t.firstChild; )
                            d.removeNode(t.firstChild)
                    },
                    Jb: function(t) {
                        t = d.a.O(t);
                        for (var n = (t[0] && t[0].ownerDocument || e).createElement("div"), r = 0, i = t.length; i > r; r++)
                            n.appendChild(d.S(t[r]));
                        return n
                    },
                    la: function(t, n) {
                        for (var e = 0, r = t.length, i = []; r > e; e++) {
                            var o = t[e].cloneNode(!0);
                            i.push(n ? d.S(o) : o)
                        }
                        return i
                    },
                    T: function(t, n) {
                        if (d.a.Ra(t),
                        n)
                            for (var e = 0, r = n.length; r > e; e++)
                                t.appendChild(n[e])
                    },
                    Qb: function(t, n) {
                        var e = t.nodeType ? [t] : t;
                        if (0 < e.length) {
                            for (var r = e[0], i = r.parentNode, o = 0, a = n.length; a > o; o++)
                                i.insertBefore(n[o], r);
                            for (o = 0,
                            a = e.length; a > o; o++)
                                d.removeNode(e[o])
                        }
                    },
                    na: function(t, n) {
                        if (t.length) {
                            for (n = 8 === n.nodeType && n.parentNode || n; t.length && t[0].parentNode !== n; )
                                t.splice(0, 1);
                            if (1 < t.length) {
                                var e = t[0]
                                  , r = t[t.length - 1];
                                for (t.length = 0; e !== r; )
                                    if (t.push(e),
                                    e = e.nextSibling,
                                    !e)
                                        return;
                                t.push(r)
                            }
                        }
                        return t
                    },
                    Sb: function(t, n) {
                        7 > m ? t.setAttribute("selected", n) : t.selected = n
                    },
                    ib: function(n) {
                        return null  === n || n === t ? "" : n.trim ? n.trim() : n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
                    },
                    Dc: function(t, n) {
                        return t = t || "",
                        n.length > t.length ? !1 : t.substring(0, n.length) === n
                    },
                    jc: function(t, n) {
                        if (t === n)
                            return !0;
                        if (11 === t.nodeType)
                            return !1;
                        if (n.contains)
                            return n.contains(3 === t.nodeType ? t.parentNode : t);
                        if (n.compareDocumentPosition)
                            return 16 == (16 & n.compareDocumentPosition(t));
                        for (; t && t != n; )
                            t = t.parentNode;
                        return !!t
                    },
                    Qa: function(t) {
                        return d.a.jc(t, t.ownerDocument.documentElement)
                    },
                    tb: function(t) {
                        return !!d.a.vb(t, d.a.Qa)
                    },
                    v: function(t) {
                        return t && t.tagName && t.tagName.toLowerCase()
                    },
                    n: function(t, n, e) {
                        var r = m && h[n];
                        if (!r && i)
                            i(t).bind(n, e);
                        else if (r || "function" != typeof t.addEventListener) {
                            if ("undefined" == typeof t.attachEvent)
                                throw Error("Browser doesn't support addEventListener or attachEvent");
                            var o = function(n) {
                                e.call(t, n)
                            }
                              , a = "on" + n;
                            t.attachEvent(a, o),
                            d.a.C.fa(t, function() {
                                t.detachEvent(a, o)
                            }
                            )
                        } else
                            t.addEventListener(n, e, !1)
                    },
                    qa: function(t, r) {
                        if (!t || !t.nodeType)
                            throw Error("element must be a DOM node when calling triggerEvent");
                        var o;
                        if ("input" === d.a.v(t) && t.type && "click" == r.toLowerCase() ? (o = t.type,
                        o = "checkbox" == o || "radio" == o) : o = !1,
                        i && !o)
                            i(t).trigger(r);
                        else if ("function" == typeof e.createEvent) {
                            if ("function" != typeof t.dispatchEvent)
                                throw Error("The supplied element doesn't support dispatchEvent");
                            o = e.createEvent(p[r] || "HTMLEvents"),
                            o.initEvent(r, !0, !0, n, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, t),
                            t.dispatchEvent(o)
                        } else if (o && t.click)
                            t.click();
                        else {
                            if ("undefined" == typeof t.fireEvent)
                                throw Error("Browser doesn't support triggering events");
                            t.fireEvent("on" + r)
                        }
                    },
                    c: function(t) {
                        return d.F(t) ? t() : t
                    },
                    cb: function(t) {
                        return d.F(t) ? t.B() : t
                    },
                    Ia: function(t, n, e) {
                        var r;
                        n && ("object" == typeof t.classList ? (r = t.classList[e ? "add" : "remove"],
                        d.a.o(n.match(v), function(n) {
                            r.call(t.classList, n)
                        }
                        )) : "string" == typeof t.className.baseVal ? c(t.className, "baseVal", n, e) : c(t, "className", n, e));
                    },
                    Ha: function(n, e) {
                        var r = d.a.c(e);
                        (null  === r || r === t) && (r = "");
                        var i = d.e.firstChild(n);
                        !i || 3 != i.nodeType || d.e.nextSibling(i) ? d.e.T(n, [n.ownerDocument.createTextNode(r)]) : i.data = r,
                        d.a.mc(n)
                    },
                    Rb: function(t, n) {
                        if (t.name = n,
                        7 >= m)
                            try {
                                t.mergeAttributes(e.createElement("<input name='" + t.name + "'/>"), !1)
                            } catch (r) {}
                    },
                    mc: function(t) {
                        m >= 9 && (t = 1 == t.nodeType ? t : t.parentNode,
                        t.style && (t.style.zoom = t.style.zoom))
                    },
                    kc: function(t) {
                        if (m) {
                            var n = t.style.width;
                            t.style.width = 0,
                            t.style.width = n
                        }
                    },
                    Bc: function(t, n) {
                        t = d.a.c(t),
                        n = d.a.c(n);
                        for (var e = [], r = t; n >= r; r++)
                            e.push(r);
                        return e
                    },
                    O: function(t) {
                        for (var n = [], e = 0, r = t.length; r > e; e++)
                            n.push(t[e]);
                        return n
                    },
                    Hc: 6 === m,
                    Ic: 7 === m,
                    M: m,
                    Db: function(t, n) {
                        for (var e = d.a.O(t.getElementsByTagName("input")).concat(d.a.O(t.getElementsByTagName("textarea"))), r = "string" == typeof n ? function(t) {
                            return t.name === n
                        }
                         : function(t) {
                            return n.test(t.name)
                        }
                        , i = [], o = e.length - 1; o >= 0; o--)
                            r(e[o]) && i.push(e[o]);
                        return i
                    },
                    yc: function(t) {
                        return "string" == typeof t && (t = d.a.ib(t)) ? o && o.parse ? o.parse(t) : new Function("return " + t)() : null 
                    },
                    jb: function(t, n, e) {
                        if (!o || !o.stringify)
                            throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
                        return o.stringify(d.a.c(t), n, e)
                    },
                    zc: function(t, n, r) {
                        r = r || {};
                        var i = r.params || {}
                          , o = r.includeFields || this.Bb
                          , u = t;
                        if ("object" == typeof t && "form" === d.a.v(t))
                            for (var u = t.action, s = o.length - 1; s >= 0; s--)
                                for (var c = d.a.Db(t, o[s]), l = c.length - 1; l >= 0; l--)
                                    i[c[l].name] = c[l].value;
                        n = d.a.c(n);
                        var f = e.createElement("form");
                        f.style.display = "none",
                        f.action = u,
                        f.method = "post";
                        for (var p in n)
                            t = e.createElement("input"),
                            t.type = "hidden",
                            t.name = p,
                            t.value = d.a.jb(d.a.c(n[p])),
                            f.appendChild(t);
                        a(i, function(t, n) {
                            var r = e.createElement("input");
                            r.type = "hidden",
                            r.name = t,
                            r.value = n,
                            f.appendChild(r)
                        }
                        ),
                        e.body.appendChild(f),
                        r.submitter ? r.submitter(f) : f.submit(),
                        setTimeout(function() {
                            f.parentNode.removeChild(f)
                        }
                        , 0)
                    }
                }
            }
            (),
            d.b("utils", d.a),
            d.b("utils.arrayForEach", d.a.o),
            d.b("utils.arrayFirst", d.a.vb),
            d.b("utils.arrayFilter", d.a.xa),
            d.b("utils.arrayGetDistinctValues", d.a.wb),
            d.b("utils.arrayIndexOf", d.a.m),
            d.b("utils.arrayMap", d.a.Ka),
            d.b("utils.arrayPushAll", d.a.ia),
            d.b("utils.arrayRemoveItem", d.a.ya),
            d.b("utils.extend", d.a.extend),
            d.b("utils.fieldsIncludedWithJsonPost", d.a.Bb),
            d.b("utils.getFormFields", d.a.Db),
            d.b("utils.peekObservable", d.a.cb),
            d.b("utils.postJson", d.a.zc),
            d.b("utils.parseJson", d.a.yc),
            d.b("utils.registerEventHandler", d.a.n),
            d.b("utils.stringifyJson", d.a.jb),
            d.b("utils.range", d.a.Bc),
            d.b("utils.toggleDomNodeCssClass", d.a.Ia),
            d.b("utils.triggerEvent", d.a.qa),
            d.b("utils.unwrapObservable", d.a.c),
            d.b("utils.objectForEach", d.a.A),
            d.b("utils.addOrRemoveItem", d.a.ga),
            d.b("utils.setTextContent", d.a.Ha),
            d.b("unwrap", d.a.c),
            Function.prototype.bind || (Function.prototype.bind = function(t) {
                var n = this;
                if (1 === arguments.length)
                    return function() {
                        return n.apply(t, arguments)
                    }
                    ;
                var e = Array.prototype.slice.call(arguments, 1);
                return function() {
                    var r = e.slice(0);
                    return r.push.apply(r, arguments),
                    n.apply(t, r)
                }
            }
            ),
            d.a.f = new function() {
                function n(n, o) {
                    var a = n[r];
                    if (!a || "null" === a || !i[a]) {
                        if (!o)
                            return t;
                        a = n[r] = "ko" + e++,
                        i[a] = {}
                    }
                    return i[a]
                }
                var e = 0
                  , r = "__ko__" + (new Date).getTime()
                  , i = {};
                return {
                    get: function(e, r) {
                        var i = n(e, !1);
                        return i === t ? t : i[r]
                    },
                    set: function(e, r, i) {
                        (i !== t || n(e, !1) !== t) && (n(e, !0)[r] = i)
                    },
                    clear: function(t) {
                        var n = t[r];
                        return n ? (delete i[n],
                        t[r] = null ,
                        !0) : !1
                    },
                    I: function() {
                        return e++ + r
                    }
                }
            }
            ,
            d.b("utils.domData", d.a.f),
            d.b("utils.domData.clear", d.a.f.clear),
            d.a.C = new function() {
                function n(n, e) {
                    var i = d.a.f.get(n, r);
                    return i === t && e && (i = [],
                    d.a.f.set(n, r, i)),
                    i
                }
                function e(t) {
                    var r = n(t, !1);
                    if (r)
                        for (var r = r.slice(0), i = 0; i < r.length; i++)
                            r[i](t);
                    if (d.a.f.clear(t),
                    d.a.C.cleanExternalData(t),
                    a[t.nodeType])
                        for (r = t.firstChild; t = r; )
                            r = t.nextSibling,
                            8 === t.nodeType && e(t)
                }
                var r = d.a.f.I()
                  , o = {
                    1: !0,
                    8: !0,
                    9: !0
                }
                  , a = {
                    1: !0,
                    9: !0
                };
                return {
                    fa: function(t, e) {
                        if ("function" != typeof e)
                            throw Error("Callback must be a function");
                        n(t, !0).push(e)
                    },
                    Pb: function(e, i) {
                        var o = n(e, !1);
                        o && (d.a.ya(o, i),
                        0 == o.length && d.a.f.set(e, r, t))
                    },
                    S: function(t) {
                        if (o[t.nodeType] && (e(t),
                        a[t.nodeType])) {
                            var n = [];
                            d.a.ia(n, t.getElementsByTagName("*"));
                            for (var r = 0, i = n.length; i > r; r++)
                                e(n[r])
                        }
                        return t
                    },
                    removeNode: function(t) {
                        d.S(t),
                        t.parentNode && t.parentNode.removeChild(t)
                    },
                    cleanExternalData: function(t) {
                        i && "function" == typeof i.cleanData && i.cleanData([t])
                    }
                }
            }
            ,
            d.S = d.a.C.S,
            d.removeNode = d.a.C.removeNode,
            d.b("cleanNode", d.S),
            d.b("removeNode", d.removeNode),
            d.b("utils.domNodeDisposal", d.a.C),
            d.b("utils.domNodeDisposal.addDisposeCallback", d.a.C.fa),
            d.b("utils.domNodeDisposal.removeDisposeCallback", d.a.C.Pb),
            function() {
                d.a.ca = function(t, r) {
                    var o;
                    if (i) {
                        if (i.parseHTML)
                            o = i.parseHTML(t, r) || [];
                        else if ((o = i.clean([t], r)) && o[0]) {
                            for (var a = o[0]; a.parentNode && 11 !== a.parentNode.nodeType; )
                                a = a.parentNode;
                            a.parentNode && a.parentNode.removeChild(a)
                        }
                    } else {
                        (a = r) || (a = e),
                        o = a.parentWindow || a.defaultView || n;
                        var u = d.a.ib(t).toLowerCase()
                          , a = a.createElement("div")
                          , u = u.match(/^<(thead|tbody|tfoot)/) && [1, "<table>", "</table>"] || !u.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!u.indexOf("<td") || !u.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || [0, "", ""]
                          , s = "ignored<div>" + u[1] + t + u[2] + "</div>";
                        for ("function" == typeof o.innerShiv ? a.appendChild(o.innerShiv(s)) : a.innerHTML = s; u[0]--; )
                            a = a.lastChild;
                        o = d.a.O(a.lastChild.childNodes)
                    }
                    return o
                }
                ,
                d.a.gb = function(n, e) {
                    if (d.a.Ra(n),
                    e = d.a.c(e),
                    null  !== e && e !== t)
                        if ("string" != typeof e && (e = e.toString()),
                        i)
                            i(n).html(e);
                        else
                            for (var r = d.a.ca(e, n.ownerDocument), o = 0; o < r.length; o++)
                                n.appendChild(r[o])
                }
            }
            (),
            d.b("utils.parseHtmlFragment", d.a.ca),
            d.b("utils.setHtml", d.a.gb),
            d.H = function() {
                function n(t, e) {
                    if (t)
                        if (8 == t.nodeType) {
                            var r = d.H.Lb(t.nodeValue);
                            null  != r && e.push({
                                ic: t,
                                wc: r
                            })
                        } else if (1 == t.nodeType)
                            for (var r = 0, i = t.childNodes, o = i.length; o > r; r++)
                                n(i[r], e)
                }
                var e = {};
                return {
                    $a: function(t) {
                        if ("function" != typeof t)
                            throw Error("You can only pass a function to ko.memoization.memoize()");
                        var n = (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) + (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1);
                        return e[n] = t,
                        "<!--[ko_memo:" + n + "]-->"
                    },
                    Wb: function(n, r) {
                        var i = e[n];
                        if (i === t)
                            throw Error("Couldn't find any memo with ID " + n + ". Perhaps it's already been unmemoized.");
                        try {
                            return i.apply(null , r || []),
                            !0
                        } finally {
                            delete e[n]
                        }
                    },
                    Xb: function(t, e) {
                        var r = [];
                        n(t, r);
                        for (var i = 0, o = r.length; o > i; i++) {
                            var a = r[i].ic
                              , u = [a];
                            e && d.a.ia(u, e),
                            d.H.Wb(r[i].wc, u),
                            a.nodeValue = "",
                            a.parentNode && a.parentNode.removeChild(a)
                        }
                    },
                    Lb: function(t) {
                        return (t = t.match(/^\[ko_memo\:(.*?)\]$/)) ? t[1] : null 
                    }
                }
            }
            (),
            d.b("memoization", d.H),
            d.b("memoization.memoize", d.H.$a),
            d.b("memoization.unmemoize", d.H.Wb),
            d.b("memoization.parseMemoText", d.H.Lb),
            d.b("memoization.unmemoizeDomNodeAndDescendants", d.H.Xb),
            d.Sa = {
                throttle: function(t, n) {
                    t.throttleEvaluation = n;
                    var e = null ;
                    return d.j({
                        read: t,
                        write: function(r) {
                            clearTimeout(e),
                            e = setTimeout(function() {
                                t(r)
                            }
                            , n)
                        }
                    })
                },
                rateLimit: function(t, n) {
                    var e, r, i;
                    "number" == typeof n ? e = n : (e = n.timeout,
                    r = n.method),
                    i = "notifyWhenChangesStop" == r ? l : c,
                    t.Za(function(t) {
                        return i(t, e)
                    }
                    )
                },
                notify: function(t, n) {
                    t.equalityComparer = "always" == n ? null  : s
                }
            };
            var p = {
                undefined: 1,
                "boolean": 1,
                number: 1,
                string: 1
            };
            d.b("extenders", d.Sa),
            d.Ub = function(t, n, e) {
                this.da = t,
                this.La = n,
                this.hc = e,
                this.Gb = !1,
                d.D(this, "dispose", this.p)
            }
            ,
            d.Ub.prototype.p = function() {
                this.Gb = !0,
                this.hc()
            }
            ,
            d.Q = function() {
                d.a.Ga(this, d.Q.fn),
                this.G = {},
                this.rb = 1
            }
            ;
            var h = {
                U: function(t, n, e) {
                    var r = this;
                    e = e || "change";
                    var i = new d.Ub(r,n ? t.bind(n) : t,function() {
                        d.a.ya(r.G[e], i),
                        r.ua && r.ua(e)
                    }
                    );
                    return r.ja && r.ja(e),
                    r.G[e] || (r.G[e] = []),
                    r.G[e].push(i),
                    i
                },
                notifySubscribers: function(t, n) {
                    if (n = n || "change",
                    "change" === n && this.Yb(),
                    this.Ba(n))
                        try {
                            d.k.xb();
                            for (var e, r = this.G[n].slice(0), i = 0; e = r[i]; ++i)
                                e.Gb || e.La(t)
                        } finally {
                            d.k.end()
                        }
                },
                Aa: function() {
                    return this.rb
                },
                pc: function(t) {
                    return this.Aa() !== t
                },
                Yb: function() {
                    ++this.rb
                },
                Za: function(t) {
                    var n, e, r, i = this, o = d.F(i);
                    i.ta || (i.ta = i.notifySubscribers,
                    i.notifySubscribers = function(t, n) {
                        n && "change" !== n ? "beforeChange" === n ? i.pb(t) : i.ta(t, n) : i.qb(t)
                    }
                    );
                    var a = t(function() {
                        o && r === i && (r = i()),
                        n = !1,
                        i.Wa(e, r) && i.ta(e = r)
                    }
                    );
                    i.qb = function(t) {
                        n = !0,
                        r = t,
                        a()
                    }
                    ,
                    i.pb = function(t) {
                        n || (e = t,
                        i.ta(t, "beforeChange"))
                    }
                },
                Ba: function(t) {
                    return this.G[t] && this.G[t].length
                },
                nc: function(t) {
                    if (t)
                        return this.G[t] && this.G[t].length || 0;
                    var n = 0;
                    return d.a.A(this.G, function(t, e) {
                        n += e.length
                    }
                    ),
                    n
                },
                Wa: function(t, n) {
                    return !this.equalityComparer || !this.equalityComparer(t, n)
                },
                extend: function(t) {
                    var n = this;
                    return t && d.a.A(t, function(t, e) {
                        var r = d.Sa[t];
                        "function" == typeof r && (n = r(n, e) || n)
                    }
                    ),
                    n
                }
            };
            d.D(h, "subscribe", h.U),
            d.D(h, "extend", h.extend),
            d.D(h, "getSubscriptionsCount", h.nc),
            d.a.za && d.a.Fa(h, Function.prototype),
            d.Q.fn = h,
            d.Hb = function(t) {
                return null  != t && "function" == typeof t.U && "function" == typeof t.notifySubscribers
            }
            ,
            d.b("subscribable", d.Q),
            d.b("isSubscribable", d.Hb),
            d.Z = d.k = function() {
                function t(t) {
                    r.push(e),
                    e = t
                }
                function n() {
                    e = r.pop()
                }
                var e, r = [], i = 0;
                return {
                    xb: t,
                    end: n,
                    Ob: function(t) {
                        if (e) {
                            if (!d.Hb(t))
                                throw Error("Only subscribable things can act as dependencies");
                            e.La(t, t.ac || (t.ac = ++i))
                        }
                    },
                    u: function(e, r, i) {
                        try {
                            return t(),
                            e.apply(r, i || [])
                        } finally {
                            n()
                        }
                    },
                    oa: function() {
                        return e ? e.w.oa() : void 0
                    },
                    Ca: function() {
                        return e ? e.Ca : void 0
                    }
                }
            }
            (),
            d.b("computedContext", d.Z),
            d.b("computedContext.getDependenciesCount", d.Z.oa),
            d.b("computedContext.isInitial", d.Z.Ca),
            d.b("computedContext.isSleeping", d.Z.Jc),
            d.b("ignoreDependencies", d.Gc = d.k.u),
            d.r = function(t) {
                function n() {
                    return 0 < arguments.length ? (n.Wa(e, arguments[0]) && (n.X(),
                    e = arguments[0],
                    n.W()),
                    this) : (d.k.Ob(n),
                    e)
                }
                var e = t;
                return d.Q.call(n),
                d.a.Ga(n, d.r.fn),
                n.B = function() {
                    return e
                }
                ,
                n.W = function() {
                    n.notifySubscribers(e)
                }
                ,
                n.X = function() {
                    n.notifySubscribers(e, "beforeChange")
                }
                ,
                d.D(n, "peek", n.B),
                d.D(n, "valueHasMutated", n.W),
                d.D(n, "valueWillMutate", n.X),
                n
            }
            ,
            d.r.fn = {
                equalityComparer: s
            };
            var m = d.r.Ac = "__ko_proto__";
            d.r.fn[m] = d.r,
            d.a.za && d.a.Fa(d.r.fn, d.Q.fn),
            d.Ta = function(n, e) {
                return null  === n || n === t || n[m] === t ? !1 : n[m] === e ? !0 : d.Ta(n[m], e)
            }
            ,
            d.F = function(t) {
                return d.Ta(t, d.r)
            }
            ,
            d.Da = function(t) {
                return "function" == typeof t && t[m] === d.r || "function" == typeof t && t[m] === d.j && t.qc ? !0 : !1
            }
            ,
            d.b("observable", d.r),
            d.b("isObservable", d.F),
            d.b("isWriteableObservable", d.Da),
            d.b("isWritableObservable", d.Da),
            d.ba = function(t) {
                if (t = t || [],
                "object" != typeof t || !("length" in t))
                    throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
                return t = d.r(t),
                d.a.Ga(t, d.ba.fn),
                t.extend({
                    trackArrayChanges: !0
                })
            }
            ,
            d.ba.fn = {
                remove: function(t) {
                    for (var n = this.B(), e = [], r = "function" != typeof t || d.F(t) ? function(n) {
                        return n === t
                    }
                     : t, i = 0; i < n.length; i++) {
                        var o = n[i];
                        r(o) && (0 === e.length && this.X(),
                        e.push(o),
                        n.splice(i, 1),
                        i--)
                    }
                    return e.length && this.W(),
                    e
                },
                removeAll: function(n) {
                    if (n === t) {
                        var e = this.B()
                          , r = e.slice(0);
                        return this.X(),
                        e.splice(0, e.length),
                        this.W(),
                        r
                    }
                    return n ? this.remove(function(t) {
                        return 0 <= d.a.m(n, t)
                    }
                    ) : []
                },
                destroy: function(t) {
                    var n = this.B()
                      , e = "function" != typeof t || d.F(t) ? function(n) {
                        return n === t
                    }
                     : t;
                    this.X();
                    for (var r = n.length - 1; r >= 0; r--)
                        e(n[r]) && (n[r]._destroy = !0);
                    this.W()
                },
                destroyAll: function(n) {
                    return n === t ? this.destroy(function() {
                        return !0
                    }
                    ) : n ? this.destroy(function(t) {
                        return 0 <= d.a.m(n, t)
                    }
                    ) : []
                },
                indexOf: function(t) {
                    var n = this();
                    return d.a.m(n, t)
                },
                replace: function(t, n) {
                    var e = this.indexOf(t);
                    e >= 0 && (this.X(),
                    this.B()[e] = n,
                    this.W())
                }
            },
            d.a.o("pop push reverse shift sort splice unshift".split(" "), function(t) {
                d.ba.fn[t] = function() {
                    var n = this.B();
                    return this.X(),
                    this.yb(n, t, arguments),
                    n = n[t].apply(n, arguments),
                    this.W(),
                    n
                }
            }
            ),
            d.a.o(["slice"], function(t) {
                d.ba.fn[t] = function() {
                    var n = this();
                    return n[t].apply(n, arguments)
                }
            }
            ),
            d.a.za && d.a.Fa(d.ba.fn, d.r.fn),
            d.b("observableArray", d.ba),
            d.Sa.trackArrayChanges = function(t) {
                function n() {
                    if (!r) {
                        r = !0;
                        var n = t.notifySubscribers;
                        t.notifySubscribers = function(t, e) {
                            return e && "change" !== e || ++o,
                            n.apply(this, arguments)
                        }
                        ;
                        var a = [].concat(t.B() || []);
                        i = null ,
                        e = t.U(function(n) {
                            if (n = [].concat(n || []),
                            t.Ba("arrayChange")) {
                                var e;
                                (!i || o > 1) && (i = d.a.Ma(a, n, {
                                    sparse: !0
                                })),
                                e = i
                            }
                            a = n,
                            i = null ,
                            o = 0,
                            e && e.length && t.notifySubscribers(e, "arrayChange")
                        }
                        )
                    }
                }
                if (!t.yb) {
                    var e, r = !1, i = null , o = 0, a = t.ja, u = t.ua;
                    t.ja = function(e) {
                        a && a.call(t, e),
                        "arrayChange" === e && n()
                    }
                    ,
                    t.ua = function(n) {
                        u && u.call(t, n),
                        "arrayChange" !== n || t.Ba("arrayChange") || (e.p(),
                        r = !1)
                    }
                    ,
                    t.yb = function(t, n, e) {
                        function a(t, n, e) {
                            return u[u.length] = {
                                status: t,
                                value: n,
                                index: e
                            }
                        }
                        if (r && !o) {
                            var u = []
                              , s = t.length
                              , c = e.length
                              , l = 0;
                            switch (n) {
                            case "push":
                                l = s;
                            case "unshift":
                                for (n = 0; c > n; n++)
                                    a("added", e[n], l + n);
                                break;
                            case "pop":
                                l = s - 1;
                            case "shift":
                                s && a("deleted", t[l], l);
                                break;
                            case "splice":
                                n = Math.min(Math.max(0, 0 > e[0] ? s + e[0] : e[0]), s);
                                for (var s = 1 === c ? s : Math.min(n + (e[1] || 0), s), c = n + c - 2, l = Math.max(s, c), f = [], p = [], h = 2; l > n; ++n,
                                ++h)
                                    s > n && p.push(a("deleted", t[n], n)),
                                    c > n && f.push(a("added", e[h], n));
                                d.a.Cb(p, f);
                                break;
                            default:
                                return
                            }
                            i = u
                        }
                    }
                }
            }
            ,
            d.w = d.j = function(n, e, r) {
                function i(t, n, e) {
                    if (w && n === c)
                        throw Error("A 'pure' computed must not be called recursively");
                    k[t] = e,
                    e.sa = A++,
                    e.ea = n.Aa()
                }
                function o() {
                    var t, n;
                    for (t in k)
                        if (k.hasOwnProperty(t) && (n = k[t],
                        n.da.pc(n.ea)))
                            return !0
                }
                function a() {
                    !x && k && d.a.A(k, function(t, n) {
                        n.p && n.p()
                    }
                    ),
                    k = null ,
                    A = 0,
                    b = !0,
                    x = m = !1
                }
                function u() {
                    var t = c.throttleEvaluation;
                    t && t >= 0 ? (clearTimeout(P),
                    P = setTimeout(function() {
                        s(!0)
                    }
                    , t)) : c.nb ? c.nb() : s(!0)
                }
                function s(n) {
                    if (!v && !b) {
                        if (S && S()) {
                            if (!g)
                                return void M()
                        } else
                            g = !1;
                        v = !0;
                        try {
                            var r = k
                              , o = A
                              , a = w ? t : !A;
                            d.k.xb({
                                La: function(t, n) {
                                    b || (o && r[n] ? (i(n, t, r[n]),
                                    delete r[n],
                                    --o) : k[n] || i(n, t, x ? {
                                        da: t
                                    } : t.U(u)))
                                },
                                w: c,
                                Ca: a
                            }),
                            k = {},
                            A = 0;
                            try {
                                var s = e ? y.call(e) : y()
                            } finally {
                                d.k.end(),
                                o && !x && d.a.A(r, function(t, n) {
                                    n.p && n.p()
                                }
                                ),
                                m = !1
                            }
                            c.Wa(h, s) && (x || p(h, "beforeChange"),
                            h = s,
                            x ? c.Yb() : n && p(h)),
                            a && p(h, "awake")
                        } finally {
                            v = !1
                        }
                        A || M()
                    }
                }
                function c() {
                    if (0 < arguments.length) {
                        if ("function" != typeof E)
                            throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
                        return E.apply(e, arguments),
                        this
                    }
                    return d.k.Ob(c),
                    (m || x && o()) && s(),
                    h
                }
                function l() {
                    return (m && !A || x && o()) && s(),
                    h
                }
                function f() {
                    return m || A > 0
                }
                function p(t, n) {
                    c.notifySubscribers(t, n)
                }
                var h, m = !0, v = !1, g = !1, b = !1, y = n, w = !1, x = !1;
                if (y && "object" == typeof y ? (r = y,
                y = r.read) : (r = r || {},
                y || (y = r.read)),
                "function" != typeof y)
                    throw Error("Pass a function that returns the value of the ko.computed");
                var E = r.write
                  , _ = r.disposeWhenNodeIsRemoved || r.q || null 
                  , C = r.disposeWhen || r.Pa
                  , S = C
                  , M = a
                  , k = {}
                  , A = 0
                  , P = null ;
                e || (e = r.owner),
                d.Q.call(c),
                d.a.Ga(c, d.j.fn),
                c.B = l,
                c.oa = function() {
                    return A
                }
                ,
                c.qc = "function" == typeof E,
                c.p = function() {
                    M()
                }
                ,
                c.$ = f;
                var T = c.Za;
                return c.Za = function(t) {
                    T.call(c, t),
                    c.nb = function() {
                        c.pb(h),
                        m = !0,
                        c.qb(c)
                    }
                }
                ,
                r.pure ? (x = w = !0,
                c.ja = function(t) {
                    if (!b && x && "change" == t) {
                        if (x = !1,
                        m || o())
                            k = null ,
                            A = 0,
                            m = !0,
                            s();
                        else {
                            var n = [];
                            d.a.A(k, function(t, e) {
                                n[e.sa] = t
                            }
                            ),
                            d.a.o(n, function(t, n) {
                                var e = k[t]
                                  , r = e.da.U(u);
                                r.sa = n,
                                r.ea = e.ea,
                                k[t] = r
                            }
                            )
                        }
                        b || p(h, "awake")
                    }
                }
                ,
                c.ua = function(n) {
                    b || "change" != n || c.Ba("change") || (d.a.A(k, function(t, n) {
                        n.p && (k[t] = {
                            da: n.da,
                            sa: n.sa,
                            ea: n.ea
                        },
                        n.p())
                    }
                    ),
                    x = !0,
                    p(t, "asleep"))
                }
                ,
                c.bc = c.Aa,
                c.Aa = function() {
                    return x && (m || o()) && s(),
                    c.bc()
                }
                ) : r.deferEvaluation && (c.ja = function(t) {
                    "change" != t && "beforeChange" != t || l()
                }
                ),
                d.D(c, "peek", c.B),
                d.D(c, "dispose", c.p),
                d.D(c, "isActive", c.$),
                d.D(c, "getDependenciesCount", c.oa),
                _ && (g = !0,
                _.nodeType && (S = function() {
                    return !d.a.Qa(_) || C && C()
                }
                )),
                x || r.deferEvaluation || s(),
                _ && f() && _.nodeType && (M = function() {
                    d.a.C.Pb(_, M),
                    a()
                }
                ,
                d.a.C.fa(_, M)),
                c
            }
            ,
            d.sc = function(t) {
                return d.Ta(t, d.j)
            }
            ,
            h = d.r.Ac,
            d.j[h] = d.r,
            d.j.fn = {
                equalityComparer: s
            },
            d.j.fn[h] = d.j,
            d.a.za && d.a.Fa(d.j.fn, d.Q.fn),
            d.b("dependentObservable", d.j),
            d.b("computed", d.j),
            d.b("isComputed", d.sc),
            d.Nb = function(t, n) {
                return "function" == typeof t ? d.w(t, n, {
                    pure: !0
                }) : (t = d.a.extend({}, t),
                t.pure = !0,
                d.w(t, n))
            }
            ,
            d.b("pureComputed", d.Nb),
            function() {
                function n(i, o, a) {
                    if (a = a || new r,
                    i = o(i),
                    "object" != typeof i || null  === i || i === t || i instanceof Date || i instanceof String || i instanceof Number || i instanceof Boolean)
                        return i;
                    var u = i instanceof Array ? [] : {};
                    return a.save(i, u),
                    e(i, function(e) {
                        var r = o(i[e]);
                        switch (typeof r) {
                        case "boolean":
                        case "number":
                        case "string":
                        case "function":
                            u[e] = r;
                            break;
                        case "object":
                        case "undefined":
                            var s = a.get(r);
                            u[e] = s !== t ? s : n(r, o, a)
                        }
                    }
                    ),
                    u
                }
                function e(t, n) {
                    if (t instanceof Array) {
                        for (var e = 0; e < t.length; e++)
                            n(e);
                        "function" == typeof t.toJSON && n("toJSON")
                    } else
                        for (e in t)
                            n(e)
                }
                function r() {
                    this.keys = [],
                    this.mb = []
                }
                d.Vb = function(t) {
                    if (0 == arguments.length)
                        throw Error("When calling ko.toJS, pass the object you want to convert.");
                    return n(t, function(t) {
                        for (var n = 0; d.F(t) && 10 > n; n++)
                            t = t();
                        return t
                    }
                    )
                }
                ,
                d.toJSON = function(t, n, e) {
                    return t = d.Vb(t),
                    d.a.jb(t, n, e)
                }
                ,
                r.prototype = {
                    save: function(t, n) {
                        var e = d.a.m(this.keys, t);
                        e >= 0 ? this.mb[e] = n : (this.keys.push(t),
                        this.mb.push(n))
                    },
                    get: function(n) {
                        return n = d.a.m(this.keys, n),
                        n >= 0 ? this.mb[n] : t
                    }
                }
            }
            (),
            d.b("toJS", d.Vb),
            d.b("toJSON", d.toJSON),
            function() {
                d.i = {
                    s: function(n) {
                        switch (d.a.v(n)) {
                        case "option":
                            return !0 === n.__ko__hasDomDataOptionValue__ ? d.a.f.get(n, d.d.options.ab) : 7 >= d.a.M ? n.getAttributeNode("value") && n.getAttributeNode("value").specified ? n.value : n.text : n.value;
                        case "select":
                            return 0 <= n.selectedIndex ? d.i.s(n.options[n.selectedIndex]) : t;
                        default:
                            return n.value
                        }
                    },
                    Y: function(n, e, r) {
                        switch (d.a.v(n)) {
                        case "option":
                            switch (typeof e) {
                            case "string":
                                d.a.f.set(n, d.d.options.ab, t),
                                "__ko__hasDomDataOptionValue__" in n && delete n.__ko__hasDomDataOptionValue__,
                                n.value = e;
                                break;
                            default:
                                d.a.f.set(n, d.d.options.ab, e),
                                n.__ko__hasDomDataOptionValue__ = !0,
                                n.value = "number" == typeof e ? e : ""
                            }
                            break;
                        case "select":
                            ("" === e || null  === e) && (e = t);
                            for (var i, o = -1, a = 0, u = n.options.length; u > a; ++a)
                                if (i = d.i.s(n.options[a]),
                                i == e || "" == i && e === t) {
                                    o = a;
                                    break
                                }
                            (r || o >= 0 || e === t && 1 < n.size) && (n.selectedIndex = o);
                            break;
                        default:
                            (null  === e || e === t) && (e = ""),
                            n.value = e
                        }
                    }
                }
            }
            (),
            d.b("selectExtensions", d.i),
            d.b("selectExtensions.readValue", d.i.s),
            d.b("selectExtensions.writeValue", d.i.Y),
            d.h = function() {
                function t(t) {
                    t = d.a.ib(t),
                    123 === t.charCodeAt(0) && (t = t.slice(1, -1));
                    var n, e = [], a = t.match(r), u = [], s = 0;
                    if (a) {
                        a.push(",");
                        for (var c, l = 0; c = a[l]; ++l) {
                            var f = c.charCodeAt(0);
                            if (44 === f) {
                                if (0 >= s) {
                                    e.push(n && u.length ? {
                                        key: n,
                                        value: u.join("")
                                    } : {
                                        unknown: n || u.join("")
                                    }),
                                    n = s = 0,
                                    u = [];
                                    continue
                                }
                            } else if (58 === f) {
                                if (!s && !n && 1 === u.length) {
                                    n = u.pop();
                                    continue
                                }
                            } else
                                47 === f && l && 1 < c.length ? (f = a[l - 1].match(i)) && !o[f[0]] && (t = t.substr(t.indexOf(c) + 1),
                                a = t.match(r),
                                a.push(","),
                                l = -1,
                                c = "/") : 40 === f || 123 === f || 91 === f ? ++s : 41 === f || 125 === f || 93 === f ? --s : n || u.length || 34 !== f && 39 !== f || (c = c.slice(1, -1));
                            u.push(c)
                        }
                    }
                    return e
                }
                var n = ["true", "false", "null", "undefined"]
                  , e = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i
                  , r = RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]", "g")
                  , i = /[\])"'A-Za-z0-9_$]+$/
                  , o = {
                    "in": 1,
                    "return": 1,
                    "typeof": 1
                }
                  , a = {};
                return {
                    ka: [],
                    V: a,
                    bb: t,
                    Ea: function(r, i) {
                        function o(t, r) {
                            var i;
                            if (!l) {
                                var f = d.getBindingHandler(t);
                                if (f && f.preprocess && !(r = f.preprocess(r, t, o)))
                                    return;
                                (f = a[t]) && (i = r,
                                0 <= d.a.m(n, i) ? i = !1 : (f = i.match(e),
                                i = null  === f ? !1 : f[1] ? "Object(" + f[1] + ")" + f[2] : i),
                                f = i),
                                f && s.push("'" + t + "':function(_z){" + i + "=_z}")
                            }
                            c && (r = "function(){return " + r + " }"),
                            u.push("'" + t + "':" + r)
                        }
                        i = i || {};
                        var u = []
                          , s = []
                          , c = i.valueAccessors
                          , l = i.bindingParams
                          , f = "string" == typeof r ? t(r) : r;
                        return d.a.o(f, function(t) {
                            o(t.key || t.unknown, t.value)
                        }
                        ),
                        s.length && o("_ko_property_writers", "{" + s.join(",") + " }"),
                        u.join(",")
                    },
                    vc: function(t, n) {
                        for (var e = 0; e < t.length; e++)
                            if (t[e].key == n)
                                return !0;
                        return !1
                    },
                    ra: function(t, n, e, r, i) {
                        t && d.F(t) ? !d.Da(t) || i && t.B() === r || t(r) : (t = n.get("_ko_property_writers")) && t[e] && t[e](r)
                    }
                }
            }
            (),
            d.b("expressionRewriting", d.h),
            d.b("expressionRewriting.bindingRewriteValidators", d.h.ka),
            d.b("expressionRewriting.parseObjectLiteral", d.h.bb),
            d.b("expressionRewriting.preProcessBindings", d.h.Ea),
            d.b("expressionRewriting._twoWayBindings", d.h.V),
            d.b("jsonExpressionRewriting", d.h),
            d.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", d.h.Ea),
            function() {
                function t(t) {
                    return 8 == t.nodeType && a.test(o ? t.text : t.nodeValue)
                }
                function n(t) {
                    return 8 == t.nodeType && u.test(o ? t.text : t.nodeValue)
                }
                function r(e, r) {
                    for (var i = e, o = 1, a = []; i = i.nextSibling; ) {
                        if (n(i) && (o--,
                        0 === o))
                            return a;
                        a.push(i),
                        t(i) && o++
                    }
                    if (!r)
                        throw Error("Cannot find closing comment tag to match: " + e.nodeValue);
                    return null 
                }
                function i(t, n) {
                    var e = r(t, n);
                    return e ? 0 < e.length ? e[e.length - 1].nextSibling : t.nextSibling : null 
                }
                var o = e && "<!--test-->" === e.createComment("test").text
                  , a = o ? /^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/ : /^\s*ko(?:\s+([\s\S]+))?\s*$/
                  , u = o ? /^\x3c!--\s*\/ko\s*--\x3e$/ : /^\s*\/ko\s*$/
                  , s = {
                    ul: !0,
                    ol: !0
                };
                d.e = {
                    R: {},
                    childNodes: function(n) {
                        return t(n) ? r(n) : n.childNodes
                    },
                    ma: function(n) {
                        if (t(n)) {
                            n = d.e.childNodes(n);
                            for (var e = 0, r = n.length; r > e; e++)
                                d.removeNode(n[e])
                        } else
                            d.a.Ra(n)
                    },
                    T: function(n, e) {
                        if (t(n)) {
                            d.e.ma(n);
                            for (var r = n.nextSibling, i = 0, o = e.length; o > i; i++)
                                r.parentNode.insertBefore(e[i], r)
                        } else
                            d.a.T(n, e)
                    },
                    Mb: function(n, e) {
                        t(n) ? n.parentNode.insertBefore(e, n.nextSibling) : n.firstChild ? n.insertBefore(e, n.firstChild) : n.appendChild(e)
                    },
                    Fb: function(n, e, r) {
                        r ? t(n) ? n.parentNode.insertBefore(e, r.nextSibling) : r.nextSibling ? n.insertBefore(e, r.nextSibling) : n.appendChild(e) : d.e.Mb(n, e)
                    },
                    firstChild: function(e) {
                        return t(e) ? !e.nextSibling || n(e.nextSibling) ? null  : e.nextSibling : e.firstChild
                    },
                    nextSibling: function(e) {
                        return t(e) && (e = i(e)),
                        e.nextSibling && n(e.nextSibling) ? null  : e.nextSibling
                    },
                    oc: t,
                    Fc: function(t) {
                        return (t = (o ? t.text : t.nodeValue).match(a)) ? t[1] : null 
                    },
                    Kb: function(e) {
                        if (s[d.a.v(e)]) {
                            var r = e.firstChild;
                            if (r)
                                do
                                    if (1 === r.nodeType) {
                                        var o;
                                        o = r.firstChild;
                                        var a = null ;
                                        if (o)
                                            do
                                                if (a)
                                                    a.push(o);
                                                else if (t(o)) {
                                                    var u = i(o, !0);
                                                    u ? o = u : a = [o]
                                                } else
                                                    n(o) && (a = [o]);
                                            while (o = o.nextSibling);if (o = a)
                                            for (a = r.nextSibling,
                                            u = 0; u < o.length; u++)
                                                a ? e.insertBefore(o[u], a) : e.appendChild(o[u])
                                    }
                                while (r = r.nextSibling)
                        }
                    }
                }
            }
            (),
            d.b("virtualElements", d.e),
            d.b("virtualElements.allowedBindings", d.e.R),
            d.b("virtualElements.emptyNode", d.e.ma),
            d.b("virtualElements.insertAfter", d.e.Fb),
            d.b("virtualElements.prepend", d.e.Mb),
            d.b("virtualElements.setDomNodeChildren", d.e.T),
            function() {
                d.L = function() {
                    this.ec = {}
                }
                ,
                d.a.extend(d.L.prototype, {
                    nodeHasBindings: function(t) {
                        switch (t.nodeType) {
                        case 1:
                            return null  != t.getAttribute("data-bind") || d.g.getComponentNameForNode(t);
                        case 8:
                            return d.e.oc(t);
                        default:
                            return !1
                        }
                    },
                    getBindings: function(t, n) {
                        var e = this.getBindingsString(t, n)
                          , e = e ? this.parseBindingsString(e, n, t) : null ;
                        return d.g.sb(e, t, n, !1)
                    },
                    getBindingAccessors: function(t, n) {
                        var e = this.getBindingsString(t, n)
                          , e = e ? this.parseBindingsString(e, n, t, {
                            valueAccessors: !0
                        }) : null ;
                        return d.g.sb(e, t, n, !0)
                    },
                    getBindingsString: function(t) {
                        switch (t.nodeType) {
                        case 1:
                            return t.getAttribute("data-bind");
                        case 8:
                            return d.e.Fc(t);
                        default:
                            return null 
                        }
                    },
                    parseBindingsString: function(t, n, e, r) {
                        try {
                            var i, o = this.ec, a = t + (r && r.valueAccessors || "");
                            if (!(i = o[a])) {
                                var u, s = "with($context){with($data||{}){return{" + d.h.Ea(t, r) + "}}}";
                                u = new Function("$context","$element",s),
                                i = o[a] = u
                            }
                            return i(n, e)
                        } catch (c) {
                            throw c.message = "Unable to parse bindings.\nBindings value: " + t + "\nMessage: " + c.message,
                            c
                        }
                    }
                }),
                d.L.instance = new d.L
            }
            (),
            d.b("bindingProvider", d.L),
            function() {
                function e(t) {
                    return function() {
                        return t
                    }
                }
                function r(t) {
                    return t()
                }
                function o(t) {
                    return d.a.pa(d.k.u(t), function(n, e) {
                        return function() {
                            return t()[e]
                        }
                    }
                    )
                }
                function a(t, n, r) {
                    return "function" == typeof t ? o(t.bind(null , n, r)) : d.a.pa(t, e)
                }
                function u(t, n) {
                    return o(this.getBindings.bind(this, t, n))
                }
                function s(t, n, e) {
                    var r, i = d.e.firstChild(n), o = d.L.instance, a = o.preprocessNode;
                    if (a) {
                        for (; r = i; )
                            i = d.e.nextSibling(r),
                            a.call(o, r);
                        i = d.e.firstChild(n)
                    }
                    for (; r = i; )
                        i = d.e.nextSibling(r),
                        c(t, r, e)
                }
                function c(t, n, e) {
                    var r = !0
                      , i = 1 === n.nodeType;
                    i && d.e.Kb(n),
                    (i && e || d.L.instance.nodeHasBindings(n)) && (r = f(n, null , t, e).shouldBindDescendants),
                    r && !h[d.a.v(n)] && s(t, n, !i)
                }
                function l(t) {
                    var n = []
                      , e = {}
                      , r = [];
                    return d.a.A(t, function i(o) {
                        if (!e[o]) {
                            var a = d.getBindingHandler(o);
                            a && (a.after && (r.push(o),
                            d.a.o(a.after, function(n) {
                                if (t[n]) {
                                    if (-1 !== d.a.m(r, n))
                                        throw Error("Cannot combine the following bindings, because they have a cyclic dependency: " + r.join(", "));
                                    i(n)
                                }
                            }
                            ),
                            r.length--),
                            n.push({
                                key: o,
                                Eb: a
                            })),
                            e[o] = !0
                        }
                    }
                    ),
                    n
                }
                function f(n, e, i, o) {
                    var a = d.a.f.get(n, m);
                    if (!e) {
                        if (a)
                            throw Error("You cannot apply bindings multiple times to the same element.");
                        d.a.f.set(n, m, !0)
                    }
                    !a && o && d.Tb(n, i);
                    var s;
                    if (e && "function" != typeof e)
                        s = e;
                    else {
                        var c = d.L.instance
                          , f = c.getBindingAccessors || u
                          , p = d.j(function() {
                            return (s = e ? e(i, n) : f.call(c, n, i)) && i.K && i.K(),
                            s
                        }
                        , null , {
                            q: n
                        });
                        s && p.$() || (p = null )
                    }
                    var h;
                    if (s) {
                        var v = p ? function(t) {
                            return function() {
                                return r(p()[t])
                            }
                        }
                         : function(t) {
                            return s[t]
                        }
                          , g = function() {
                            return d.a.pa(p ? p() : s, r)
                        }
                        ;
                        g.get = function(t) {
                            return s[t] && r(v(t))
                        }
                        ,
                        g.has = function(t) {
                            return t in s
                        }
                        ,
                        o = l(s),
                        d.a.o(o, function(e) {
                            var r = e.Eb.init
                              , o = e.Eb.update
                              , a = e.key;
                            if (8 === n.nodeType && !d.e.R[a])
                                throw Error("The binding '" + a + "' cannot be used with virtual elements");
                            try {
                                "function" == typeof r && d.k.u(function() {
                                    var e = r(n, v(a), g, i.$data, i);
                                    if (e && e.controlsDescendantBindings) {
                                        if (h !== t)
                                            throw Error("Multiple bindings (" + h + " and " + a + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
                                        h = a
                                    }
                                }
                                ),
                                "function" == typeof o && d.j(function() {
                                    o(n, v(a), g, i.$data, i)
                                }
                                , null , {
                                    q: n
                                })
                            } catch (u) {
                                throw u.message = 'Unable to process binding "' + a + ": " + s[a] + '"\nMessage: ' + u.message,
                                u
                            }
                        }
                        )
                    }
                    return {
                        shouldBindDescendants: h === t
                    }
                }
                function p(t) {
                    return t && t instanceof d.N ? t : new d.N(t)
                }
                d.d = {};
                var h = {
                    script: !0,
                    textarea: !0
                };
                d.getBindingHandler = function(t) {
                    return d.d[t]
                }
                ,
                d.N = function(n, e, r, i) {
                    var o, a = this, u = "function" == typeof n && !d.F(n), s = d.j(function() {
                        var t = u ? n() : n
                          , o = d.a.c(t);
                        return e ? (e.K && e.K(),
                        d.a.extend(a, e),
                        s && (a.K = s)) : (a.$parents = [],
                        a.$root = o,
                        a.ko = d),
                        a.$rawData = t,
                        a.$data = o,
                        r && (a[r] = o),
                        i && i(a, e, o),
                        a.$data
                    }
                    , null , {
                        Pa: function() {
                            return o && !d.a.tb(o)
                        },
                        q: !0
                    });
                    s.$() && (a.K = s,
                    s.equalityComparer = null ,
                    o = [],
                    s.Zb = function(n) {
                        o.push(n),
                        d.a.C.fa(n, function(n) {
                            d.a.ya(o, n),
                            o.length || (s.p(),
                            a.K = s = t)
                        }
                        )
                    }
                    )
                }
                ,
                d.N.prototype.createChildContext = function(t, n, e) {
                    return new d.N(t,this,n,function(t, n) {
                        t.$parentContext = n,
                        t.$parent = n.$data,
                        t.$parents = (n.$parents || []).slice(0),
                        t.$parents.unshift(t.$parent),
                        e && e(t)
                    }
                    )
                }
                ,
                d.N.prototype.extend = function(t) {
                    return new d.N(this.K || this.$data,this,null ,function(n, e) {
                        n.$rawData = e.$rawData,
                        d.a.extend(n, "function" == typeof t ? t() : t)
                    }
                    )
                }
                ;
                var m = d.a.f.I()
                  , v = d.a.f.I();
                d.Tb = function(t, n) {
                    return 2 != arguments.length ? d.a.f.get(t, v) : (d.a.f.set(t, v, n),
                    void (n.K && n.K.Zb(t)))
                }
                ,
                d.va = function(t, n, e) {
                    return 1 === t.nodeType && d.e.Kb(t),
                    f(t, n, p(e), !0)
                }
                ,
                d.cc = function(t, n, e) {
                    return e = p(e),
                    d.va(t, a(n, e, t), e)
                }
                ,
                d.Ja = function(t, n) {
                    1 !== n.nodeType && 8 !== n.nodeType || s(p(t), n, !0)
                }
                ,
                d.ub = function(t, e) {
                    if (!i && n.jQuery && (i = n.jQuery),
                    e && 1 !== e.nodeType && 8 !== e.nodeType)
                        throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");
                    e = e || n.document.body,
                    c(p(t), e, !0)
                }
                ,
                d.Oa = function(n) {
                    switch (n.nodeType) {
                    case 1:
                    case 8:
                        var e = d.Tb(n);
                        if (e)
                            return e;
                        if (n.parentNode)
                            return d.Oa(n.parentNode)
                    }
                    return t
                }
                ,
                d.gc = function(n) {
                    return (n = d.Oa(n)) ? n.$data : t
                }
                ,
                d.b("bindingHandlers", d.d),
                d.b("applyBindings", d.ub),
                d.b("applyBindingsToDescendants", d.Ja),
                d.b("applyBindingAccessorsToNode", d.va),
                d.b("applyBindingsToNode", d.cc),
                d.b("contextFor", d.Oa),
                d.b("dataFor", d.gc)
            }
            (),
            function(t) {
                function n(n, r) {
                    var a, u = i.hasOwnProperty(n) ? i[n] : t;
                    u ? u.U(r) : (u = i[n] = new d.Q,
                    u.U(r),
                    e(n, function(t, e) {
                        var r = !(!e || !e.synchronous);
                        o[n] = {
                            definition: t,
                            tc: r
                        },
                        delete i[n],
                        a || r ? u.notifySubscribers(t) : setTimeout(function() {
                            u.notifySubscribers(t)
                        }
                        , 0)
                    }
                    ),
                    a = !0)
                }
                function e(t, n) {
                    r("getConfig", [t], function(e) {
                        e ? r("loadComponent", [t, e], function(t) {
                            n(t, e)
                        }
                        ) : n(null , null )
                    }
                    )
                }
                function r(n, e, i, o) {
                    o || (o = d.g.loaders.slice(0));
                    var a = o.shift();
                    if (a) {
                        var u = a[n];
                        if (u) {
                            var s = !1;
                            if (u.apply(a, e.concat(function(t) {
                                s ? i(null ) : null  !== t ? i(t) : r(n, e, i, o)
                            }
                            )) !== t && (s = !0,
                            !a.suppressLoaderExceptions))
                                throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")
                        } else
                            r(n, e, i, o)
                    } else
                        i(null )
                }
                var i = {}
                  , o = {};
                d.g = {
                    get: function(e, r) {
                        var i = o.hasOwnProperty(e) ? o[e] : t;
                        i ? i.tc ? d.k.u(function() {
                            r(i.definition)
                        }
                        ) : setTimeout(function() {
                            r(i.definition)
                        }
                        , 0) : n(e, r)
                    },
                    zb: function(t) {
                        delete o[t]
                    },
                    ob: r
                },
                d.g.loaders = [],
                d.b("components", d.g),
                d.b("components.get", d.g.get),
                d.b("components.clearCachedDefinition", d.g.zb)
            }
            (),
            function() {
                function t(t, n, e, r) {
                    function i() {
                        0 === --u && r(o)
                    }
                    var o = {}
                      , u = 2
                      , s = e.template;
                    e = e.viewModel,
                    s ? a(n, s, function(n) {
                        d.g.ob("loadTemplate", [t, n], function(t) {
                            o.template = t,
                            i()
                        }
                        )
                    }
                    ) : i(),
                    e ? a(n, e, function(n) {
                        d.g.ob("loadViewModel", [t, n], function(t) {
                            o[l] = t,
                            i()
                        }
                        )
                    }
                    ) : i()
                }
                function r(t, n, e) {
                    if ("function" == typeof n)
                        e(function(t) {
                            return new n(t)
                        }
                        );
                    else if ("function" == typeof n[l])
                        e(n[l]);
                    else if ("instance" in n) {
                        var i = n.instance;
                        e(function() {
                            return i
                        }
                        )
                    } else
                        "viewModel" in n ? r(t, n.viewModel, e) : t("Unknown viewModel value: " + n)
                }
                function i(t) {
                    switch (d.a.v(t)) {
                    case "script":
                        return d.a.ca(t.text);
                    case "textarea":
                        return d.a.ca(t.value);
                    case "template":
                        if (o(t.content))
                            return d.a.la(t.content.childNodes)
                    }
                    return d.a.la(t.childNodes)
                }
                function o(t) {
                    return n.DocumentFragment ? t instanceof DocumentFragment : t && 11 === t.nodeType
                }
                function a(t, e, r) {
                    "string" == typeof e.require ? u || n.require ? (u || n.require)([e.require], r) : t("Uses require, but no AMD loader is present") : r(e)
                }
                function s(t) {
                    return function(n) {
                        throw Error("Component '" + t + "': " + n)
                    }
                }
                var c = {};
                d.g.register = function(t, n) {
                    if (!n)
                        throw Error("Invalid configuration for " + t);
                    if (d.g.Xa(t))
                        throw Error("Component " + t + " is already registered");
                    c[t] = n
                }
                ,
                d.g.Xa = function(t) {
                    return t in c
                }
                ,
                d.g.Ec = function(t) {
                    delete c[t],
                    d.g.zb(t)
                }
                ,
                d.g.Ab = {
                    getConfig: function(t, n) {
                        n(c.hasOwnProperty(t) ? c[t] : null )
                    },
                    loadComponent: function(n, e, r) {
                        var i = s(n);
                        a(i, e, function(e) {
                            t(n, i, e, r)
                        }
                        )
                    },
                    loadTemplate: function(t, r, a) {
                        if (t = s(t),
                        "string" == typeof r)
                            a(d.a.ca(r));
                        else if (r instanceof Array)
                            a(r);
                        else if (o(r))
                            a(d.a.O(r.childNodes));
                        else if (r.element)
                            if (r = r.element,
                            n.HTMLElement ? r instanceof HTMLElement : r && r.tagName && 1 === r.nodeType)
                                a(i(r));
                            else if ("string" == typeof r) {
                                var u = e.getElementById(r);
                                u ? a(i(u)) : t("Cannot find element with ID " + r)
                            } else
                                t("Unknown element type: " + r);
                        else
                            t("Unknown template value: " + r)
                    },
                    loadViewModel: function(t, n, e) {
                        r(s(t), n, e)
                    }
                };
                var l = "createViewModel";
                d.b("components.register", d.g.register),
                d.b("components.isRegistered", d.g.Xa),
                d.b("components.unregister", d.g.Ec),
                d.b("components.defaultLoader", d.g.Ab),
                d.g.loaders.push(d.g.Ab),
                d.g.$b = c
            }
            (),
            function() {
                function t(t, e) {
                    var r = t.getAttribute("params");
                    if (r) {
                        var r = n.parseBindingsString(r, e, t, {
                            valueAccessors: !0,
                            bindingParams: !0
                        })
                          , r = d.a.pa(r, function(n) {
                            return d.w(n, null , {
                                q: t
                            })
                        }
                        )
                          , i = d.a.pa(r, function(n) {
                            var e = n.B();
                            return n.$() ? d.w({
                                read: function() {
                                    return d.a.c(n())
                                },
                                write: d.Da(e) && function(t) {
                                    n()(t)
                                }
                                ,
                                q: t
                            }) : e
                        }
                        );
                        return i.hasOwnProperty("$raw") || (i.$raw = r),
                        i
                    }
                    return {
                        $raw: {}
                    }
                }
                d.g.getComponentNameForNode = function(t) {
                    return t = d.a.v(t),
                    d.g.Xa(t) && t
                }
                ,
                d.g.sb = function(n, e, r, i) {
                    if (1 === e.nodeType) {
                        var o = d.g.getComponentNameForNode(e);
                        if (o) {
                            if (n = n || {},
                            n.component)
                                throw Error('Cannot use the "component" binding on a custom element matching a component');
                            var a = {
                                name: o,
                                params: t(e, r)
                            };
                            n.component = i ? function() {
                                return a
                            }
                             : a
                        }
                    }
                    return n
                }
                ;
                var n = new d.L;
                9 > d.a.M && (d.g.register = function(t) {
                    return function(n) {
                        return e.createElement(n),
                        t.apply(this, arguments)
                    }
                }
                (d.g.register),
                e.createDocumentFragment = function(t) {
                    return function() {
                        var n, e = t(), r = d.g.$b;
                        for (n in r)
                            r.hasOwnProperty(n) && e.createElement(n);
                        return e
                    }
                }
                (e.createDocumentFragment))
            }
            (),
            function(t) {
                function n(t, n, e) {
                    if (n = n.template,
                    !n)
                        throw Error("Component '" + t + "' has no template");
                    t = d.a.la(n),
                    d.e.T(e, t)
                }
                function e(t, n, e, r) {
                    var i = t.createViewModel;
                    return i ? i.call(t, r, {
                        element: n,
                        templateNodes: e
                    }) : r
                }
                var r = 0;
                d.d.component = {
                    init: function(i, o, a, u, s) {
                        function c() {
                            var t = l && l.dispose;
                            "function" == typeof t && t.call(l),
                            f = null 
                        }
                        var l, f, p = d.a.O(d.e.childNodes(i));
                        return d.a.C.fa(i, c),
                        d.w(function() {
                            var a, u, h = d.a.c(o());
                            if ("string" == typeof h ? a = h : (a = d.a.c(h.name),
                            u = d.a.c(h.params)),
                            !a)
                                throw Error("No component name specified");
                            var m = f = ++r;
                            d.g.get(a, function(r) {
                                if (f === m) {
                                    if (c(),
                                    !r)
                                        throw Error("Unknown component '" + a + "'");
                                    n(a, r, i);
                                    var o = e(r, i, p, u);
                                    r = s.createChildContext(o, t, function(t) {
                                        t.$component = o,
                                        t.$componentTemplateNodes = p
                                    }
                                    ),
                                    l = o,
                                    d.Ja(r, i)
                                }
                            }
                            )
                        }
                        , null , {
                            q: i
                        }),
                        {
                            controlsDescendantBindings: !0
                        }
                    }
                },
                d.e.R.component = !0
            }
            ();
            var v = {
                "class": "className",
                "for": "htmlFor"
            };
            d.d.attr = {
                update: function(n, e) {
                    var r = d.a.c(e()) || {};
                    d.a.A(r, function(e, r) {
                        r = d.a.c(r);
                        var i = !1 === r || null  === r || r === t;
                        i && n.removeAttribute(e),
                        8 >= d.a.M && e in v ? (e = v[e],
                        i ? n.removeAttribute(e) : n[e] = r) : i || n.setAttribute(e, r.toString()),
                        "name" === e && d.a.Rb(n, i ? "" : r.toString())
                    }
                    )
                }
            },
            function() {
                d.d.checked = {
                    after: ["value", "attr"],
                    init: function(n, e, r) {
                        function i() {
                            var t = n.checked
                              , i = f ? a() : t;
                            if (!d.Z.Ca() && (!s || t)) {
                                var o = d.k.u(e);
                                c ? l !== i ? (t && (d.a.ga(o, i, !0),
                                d.a.ga(o, l, !1)),
                                l = i) : d.a.ga(o, i, t) : d.h.ra(o, r, "checked", i, !0)
                            }
                        }
                        function o() {
                            var t = d.a.c(e());
                            n.checked = c ? 0 <= d.a.m(t, a()) : u ? t : a() === t
                        }
                        var a = d.Nb(function() {
                            return r.has("checkedValue") ? d.a.c(r.get("checkedValue")) : r.has("value") ? d.a.c(r.get("value")) : n.value
                        }
                        )
                          , u = "checkbox" == n.type
                          , s = "radio" == n.type;
                        if (u || s) {
                            var c = u && d.a.c(e()) instanceof Array
                              , l = c ? a() : t
                              , f = s || c;
                            s && !n.name && d.d.uniqueName.init(n, function() {
                                return !0
                            }
                            ),
                            d.w(i, null , {
                                q: n
                            }),
                            d.a.n(n, "click", i),
                            d.w(o, null , {
                                q: n
                            })
                        }
                    }
                },
                d.h.V.checked = !0,
                d.d.checkedValue = {
                    update: function(t, n) {
                        t.value = d.a.c(n())
                    }
                }
            }
            (),
            d.d.css = {
                update: function(t, n) {
                    var e = d.a.c(n());
                    null  !== e && "object" == typeof e ? d.a.A(e, function(n, e) {
                        e = d.a.c(e),
                        d.a.Ia(t, n, e)
                    }
                    ) : (e = String(e || ""),
                    d.a.Ia(t, t.__ko__cssValue, !1),
                    t.__ko__cssValue = e,
                    d.a.Ia(t, e, !0))
                }
            },
            d.d.enable = {
                update: function(t, n) {
                    var e = d.a.c(n());
                    e && t.disabled ? t.removeAttribute("disabled") : e || t.disabled || (t.disabled = !0)
                }
            },
            d.d.disable = {
                update: function(t, n) {
                    d.d.enable.update(t, function() {
                        return !d.a.c(n())
                    }
                    )
                }
            },
            d.d.event = {
                init: function(t, n, e, r, i) {
                    var o = n() || {};
                    d.a.A(o, function(o) {
                        "string" == typeof o && d.a.n(t, o, function(t) {
                            var a, u = n()[o];
                            if (u) {
                                try {
                                    var s = d.a.O(arguments);
                                    r = i.$data,
                                    s.unshift(r),
                                    a = u.apply(r, s)
                                } finally {
                                    !0 !== a && (t.preventDefault ? t.preventDefault() : t.returnValue = !1)
                                }
                                !1 === e.get(o + "Bubble") && (t.cancelBubble = !0,
                                t.stopPropagation && t.stopPropagation())
                            }
                        }
                        )
                    }
                    )
                }
            },
            d.d.foreach = {
                Ib: function(t) {
                    return function() {
                        var n = t()
                          , e = d.a.cb(n);
                        return e && "number" != typeof e.length ? (d.a.c(n),
                        {
                            foreach: e.data,
                            as: e.as,
                            includeDestroyed: e.includeDestroyed,
                            afterAdd: e.afterAdd,
                            beforeRemove: e.beforeRemove,
                            afterRender: e.afterRender,
                            beforeMove: e.beforeMove,
                            afterMove: e.afterMove,
                            templateEngine: d.P.Va
                        }) : {
                            foreach: n,
                            templateEngine: d.P.Va
                        }
                    }
                },
                init: function(t, n) {
                    return d.d.template.init(t, d.d.foreach.Ib(n))
                },
                update: function(t, n, e, r, i) {
                    return d.d.template.update(t, d.d.foreach.Ib(n), e, r, i)
                }
            },
            d.h.ka.foreach = !1,
            d.e.R.foreach = !0,
            d.d.hasfocus = {
                init: function(t, n, e) {
                    function r(r) {
                        t.__ko_hasfocusUpdating = !0;
                        var i = t.ownerDocument;
                        if ("activeElement" in i) {
                            var o;
                            try {
                                o = i.activeElement
                            } catch (a) {
                                o = i.body
                            }
                            r = o === t
                        }
                        i = n(),
                        d.h.ra(i, e, "hasfocus", r, !0),
                        t.__ko_hasfocusLastValue = r,
                        t.__ko_hasfocusUpdating = !1
                    }
                    var i = r.bind(null , !0)
                      , o = r.bind(null , !1);
                    d.a.n(t, "focus", i),
                    d.a.n(t, "focusin", i),
                    d.a.n(t, "blur", o),
                    d.a.n(t, "focusout", o)
                },
                update: function(t, n) {
                    var e = !!d.a.c(n());
                    t.__ko_hasfocusUpdating || t.__ko_hasfocusLastValue === e || (e ? t.focus() : t.blur(),
                    d.k.u(d.a.qa, null , [t, e ? "focusin" : "focusout"]))
                }
            },
            d.h.V.hasfocus = !0,
            d.d.hasFocus = d.d.hasfocus,
            d.h.V.hasFocus = !0,
            d.d.html = {
                init: function() {
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(t, n) {
                    d.a.gb(t, n())
                }
            },
            f("if"),
            f("ifnot", !1, !0),
            f("with", !0, !1, function(t, n) {
                return t.createChildContext(n)
            }
            );
            var g = {};
            d.d.options = {
                init: function(t) {
                    if ("select" !== d.a.v(t))
                        throw Error("options binding applies only to SELECT elements");
                    for (; 0 < t.length; )
                        t.remove(0);
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(n, e, r) {
                    function i() {
                        return d.a.xa(n.options, function(t) {
                            return t.selected
                        }
                        )
                    }
                    function o(t, n, e) {
                        var r = typeof n;
                        return "function" == r ? n(t) : "string" == r ? t[n] : e
                    }
                    function a(t, e) {
                        if (m && l)
                            d.i.Y(n, d.a.c(r.get("value")), !0);
                        else if (h.length) {
                            var i = 0 <= d.a.m(h, d.i.s(e[0]));
                            d.a.Sb(e[0], i),
                            m && !i && d.k.u(d.a.qa, null , [n, "change"])
                        }
                    }
                    var u = n.multiple
                      , s = 0 != n.length && u ? n.scrollTop : null 
                      , c = d.a.c(e())
                      , l = r.get("valueAllowUnset") && r.has("value")
                      , f = r.get("optionsIncludeDestroyed");
                    e = {};
                    var p, h = [];
                    l || (u ? h = d.a.Ka(i(), d.i.s) : 0 <= n.selectedIndex && h.push(d.i.s(n.options[n.selectedIndex]))),
                    c && ("undefined" == typeof c.length && (c = [c]),
                    p = d.a.xa(c, function(n) {
                        return f || n === t || null  === n || !d.a.c(n._destroy)
                    }
                    ),
                    r.has("optionsCaption") && (c = d.a.c(r.get("optionsCaption")),
                    null  !== c && c !== t && p.unshift(g)));
                    var m = !1;
                    e.beforeRemove = function(t) {
                        n.removeChild(t)
                    }
                    ,
                    c = a,
                    r.has("optionsAfterRender") && "function" == typeof r.get("optionsAfterRender") && (c = function(n, e) {
                        a(0, e),
                        d.k.u(r.get("optionsAfterRender"), null , [e[0], n !== g ? n : t])
                    }
                    ),
                    d.a.fb(n, p, function(e, i, a) {
                        return a.length && (h = !l && a[0].selected ? [d.i.s(a[0])] : [],
                        m = !0),
                        i = n.ownerDocument.createElement("option"),
                        e === g ? (d.a.Ha(i, r.get("optionsCaption")),
                        d.i.Y(i, t)) : (a = o(e, r.get("optionsValue"), e),
                        d.i.Y(i, d.a.c(a)),
                        e = o(e, r.get("optionsText"), a),
                        d.a.Ha(i, e)),
                        [i]
                    }
                    , e, c),
                    d.k.u(function() {
                        l ? d.i.Y(n, d.a.c(r.get("value")), !0) : (u ? h.length && i().length < h.length : h.length && 0 <= n.selectedIndex ? d.i.s(n.options[n.selectedIndex]) !== h[0] : h.length || 0 <= n.selectedIndex) && d.a.qa(n, "change")
                    }
                    ),
                    d.a.kc(n),
                    s && 20 < Math.abs(s - n.scrollTop) && (n.scrollTop = s)
                }
            },
            d.d.options.ab = d.a.f.I(),
            d.d.selectedOptions = {
                after: ["options", "foreach"],
                init: function(t, n, e) {
                    d.a.n(t, "change", function() {
                        var r = n()
                          , i = [];
                        d.a.o(t.getElementsByTagName("option"), function(t) {
                            t.selected && i.push(d.i.s(t))
                        }
                        ),
                        d.h.ra(r, e, "selectedOptions", i)
                    }
                    )
                },
                update: function(t, n) {
                    if ("select" != d.a.v(t))
                        throw Error("values binding applies only to SELECT elements");
                    var e = d.a.c(n());
                    e && "number" == typeof e.length && d.a.o(t.getElementsByTagName("option"), function(t) {
                        var n = 0 <= d.a.m(e, d.i.s(t));
                        d.a.Sb(t, n)
                    }
                    )
                }
            },
            d.h.V.selectedOptions = !0,
            d.d.style = {
                update: function(n, e) {
                    var r = d.a.c(e() || {});
                    d.a.A(r, function(e, r) {
                        r = d.a.c(r),
                        (null  === r || r === t || !1 === r) && (r = ""),
                        n.style[e] = r
                    }
                    )
                }
            },
            d.d.submit = {
                init: function(t, n, e, r, i) {
                    if ("function" != typeof n())
                        throw Error("The value for a submit binding must be a function");
                    d.a.n(t, "submit", function(e) {
                        var r, o = n();
                        try {
                            r = o.call(i.$data, t)
                        } finally {
                            !0 !== r && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
                        }
                    }
                    )
                }
            },
            d.d.text = {
                init: function() {
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(t, n) {
                    d.a.Ha(t, n())
                }
            },
            d.e.R.text = !0,
            function() {
                if (n && n.navigator)
                    var e = function(t) {
                        return t ? parseFloat(t[1]) : void 0
                    }
                      , r = n.opera && n.opera.version && parseInt(n.opera.version())
                      , i = n.navigator.userAgent
                      , o = e(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i))
                      , a = e(i.match(/Firefox\/([^ ]*)/));
                if (10 > d.a.M)
                    var u = d.a.f.I()
                      , s = d.a.f.I()
                      , c = function(t) {
                        var n = this.activeElement;
                        (n = n && d.a.f.get(n, s)) && n(t)
                    }
                      , l = function(t, n) {
                        var e = t.ownerDocument;
                        d.a.f.get(e, u) || (d.a.f.set(e, u, !0),
                        d.a.n(e, "selectionchange", c)),
                        d.a.f.set(t, s, n)
                    }
                    ;
                d.d.textInput = {
                    init: function(n, e, i) {
                        function u(t, e) {
                            d.a.n(n, t, e)
                        }
                        function s() {
                            var r = d.a.c(e());
                            (null  === r || r === t) && (r = ""),
                            h !== t && r === h ? setTimeout(s, 4) : n.value !== r && (m = r,
                            n.value = r)
                        }
                        function c() {
                            p || (h = n.value,
                            p = setTimeout(f, 4))
                        }
                        function f() {
                            clearTimeout(p),
                            h = p = t;
                            var r = n.value;
                            m !== r && (m = r,
                            d.h.ra(e(), i, "textInput", r))
                        }
                        var p, h, m = n.value;
                        10 > d.a.M ? (u("propertychange", function(t) {
                            "value" === t.propertyName && f()
                        }
                        ),
                        8 == d.a.M && (u("keyup", f),
                        u("keydown", f)),
                        8 <= d.a.M && (l(n, f),
                        u("dragend", c))) : (u("input", f),
                        5 > o && "textarea" === d.a.v(n) ? (u("keydown", c),
                        u("paste", c),
                        u("cut", c)) : 11 > r ? u("keydown", c) : 4 > a && (u("DOMAutoComplete", f),
                        u("dragdrop", f),
                        u("drop", f))),
                        u("change", f),
                        d.w(s, null , {
                            q: n
                        })
                    }
                },
                d.h.V.textInput = !0,
                d.d.textinput = {
                    preprocess: function(t, n, e) {
                        e("textInput", t)
                    }
                }
            }
            (),
            d.d.uniqueName = {
                init: function(t, n) {
                    if (n()) {
                        var e = "ko_unique_" + ++d.d.uniqueName.fc;
                        d.a.Rb(t, e)
                    }
                }
            },
            d.d.uniqueName.fc = 0,
            d.d.value = {
                after: ["options", "foreach"],
                init: function(t, n, e) {
                    if ("input" != t.tagName.toLowerCase() || "checkbox" != t.type && "radio" != t.type) {
                        var r = ["change"]
                          , i = e.get("valueUpdate")
                          , o = !1
                          , a = null ;
                        i && ("string" == typeof i && (i = [i]),
                        d.a.ia(r, i),
                        r = d.a.wb(r));
                        var u = function() {
                            a = null ,
                            o = !1;
                            var r = n()
                              , i = d.i.s(t);
                            d.h.ra(r, e, "value", i)
                        }
                        ;
                        !d.a.M || "input" != t.tagName.toLowerCase() || "text" != t.type || "off" == t.autocomplete || t.form && "off" == t.form.autocomplete || -1 != d.a.m(r, "propertychange") || (d.a.n(t, "propertychange", function() {
                            o = !0
                        }
                        ),
                        d.a.n(t, "focus", function() {
                            o = !1
                        }
                        ),
                        d.a.n(t, "blur", function() {
                            o && u()
                        }
                        )),
                        d.a.o(r, function(n) {
                            var e = u;
                            d.a.Dc(n, "after") && (e = function() {
                                a = d.i.s(t),
                                setTimeout(u, 0)
                            }
                            ,
                            n = n.substring(5)),
                            d.a.n(t, n, e)
                        }
                        );
                        var s = function() {
                            var r = d.a.c(n())
                              , i = d.i.s(t);
                            if (null  !== a && r === a)
                                setTimeout(s, 0);
                            else if (r !== i)
                                if ("select" === d.a.v(t)) {
                                    var o = e.get("valueAllowUnset")
                                      , i = function() {
                                        d.i.Y(t, r, o)
                                    }
                                    ;
                                    i(),
                                    o || r === d.i.s(t) ? setTimeout(i, 0) : d.k.u(d.a.qa, null , [t, "change"])
                                } else
                                    d.i.Y(t, r)
                        }
                        ;
                        d.w(s, null , {
                            q: t
                        })
                    } else
                        d.va(t, {
                            checkedValue: n
                        })
                },
                update: function() {}
            },
            d.h.V.value = !0,
            d.d.visible = {
                update: function(t, n) {
                    var e = d.a.c(n())
                      , r = "none" != t.style.display;
                    e && !r ? t.style.display = "" : !e && r && (t.style.display = "none")
                }
            },
            function(t) {
                d.d[t] = {
                    init: function(n, e, r, i, o) {
                        return d.d.event.init.call(this, n, function() {
                            var n = {};
                            return n[t] = e(),
                            n
                        }
                        , r, i, o)
                    }
                }
            }
            ("click"),
            d.J = function() {}
            ,
            d.J.prototype.renderTemplateSource = function() {
                throw Error("Override renderTemplateSource")
            }
            ,
            d.J.prototype.createJavaScriptEvaluatorBlock = function() {
                throw Error("Override createJavaScriptEvaluatorBlock")
            }
            ,
            d.J.prototype.makeTemplateSource = function(t, n) {
                if ("string" == typeof t) {
                    n = n || e;
                    var r = n.getElementById(t);
                    if (!r)
                        throw Error("Cannot find template with ID " + t);
                    return new d.t.l(r)
                }
                if (1 == t.nodeType || 8 == t.nodeType)
                    return new d.t.ha(t);
                throw Error("Unknown template type: " + t)
            }
            ,
            d.J.prototype.renderTemplate = function(t, n, e, r) {
                return t = this.makeTemplateSource(t, r),
                this.renderTemplateSource(t, n, e, r)
            }
            ,
            d.J.prototype.isTemplateRewritten = function(t, n) {
                return !1 === this.allowTemplateRewriting ? !0 : this.makeTemplateSource(t, n).data("isRewritten")
            }
            ,
            d.J.prototype.rewriteTemplate = function(t, n, e) {
                t = this.makeTemplateSource(t, e),
                n = n(t.text()),
                t.text(n),
                t.data("isRewritten", !0)
            }
            ,
            d.b("templateEngine", d.J),
            d.kb = function() {
                function t(t, n, e, r) {
                    t = d.h.bb(t);
                    for (var i = d.h.ka, o = 0; o < t.length; o++) {
                        var a = t[o].key;
                        if (i.hasOwnProperty(a)) {
                            var u = i[a];
                            if ("function" == typeof u) {
                                if (a = u(t[o].value))
                                    throw Error(a)
                            } else if (!u)
                                throw Error("This template engine does not support the '" + a + "' binding within its templates")
                        }
                    }
                    return e = "ko.__tr_ambtns(function($context,$element){return(function(){return{ " + d.h.Ea(t, {
                        valueAccessors: !0
                    }) + " } })()},'" + e.toLowerCase() + "')",
                    r.createJavaScriptEvaluatorBlock(e) + n
                }
                var n = /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi
                  , e = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;
                return {
                    lc: function(t, n, e) {
                        n.isTemplateRewritten(t, e) || n.rewriteTemplate(t, function(t) {
                            return d.kb.xc(t, n)
                        }
                        , e)
                    },
                    xc: function(r, i) {
                        return r.replace(n, function(n, e, r, o, a) {
                            return t(a, e, r, i)
                        }
                        ).replace(e, function(n, e) {
                            return t(e, "<!-- ko -->", "#comment", i)
                        }
                        )
                    },
                    dc: function(t, n) {
                        return d.H.$a(function(e, r) {
                            var i = e.nextSibling;
                            i && i.nodeName.toLowerCase() === n && d.va(i, t, r)
                        }
                        )
                    }
                }
            }
            (),
            d.b("__tr_ambtns", d.kb.dc),
            function() {
                d.t = {},
                d.t.l = function(t) {
                    this.l = t
                }
                ,
                d.t.l.prototype.text = function() {
                    var t = d.a.v(this.l)
                      , t = "script" === t ? "text" : "textarea" === t ? "value" : "innerHTML";
                    if (0 == arguments.length)
                        return this.l[t];
                    var n = arguments[0];
                    "innerHTML" === t ? d.a.gb(this.l, n) : this.l[t] = n
                }
                ;
                var n = d.a.f.I() + "_";
                d.t.l.prototype.data = function(t) {
                    return 1 === arguments.length ? d.a.f.get(this.l, n + t) : void d.a.f.set(this.l, n + t, arguments[1])
                }
                ;
                var e = d.a.f.I();
                d.t.ha = function(t) {
                    this.l = t
                }
                ,
                d.t.ha.prototype = new d.t.l,
                d.t.ha.prototype.text = function() {
                    if (0 == arguments.length) {
                        var n = d.a.f.get(this.l, e) || {};
                        return n.lb === t && n.Na && (n.lb = n.Na.innerHTML),
                        n.lb
                    }
                    d.a.f.set(this.l, e, {
                        lb: arguments[0]
                    })
                }
                ,
                d.t.l.prototype.nodes = function() {
                    return 0 == arguments.length ? (d.a.f.get(this.l, e) || {}).Na : void d.a.f.set(this.l, e, {
                        Na: arguments[0]
                    })
                }
                ,
                d.b("templateSources", d.t),
                d.b("templateSources.domElement", d.t.l),
                d.b("templateSources.anonymousTemplate", d.t.ha)
            }
            (),
            function() {
                function n(t, n, e) {
                    var r;
                    for (n = d.e.nextSibling(n); t && (r = t) !== n; )
                        t = d.e.nextSibling(r),
                        e(r, t)
                }
                function e(t, e) {
                    if (t.length) {
                        var r = t[0]
                          , i = t[t.length - 1]
                          , o = r.parentNode
                          , a = d.L.instance
                          , u = a.preprocessNode;
                        if (u) {
                            if (n(r, i, function(t, n) {
                                var e = t.previousSibling
                                  , o = u.call(a, t);
                                o && (t === r && (r = o[0] || n),
                                t === i && (i = o[o.length - 1] || e))
                            }
                            ),
                            t.length = 0,
                            !r)
                                return;
                            r === i ? t.push(r) : (t.push(r, i),
                            d.a.na(t, o))
                        }
                        n(r, i, function(t) {
                            1 !== t.nodeType && 8 !== t.nodeType || d.ub(e, t)
                        }
                        ),
                        n(r, i, function(t) {
                            1 !== t.nodeType && 8 !== t.nodeType || d.H.Xb(t, [e])
                        }
                        ),
                        d.a.na(t, o)
                    }
                }
                function r(t) {
                    return t.nodeType ? t : 0 < t.length ? t[0] : null 
                }
                function i(t, n, i, o, u) {
                    u = u || {};
                    var s = (t && r(t) || i || {}).ownerDocument
                      , c = u.templateEngine || a;
                    if (d.kb.lc(i, c, s),
                    i = c.renderTemplate(i, o, u, s),
                    "number" != typeof i.length || 0 < i.length && "number" != typeof i[0].nodeType)
                        throw Error("Template engine must return an array of DOM nodes");
                    switch (s = !1,
                    n) {
                    case "replaceChildren":
                        d.e.T(t, i),
                        s = !0;
                        break;
                    case "replaceNode":
                        d.a.Qb(t, i),
                        s = !0;
                        break;
                    case "ignoreTargetNode":
                        break;
                    default:
                        throw Error("Unknown renderMode: " + n)
                    }
                    return s && (e(i, o),
                    u.afterRender && d.k.u(u.afterRender, null , [i, o.$data])),
                    i
                }
                function o(t, n, e) {
                    return d.F(t) ? t() : "function" == typeof t ? t(n, e) : t
                }
                var a;
                d.hb = function(n) {
                    if (n != t && !(n instanceof d.J))
                        throw Error("templateEngine must inherit from ko.templateEngine");
                    a = n
                }
                ,
                d.eb = function(n, e, u, s, c) {
                    if (u = u || {},
                    (u.templateEngine || a) == t)
                        throw Error("Set a template engine before calling renderTemplate");
                    if (c = c || "replaceChildren",
                    s) {
                        var l = r(s);
                        return d.j(function() {
                            var t = e && e instanceof d.N ? e : new d.N(d.a.c(e))
                              , a = o(n, t.$data, t)
                              , t = i(s, c, a, t, u);
                            "replaceNode" == c && (s = t,
                            l = r(s))
                        }
                        , null , {
                            Pa: function() {
                                return !l || !d.a.Qa(l)
                            },
                            q: l && "replaceNode" == c ? l.parentNode : l
                        })
                    }
                    return d.H.$a(function(t) {
                        d.eb(n, e, u, t, "replaceNode")
                    }
                    )
                }
                ,
                d.Cc = function(n, r, a, u, s) {
                    function c(t, n) {
                        e(n, f),
                        a.afterRender && a.afterRender(n, t),
                        f = null 
                    }
                    function l(t, e) {
                        f = s.createChildContext(t, a.as, function(t) {
                            t.$index = e
                        }
                        );
                        var r = o(n, t, f);
                        return i(null , "ignoreTargetNode", r, f, a)
                    }
                    var f;
                    return d.j(function() {
                        var n = d.a.c(r) || [];
                        "undefined" == typeof n.length && (n = [n]),
                        n = d.a.xa(n, function(n) {
                            return a.includeDestroyed || n === t || null  === n || !d.a.c(n._destroy)
                        }
                        ),
                        d.k.u(d.a.fb, null , [u, n, l, a, c])
                    }
                    , null , {
                        q: u
                    })
                }
                ;
                var u = d.a.f.I();
                d.d.template = {
                    init: function(t, n) {
                        var e = d.a.c(n());
                        if ("string" == typeof e || e.name)
                            d.e.ma(t);
                        else {
                            if ("nodes" in e) {
                                if (e = e.nodes || [],
                                d.F(e))
                                    throw Error('The "nodes" option must be a plain, non-observable array.')
                            } else
                                e = d.e.childNodes(t);
                            e = d.a.Jb(e),
                            new d.t.ha(t).nodes(e)
                        }
                        return {
                            controlsDescendantBindings: !0
                        }
                    },
                    update: function(n, e, r, i, o) {
                        var a, s = e();
                        e = d.a.c(s),
                        r = !0,
                        i = null ,
                        "string" == typeof e ? e = {} : (s = e.name,
                        "if" in e && (r = d.a.c(e["if"])),
                        r && "ifnot" in e && (r = !d.a.c(e.ifnot)),
                        a = d.a.c(e.data)),
                        "foreach" in e ? i = d.Cc(s || n, r && e.foreach || [], e, n, o) : r ? (o = "data" in e ? o.createChildContext(a, e.as) : o,
                        i = d.eb(s || n, o, e, n)) : d.e.ma(n),
                        o = i,
                        (a = d.a.f.get(n, u)) && "function" == typeof a.p && a.p(),
                        d.a.f.set(n, u, o && o.$() ? o : t)
                    }
                },
                d.h.ka.template = function(t) {
                    return t = d.h.bb(t),
                    1 == t.length && t[0].unknown || d.h.vc(t, "name") ? null  : "This template engine does not support anonymous templates nested within its templates"
                }
                ,
                d.e.R.template = !0
            }
            (),
            d.b("setTemplateEngine", d.hb),
            d.b("renderTemplate", d.eb),
            d.a.Cb = function(t, n, e) {
                if (t.length && n.length) {
                    var r, i, o, a, u;
                    for (r = i = 0; (!e || e > r) && (a = t[i]); ++i) {
                        for (o = 0; u = n[o]; ++o)
                            if (a.value === u.value) {
                                a.moved = u.index,
                                u.moved = a.index,
                                n.splice(o, 1),
                                r = o = 0;
                                break
                            }
                        r += o
                    }
                }
            }
            ,
            d.a.Ma = function() {
                function t(t, n, e, r, i) {
                    var o, a, u, s, c, l = Math.min, f = Math.max, p = [], h = t.length, m = n.length, v = m - h || 1, g = h + m + 1;
                    for (o = 0; h >= o; o++)
                        for (s = u,
                        p.push(u = []),
                        c = l(m, o + v),
                        a = f(0, o - 1); c >= a; a++)
                            u[a] = a ? o ? t[o - 1] === n[a - 1] ? s[a - 1] : l(s[a] || g, u[a - 1] || g) + 1 : a + 1 : o + 1;
                    for (l = [],
                    f = [],
                    v = [],
                    o = h,
                    a = m; o || a; )
                        m = p[o][a] - 1,
                        a && m === p[o][a - 1] ? f.push(l[l.length] = {
                            status: e,
                            value: n[--a],
                            index: a
                        }) : o && m === p[o - 1][a] ? v.push(l[l.length] = {
                            status: r,
                            value: t[--o],
                            index: o
                        }) : (--a,
                        --o,
                        i.sparse || l.push({
                            status: "retained",
                            value: n[a]
                        }));
                    return d.a.Cb(f, v, 10 * h),
                    l.reverse()
                }
                return function(n, e, r) {
                    return r = "boolean" == typeof r ? {
                        dontLimitMoves: r
                    } : r || {},
                    n = n || [],
                    e = e || [],
                    n.length <= e.length ? t(n, e, "added", "deleted", r) : t(e, n, "deleted", "added", r)
                }
            }
            (),
            d.b("utils.compareArrays", d.a.Ma),
            function() {
                function n(n, e, r, i, o) {
                    var a = []
                      , u = d.j(function() {
                        var t = e(r, o, d.a.na(a, n)) || [];
                        0 < a.length && (d.a.Qb(a, t),
                        i && d.k.u(i, null , [r, t, o])),
                        a.length = 0,
                        d.a.ia(a, t)
                    }
                    , null , {
                        q: n,
                        Pa: function() {
                            return !d.a.tb(a)
                        }
                    });
                    return {
                        aa: a,
                        j: u.$() ? u : t
                    }
                }
                var e = d.a.f.I();
                d.a.fb = function(r, i, o, a, u) {
                    function s(t, n) {
                        w = f[n],
                        g !== n && (_[t] = w),
                        w.Ua(g++),
                        d.a.na(w.aa, r),
                        m.push(w),
                        y.push(w)
                    }
                    function c(t, n) {
                        if (t)
                            for (var e = 0, r = n.length; r > e; e++)
                                n[e] && d.a.o(n[e].aa, function(r) {
                                    t(r, e, n[e].wa)
                                }
                                )
                    }
                    i = i || [],
                    a = a || {};
                    var l = d.a.f.get(r, e) === t
                      , f = d.a.f.get(r, e) || []
                      , p = d.a.Ka(f, function(t) {
                        return t.wa
                    }
                    )
                      , h = d.a.Ma(p, i, a.dontLimitMoves)
                      , m = []
                      , v = 0
                      , g = 0
                      , b = []
                      , y = [];
                    i = [];
                    for (var w, x, E, _ = [], p = [], C = 0; x = h[C]; C++)
                        switch (E = x.moved,
                        x.status) {
                        case "deleted":
                            E === t && (w = f[v],
                            w.j && w.j.p(),
                            b.push.apply(b, d.a.na(w.aa, r)),
                            a.beforeRemove && (i[C] = w,
                            y.push(w))),
                            v++;
                            break;
                        case "retained":
                            s(C, v++);
                            break;
                        case "added":
                            E !== t ? s(C, E) : (w = {
                                wa: x.value,
                                Ua: d.r(g++)
                            },
                            m.push(w),
                            y.push(w),
                            l || (p[C] = w))
                        }
                    c(a.beforeMove, _),
                    d.a.o(b, a.beforeRemove ? d.S : d.removeNode);
                    for (var S, C = 0, l = d.e.firstChild(r); w = y[C]; C++) {
                        for (w.aa || d.a.extend(w, n(r, o, w.wa, u, w.Ua)),
                        v = 0; h = w.aa[v]; l = h.nextSibling,
                        S = h,
                        v++)
                            h !== l && d.e.Fb(r, h, S);
                        !w.rc && u && (u(w.wa, w.aa, w.Ua),
                        w.rc = !0)
                    }
                    c(a.beforeRemove, i),
                    c(a.afterMove, _),
                    c(a.afterAdd, p),
                    d.a.f.set(r, e, m)
                }
            }
            (),
            d.b("utils.setDomNodeChildrenFromArrayMapping", d.a.fb),
            d.P = function() {
                this.allowTemplateRewriting = !1
            }
            ,
            d.P.prototype = new d.J,
            d.P.prototype.renderTemplateSource = function(t, n, e, r) {
                return (n = (9 > d.a.M ? 0 : t.nodes) ? t.nodes() : null ) ? d.a.O(n.cloneNode(!0).childNodes) : (t = t.text(),
                d.a.ca(t, r))
            }
            ,
            d.P.Va = new d.P,
            d.hb(d.P.Va),
            d.b("nativeTemplateEngine", d.P),
            function() {
                d.Ya = function() {
                    var t = this.uc = function() {
                        if (!i || !i.tmpl)
                            return 0;
                        try {
                            if (0 <= i.tmpl.tag.tmpl.open.toString().indexOf("__"))
                                return 2
                        } catch (t) {}
                        return 1
                    }
                    ();
                    this.renderTemplateSource = function(n, r, o, a) {
                        if (a = a || e,
                        o = o || {},
                        2 > t)
                            throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");
                        var u = n.data("precompiled");
                        return u || (u = n.text() || "",
                        u = i.template(null , "{{ko_with $item.koBindingContext}}" + u + "{{/ko_with}}"),
                        n.data("precompiled", u)),
                        n = [r.$data],
                        r = i.extend({
                            koBindingContext: r
                        }, o.templateOptions),
                        r = i.tmpl(u, n, r),
                        r.appendTo(a.createElement("div")),
                        i.fragments = {},
                        r
                    }
                    ,
                    this.createJavaScriptEvaluatorBlock = function(t) {
                        return "{{ko_code ((function() { return " + t + " })()) }}"
                    }
                    ,
                    this.addTemplate = function(t, n) {
                        e.write("<script type='text/html' id='" + t + "'>" + n + "</script>")
                    }
                    ,
                    t > 0 && (i.tmpl.tag.ko_code = {
                        open: "__.push($1 || '');"
                    },
                    i.tmpl.tag.ko_with = {
                        open: "with($1) {",
                        close: "} "
                    })
                }
                ,
                d.Ya.prototype = new d.J;
                var t = new d.Ya;
                0 < t.uc && d.hb(t),
                d.b("jqueryTmplTemplateEngine", d.Ya)
            }
            ()
        }
        )
    }
    ()
}
(),
define("formattedNumber", ["scalejs!core", "knockout"], function(t, n) {
    "use strict";
    function e(t) {
        return "-" === t.charAt(0) ? "(" + t.substring(1) + ")" : t
    }
    function r(t) {
        var n = /^\([\d,\.]*\)/;
        t += "",
        t.match(n) && (t = "-" + t.replace(/[\(\)]/g, "")),
        t = t.replace(/[^\d.-]/g, "");
        var r = t.indexOf(".")
          , i = "";
        -1 !== r && (i = "." + t.substring(r + 1, t.length),
        t = t.substring(0, r));
        for (var o = /(\d+)(\d{3})/; o.test(t); )
            t = t.replace(o, "$1,$2");
        return e(t + i)
    }
    function i(t) {
        var n = /^\([\d,\.]*\)/;
        return "string" == typeof t || t instanceof String ? (t.match(n) && (t = "-" + t.replace(/[\(\)]/g, "")),
        Number(t.replace(/[^\d.-]/g, ""))) : t
    }
    function o(t) {
        return "number" == typeof t ? t.toFixed(0) : t
    }
    n.extenders.formattedNumber = function(t) {
        var e = n.computed({
            read: function() {
                return null  === t() || "" === t() ? "0" : r(t().toString())
            },
            write: function(n) {
                if (null  === n || "" === n)
                    return void t("");
                var e = i(n.toString());
                isNaN(e) || n === t() || t(e)
            }
        });
        return e
    }
    ,
    t.registerExtension({
        formattedNumber: {
            addDelimiters: r,
            removeDelimiters: i,
            removeDecimal: o
        }
    })
}
),
function(t) {
    "function" == typeof require && "object" == typeof exports && "object" == typeof module ? t(require("knockout"), exports) : "function" == typeof define && define.amd ? define("knockout.mapping", ["knockout", "exports"], t) : t(ko, ko.mapping = {})
}
(function(t, n) {
    function e(t, n) {
        for (var e = {}, r = t.length - 1; r >= 0; --r)
            e[t[r]] = t[r];
        for (var r = n.length - 1; r >= 0; --r)
            e[n[r]] = n[r];
        var i = [];
        for (var o in e)
            i.push(e[o]);
        return i
    }
    function r(t, i) {
        var o;
        for (var a in i)
            if (i.hasOwnProperty(a) && i[a])
                if (o = n.getType(t[a]),
                a && t[a] && "array" !== o && "string" !== o)
                    r(t[a], i[a]);
                else {
                    var u = "array" === n.getType(t[a]) && "array" === n.getType(i[a]);
                    u ? t[a] = e(t[a], i[a]) : t[a] = i[a]
                }
    }
    function i(t, n) {
        var e = {};
        return r(e, t),
        r(e, n),
        e
    }
    function o(t, n) {
        for (var e = i({}, t), r = C.length - 1; r >= 0; r--) {
            var o = C[r];
            e[o] && (e[""] instanceof Object || (e[""] = {}),
            e[""][o] = e[o],
            delete e[o])
        }
        return n && (e.ignore = a(n.ignore, e.ignore),
        e.include = a(n.include, e.include),
        e.copy = a(n.copy, e.copy),
        e.observe = a(n.observe, e.observe)),
        e.ignore = a(e.ignore, k.ignore),
        e.include = a(e.include, k.include),
        e.copy = a(e.copy, k.copy),
        e.observe = a(e.observe, k.observe),
        e.mappedProperties = e.mappedProperties || {},
        e.copiedProperties = e.copiedProperties || {},
        e
    }
    function a(e, r) {
        return "array" !== n.getType(e) && (e = "undefined" === n.getType(e) ? [] : [e]),
        "array" !== n.getType(r) && (r = "undefined" === n.getType(r) ? [] : [r]),
        t.utils.arrayGetDistinctValues(e.concat(r))
    }
    function u(n, e) {
        var r = t.dependentObservable;
        t.dependentObservable = function(e, r, i) {
            i = i || {},
            e && "object" == typeof e && (i = e);
            var o = i.deferEvaluation
              , a = !1
              , u = function(e) {
                var r = t.dependentObservable;
                t.dependentObservable = E;
                var i = t.isWriteableObservable(e);
                t.dependentObservable = r;
                var o = E({
                    read: function() {
                        return a || (t.utils.arrayRemoveItem(n, e),
                        a = !0),
                        e.apply(e, arguments)
                    },
                    write: i && function(t) {
                        return e(t)
                    }
                    ,
                    deferEvaluation: !0
                });
                return w && (o._wrapper = !0),
                o.__DO = e,
                o
            }
            ;
            i.deferEvaluation = !0;
            var s = new E(e,r,i);
            return o || (s = u(s),
            n.push(s)),
            s
        }
        ,
        t.dependentObservable.fn = E.fn,
        t.computed = t.dependentObservable;
        var i = e();
        return t.dependentObservable = r,
        t.computed = t.dependentObservable,
        i
    }
    function s(e, r, o, a, l, m, v) {
        var g = "array" === n.getType(t.utils.unwrapObservable(r));
        if (m = m || "",
        n.isMapped(e)) {
            var w = t.utils.unwrapObservable(e)[x];
            o = i(w, o)
        }
        var E = {
            data: r,
            parent: v || l
        }
          , _ = function() {
            return o[a] && o[a].create instanceof Function
        }
          , C = function(n) {
            return u(b, function() {
                return t.utils.unwrapObservable(l) instanceof Array ? o[a].create({
                    data: n || E.data,
                    parent: E.parent,
                    skip: S
                }) : o[a].create({
                    data: n || E.data,
                    parent: E.parent
                })
            }
            )
        }
          , M = function() {
            return o[a] && o[a].update instanceof Function
        }
          , k = function(n, e) {
            var r = {
                data: e || E.data,
                parent: E.parent,
                target: t.utils.unwrapObservable(n)
            };
            return t.isWriteableObservable(n) && (r.observable = n),
            o[a].update(r)
        }
          , A = y.get(r);
        if (A)
            return A;
        if (a = a || "",
        g) {
            var P = []
              , T = !1
              , N = function(t) {
                return t
            }
            ;
            o[a] && o[a].key && (N = o[a].key,
            T = !0),
            t.isObservable(e) || (e = t.observableArray([]),
            e.mappedRemove = function(t) {
                var n = "function" == typeof t ? t : function(n) {
                    return n === N(t)
                }
                ;
                return e.remove(function(t) {
                    return n(N(t))
                }
                )
            }
            ,
            e.mappedRemoveAll = function(n) {
                var r = d(n, N);
                return e.remove(function(n) {
                    return -1 != t.utils.arrayIndexOf(r, N(n))
                }
                )
            }
            ,
            e.mappedDestroy = function(t) {
                var n = "function" == typeof t ? t : function(n) {
                    return n === N(t)
                }
                ;
                return e.destroy(function(t) {
                    return n(N(t))
                }
                )
            }
            ,
            e.mappedDestroyAll = function(n) {
                var r = d(n, N);
                return e.destroy(function(n) {
                    return -1 != t.utils.arrayIndexOf(r, N(n))
                }
                )
            }
            ,
            e.mappedIndexOf = function(n) {
                var r = d(e(), N)
                  , i = N(n);
                return t.utils.arrayIndexOf(r, i)
            }
            ,
            e.mappedGet = function(t) {
                return e()[e.mappedIndexOf(t)]
            }
            ,
            e.mappedCreate = function(n) {
                if (-1 !== e.mappedIndexOf(n))
                    throw new Error("There already is an object with the key that you specified.");
                var r = _() ? C(n) : n;
                if (M()) {
                    var i = k(r, n);
                    t.isWriteableObservable(r) ? r(i) : r = i
                }
                return e.push(r),
                r
            }
            );
            var D = d(t.utils.unwrapObservable(e), N).sort()
              , j = d(r, N);
            T && j.sort();
            var O, I, R = t.utils.compareArrays(D, j), L = {}, z = t.utils.unwrapObservable(r), q = {}, B = !0;
            for (O = 0,
            I = z.length; I > O; O++) {
                var W = N(z[O]);
                if (void 0 === W || W instanceof Object) {
                    B = !1;
                    break
                }
                q[W] = z[O]
            }
            var F = []
              , H = 0;
            for (O = 0,
            I = R.length; I > O; O++) {
                var V, W = R[O], U = m + "[" + O + "]";
                switch (W.status) {
                case "added":
                    var Y = B ? q[W.value] : f(t.utils.unwrapObservable(r), W.value, N);
                    V = s(void 0, Y, o, a, e, U, l),
                    _() || (V = t.utils.unwrapObservable(V));
                    var X = c(t.utils.unwrapObservable(r), Y, L);
                    V === S ? H++ : F[X - H] = V,
                    L[X] = !0;
                    break;
                case "retained":
                    var Y = B ? q[W.value] : f(t.utils.unwrapObservable(r), W.value, N);
                    V = f(e, W.value, N),
                    s(V, Y, o, a, e, U, l);
                    var X = c(t.utils.unwrapObservable(r), Y, L);
                    F[X] = V,
                    L[X] = !0;
                    break;
                case "deleted":
                    V = f(e, W.value, N)
                }
                P.push({
                    event: W.status,
                    item: V
                })
            }
            e(F),
            o[a] && o[a].arrayChanged && t.utils.arrayForEach(P, function(t) {
                o[a].arrayChanged(t.event, t.item)
            }
            )
        } else if (h(r)) {
            if (e = t.utils.unwrapObservable(e),
            !e) {
                if (_()) {
                    var G = C();
                    return M() && (G = k(G)),
                    G
                }
                if (M())
                    return k(G);
                e = {}
            }
            if (M() && (e = k(e)),
            y.save(r, e),
            M())
                return e;
            p(r, function(n) {
                var i = m.length ? m + "." + n : n;
                if (-1 == t.utils.arrayIndexOf(o.ignore, i)) {
                    if (-1 != t.utils.arrayIndexOf(o.copy, i))
                        return void (e[n] = r[n]);
                    if ("object" != typeof r[n] && "array" != typeof r[n] && o.observe.length > 0 && -1 == t.utils.arrayIndexOf(o.observe, i))
                        return e[n] = r[n],
                        void (o.copiedProperties[i] = !0);
                    var a = y.get(r[n])
                      , u = s(e[n], r[n], o, n, e, i, e)
                      , c = a || u;
                    if (o.observe.length > 0 && -1 == t.utils.arrayIndexOf(o.observe, i))
                        return e[n] = c(),
                        void (o.copiedProperties[i] = !0);
                    t.isWriteableObservable(e[n]) ? (c = t.utils.unwrapObservable(c),
                    e[n]() !== c && e[n](c)) : (c = void 0 === e[n] ? c : t.utils.unwrapObservable(c),
                    e[n] = c),
                    o.mappedProperties[i] = !0
                }
            }
            )
        } else
            switch (n.getType(r)) {
            case "function":
                M() ? t.isWriteableObservable(r) ? (r(k(r)),
                e = r) : e = k(r) : e = r;
                break;
            default:
                if (t.isWriteableObservable(e)) {
                    if (M()) {
                        var Q = k(e);
                        return e(Q),
                        Q
                    }
                    var Q = t.utils.unwrapObservable(r);
                    return e(Q),
                    Q
                }
                var J = _() || M();
                if (e = _() ? C() : t.observable(t.utils.unwrapObservable(r)),
                M() && e(k(e)),
                J)
                    return e
            }
        return e
    }
    function c(t, n, e) {
        for (var r = 0, i = t.length; i > r; r++)
            if (e[r] !== !0 && t[r] === n)
                return r;
        return null 
    }
    function l(e, r) {
        var i;
        return r && (i = r(e)),
        "undefined" === n.getType(i) && (i = e),
        t.utils.unwrapObservable(i)
    }
    function f(n, e, r) {
        n = t.utils.unwrapObservable(n);
        for (var i = 0, o = n.length; o > i; i++) {
            var a = n[i];
            if (l(a, r) === e)
                return a
        }
        throw new Error("When calling ko.update*, the key '" + e + "' was not found!")
    }
    function d(n, e) {
        return t.utils.arrayMap(t.utils.unwrapObservable(n), function(t) {
            return e ? l(t, e) : t
        }
        )
    }
    function p(t, e) {
        if ("array" === n.getType(t))
            for (var r = 0; r < t.length; r++)
                e(r);
        else
            for (var i in t)
                e(i)
    }
    function h(t) {
        var e = n.getType(t);
        return ("object" === e || "array" === e) && null  !== t
    }
    function m(t, e, r) {
        var i = t || "";
        return "array" === n.getType(e) ? t && (i += "[" + r + "]") : (t && (i += "."),
        i += r),
        i
    }
    function v() {
        var n = []
          , e = [];
        this.save = function(r, i) {
            var o = t.utils.arrayIndexOf(n, r);
            o >= 0 ? e[o] = i : (n.push(r),
            e.push(i))
        }
        ,
        this.get = function(r) {
            var i = t.utils.arrayIndexOf(n, r)
              , o = i >= 0 ? e[i] : void 0;
            return o
        }
    }
    function g() {
        var t = {}
          , n = function(n) {
            var e;
            try {
                e = n
            } catch (r) {
                e = "$$$"
            }
            var i = t[e];
            return void 0 === i && (i = new v,
            t[e] = i),
            i
        }
        ;
        this.save = function(t, e) {
            n(t).save(t, e)
        }
        ,
        this.get = function(t) {
            return n(t).get(t)
        }
    }
    var b, y, w = !0, x = "__ko_mapping__", E = t.dependentObservable, _ = 0, C = ["create", "update", "key", "arrayChanged"], S = {}, M = {
        include: ["_destroy"],
        ignore: [],
        copy: [],
        observe: []
    }, k = M;
    n.isMapped = function(n) {
        var e = t.utils.unwrapObservable(n);
        return e && e[x]
    }
    ,
    n.fromJS = function(t) {
        if (0 == arguments.length)
            throw new Error("When calling ko.fromJS, pass the object you want to convert.");
        try {
            _++ || (b = [],
            y = new g);
            var n, e;
            2 == arguments.length && (arguments[1][x] ? e = arguments[1] : n = arguments[1]),
            3 == arguments.length && (n = arguments[1],
            e = arguments[2]),
            e && (n = i(n, e[x])),
            n = o(n);
            var r = s(e, t, n);
            if (e && (r = e),
            !--_)
                for (; b.length; ) {
                    var a = b.pop();
                    a && (a(),
                    a.__DO.throttleEvaluation = a.throttleEvaluation)
                }
            return r[x] = i(r[x], n),
            r
        } catch (u) {
            throw _ = 0,
            u
        }
    }
    ,
    n.fromJSON = function(e) {
        var r = t.utils.parseJson(e);
        return arguments[0] = r,
        n.fromJS.apply(this, arguments)
    }
    ,
    n.updateFromJS = function(t) {
        throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")
    }
    ,
    n.updateFromJSON = function(t) {
        throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")
    }
    ,
    n.toJS = function(e, r) {
        if (k || n.resetDefaultOptions(),
        0 == arguments.length)
            throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");
        if ("array" !== n.getType(k.ignore))
            throw new Error("ko.mapping.defaultOptions().ignore should be an array.");
        if ("array" !== n.getType(k.include))
            throw new Error("ko.mapping.defaultOptions().include should be an array.");
        if ("array" !== n.getType(k.copy))
            throw new Error("ko.mapping.defaultOptions().copy should be an array.");
        return r = o(r, e[x]),
        n.visitModel(e, function(n) {
            return t.utils.unwrapObservable(n)
        }
        , r)
    }
    ,
    n.toJSON = function(e, r) {
        var i = n.toJS(e, r);
        return t.utils.stringifyJson(i)
    }
    ,
    n.defaultOptions = function() {
        return arguments.length > 0 ? void (k = arguments[0]) : k
    }
    ,
    n.resetDefaultOptions = function() {
        k = {
            include: M.include.slice(0),
            ignore: M.ignore.slice(0),
            copy: M.copy.slice(0)
        }
    }
    ,
    n.getType = function(t) {
        if (t && "object" == typeof t) {
            if (t.constructor === Date)
                return "date";
            if (t.constructor === Array)
                return "array"
        }
        return typeof t
    }
    ,
    n.visitModel = function(e, r, i) {
        i = i || {},
        i.visitedObjects = i.visitedObjects || new g;
        var a, u = t.utils.unwrapObservable(e);
        if (!h(u))
            return r(e, i.parentName);
        i = o(i, u[x]),
        r(e, i.parentName),
        a = "array" === n.getType(u) ? [] : {},
        i.visitedObjects.save(e, a);
        var s = i.parentName;
        return p(u, function(e) {
            if (!i.ignore || -1 == t.utils.arrayIndexOf(i.ignore, e)) {
                var o = u[e];
                if (i.parentName = m(s, u, e),
                -1 !== t.utils.arrayIndexOf(i.copy, e) || -1 !== t.utils.arrayIndexOf(i.include, e) || !u[x] || !u[x].mappedProperties || u[x].mappedProperties[e] || !u[x].copiedProperties || u[x].copiedProperties[e] || "array" === n.getType(u)) {
                    switch (n.getType(t.utils.unwrapObservable(o))) {
                    case "object":
                    case "array":
                    case "undefined":
                        var c = i.visitedObjects.get(o);
                        a[e] = "undefined" !== n.getType(c) ? c : n.visitModel(o, r, i);
                        break;
                    default:
                        a[e] = r(o, i.parentName)
                    }
                }
            }
        }
        ),
        a
    }
}
),
define("scalejs.functional/functional", [], function() {
    function t() {
        var t = Array.prototype.slice.call(arguments, 0).reverse();
        return function() {
            var n = t.reduce(function(t, n) {
                return [n.apply(void 0, t)]
            }
            , Array.prototype.slice.call(arguments));
            return n[0]
        }
    }
    function n() {
        var t = Array.prototype.slice.call(arguments, 0);
        return function() {
            var n = t.reduce(function(t, n) {
                return [n.apply(void 0, t)]
            }
            , Array.prototype.slice.call(arguments, 0));
            return n[0]
        }
    }
    function e(t, n) {
        var e = Array.prototype.slice.call(arguments, 2);
        return function() {
            return n.apply(t, e.concat(Array.prototype.slice.call(arguments, 0)))
        }
    }
    function r(t, n) {
        return function() {
            return t.apply(void 0, Array.prototype.slice.call(arguments, 0, n))
        }
    }
    function i() {
        var t = Array.prototype.slice.call(arguments, 0)
          , n = t.reduce(function(t, n, e) {
            return n === a ? t.concat([e]) : t
        }
        , []);
        return 0 === n.length ? t[0].apply(void 0, t.slice(1)) : function() {
            var e;
            for (e = 0; e < Math.min(n.length, arguments.length); e += 1)
                t[n[e]] = arguments[e];
            return i.apply(void 0, t)
        }
    }
    var o, a = {};
    return o = function(t, n) {
        if (1 === arguments.length)
            return o(t, t.length);
        var e = Array.prototype.slice.call(arguments, 2);
        return e.length >= n ? t.apply(this, e) : function() {
            var r = e.concat(Array.prototype.slice.call(arguments, 0));
            return r.unshift(t, n),
            o.apply(this, r)
        }
    }
    ,
    {
        _: a,
        compose: t,
        sequence: n,
        bind: e,
        aritize: r,
        curry: o,
        partial: i
    }
}
),
define("scalejs.functional/builder", [], function() {
    function t(t) {
        var n, e, r, i;
        return r = function(t) {
            if (!t || "$" !== t.kind)
                return t;
            if ("function" == typeof t.expr)
                return t.expr.call(this);
            if ("string" == typeof t.expr)
                return this[t.expr];
            throw new Error("Parameter in $(...) must be either a function or a string referencing a binding.")
        }
        ,
        i = function(t, i, o) {
            function a(t) {
                return "$return" === t || "$RETURN" === t || "$yield" === t || "$YIELD" === t
            }
            if ("function" != typeof e[t] && "$then" !== t && "$else" !== t)
                throw new Error("This control construct may only be used if the computation expression builder defines a `" + t + "` method.");
            var u, s = r(i);
            if (o.length > 0 && "function" != typeof e.combine)
                throw new Error("This control construct may only be used if the computation expression builder defines a `combine` method.");
            if (a(t)) {
                if (0 === o.length)
                    return e[t](s);
                if ("function" != typeof e.delay)
                    throw new Error("This control construct may only be used if the computation expression builder defines a `delay` method.");
                return e.combine(e[t](s), e.delay(function() {
                    return n(o)
                }
                ))
            }
            if ("$for" === t)
                return e.combine(e.$for(i.items, function(t) {
                    var e = Array.prototype.slice.call(i.cexpr);
                    return this[i.name] = t,
                    n(e)
                }
                ), n(o));
            if ("$while" === t) {
                if ("function" != typeof e.delay)
                    throw new Error("This control construct may only be used if the computation expression builder defines a `delay` method.");
                return s = e.$while(i.condition.bind(this), e.delay(function() {
                    var t = Array.prototype.slice.call(i.cexpr);
                    return n(t)
                }
                )),
                o.length > 0 ? e.combine(s, n(o)) : s
            }
            return "$then" === t || "$else" === t ? (u = Array.prototype.slice.call(i.cexpr),
            e.combine(n(u), o)) : e.combine(e[t](s), n(o))
        }
        ,
        t.missing || (t.missing = function(t) {
            if (t.kind)
                throw new Error('Unknown operation "' + t.kind + '". Either define `missing` method on the builder or fix the spelling of the operation.');
            throw new Error("Expression " + JSON.stringify(t) + " cannot be processed. Either define `missing` method on the builder or convert expression to a function.")
        }
        ),
        n = function(t) {
            var o;
            if (t = Array.prototype.slice.call(t),
            0 === t.length) {
                if (e.zero)
                    return e.zero();
                throw new Error("Computation expression builder must define `zero` method.")
            }
            if (o = t.shift(),
            "let" === o.kind)
                return this[o.name] = r(o.expr),
                n.call(this, t);
            if ("do" === o.kind)
                return o.expr.call(this),
                n.call(this, t);
            if ("letBind" === o.kind)
                return e.bind(o.expr.bind(this), function(e) {
                    return this[o.name] = e,
                    n.call(this, t)
                }
                .bind(this));
            if ("doBind" === o.kind || "$" === o.kind) {
                if (t.length > 0)
                    return e.bind(o.expr.bind(this), function() {
                        return n.call(this, t)
                    }
                    .bind(this));
                if ("function" != typeof e.$return)
                    throw new Error("This control construct may only be used if the computation expression builder defines a `$return` method.");
                return e.bind(o.expr.bind(this), function(t) {
                    return e.$return(t)
                }
                )
            }
            return "$return" === o.kind || "$RETURN" === o.kind || "$yield" === o.kind || "$YIELD" === o.kind ? i(o.kind, o.expr, t) : "$for" === o.kind || "$while" === o.kind ? i(o.kind, o, t) : "$if" === o.kind ? o.condition.call(this) ? i("$then", o.thenExpr, t) : o.elseExpr ? i("$else", o.elseExpr, t) : i(n([]), t) : "function" == typeof o && e.call ? (e.call(this),
            n.call(this, t)) : "function" == typeof o ? (o.call(this),
            n.call(this, t)) : i("missing", o, t)
        }
        ,
        function() {
            function r() {
                var t = {
                    mixins: Array.prototype.slice.call(arguments, 0)
                }
                  , n = o.bind(t);
                return n.mixin = function() {
                    return Array.prototype.push.apply(t.mixins, arguments),
                    n
                }
                ,
                n
            }
            var i = Array.prototype.slice.call(arguments)
              , o = function() {
                var r, o, a, u = Array.prototype.slice.call(arguments, 0);
                return e = {},
                Object.keys(t).forEach(function(n) {
                    e[n] = t[n]
                }
                ),
                this.mixins && this.mixins.forEach(function(t) {
                    t.beforeBuild && t.beforeBuild(u)
                }
                ),
                a = function() {
                    return n.call(this, u)
                }
                ,
                e.run || e.delay ? (e.delay && (o = a,
                a = function() {
                    return e.delay(o)
                }
                ),
                r = a(),
                e.run && (r = e.run.apply(e, [r].concat(i)))) : r = a(),
                this.mixins && this.mixins.forEach(function(t) {
                    t.afterBuild && (r = t.afterBuild(r))
                }
                ),
                r
            }
            ;
            return o.mixin = r,
            o
        }
    }
    return t.$let = function(t, n) {
        return {
            kind: "let",
            name: t,
            expr: n
        }
    }
    ,
    t.$LET = function(t, n) {
        return {
            kind: "letBind",
            name: t,
            expr: n
        }
    }
    ,
    t.$do = function(t) {
        return {
            kind: "do",
            expr: t
        }
    }
    ,
    t.$DO = function(t) {
        return {
            kind: "doBind",
            expr: t
        }
    }
    ,
    t.$return = function(t) {
        return {
            kind: "$return",
            expr: t
        }
    }
    ,
    t.$RETURN = function(t) {
        return {
            kind: "$RETURN",
            expr: t
        }
    }
    ,
    t.$yield = function(t) {
        return {
            kind: "$yield",
            expr: t
        }
    }
    ,
    t.$YIELD = function(t) {
        return {
            kind: "$YIELD",
            expr: t
        }
    }
    ,
    t.$for = function(t, n) {
        var e = Array.prototype.slice.call(arguments, 2);
        return {
            kind: "$for",
            name: t,
            items: n,
            cexpr: e
        }
    }
    ,
    t.$while = function(t) {
        if (arguments.length < 2)
            throw new Error('Incomplete `while`. Expected "$while(<condition>, <expr>)".');
        var n = Array.prototype.slice.call(arguments, 1);
        return {
            kind: "$while",
            condition: t,
            cexpr: n
        }
    }
    ,
    t.$if = function(t, n, e) {
        if (arguments.length < 2)
            throw new Error('Incomplete conditional. Expected "$if(<expr>, $then(expr))" or "$if(<expr>, $then(<expr>), $else(<expr>)"');
        if ("function" != typeof t)
            throw new Error("First argument must be a function that defines the condition of $if.");
        if ("$then" !== n.kind)
            throw new Error('Unexpected "' + n.kind + '" in the place of "$then"');
        if (e && "$else" !== e.kind)
            throw new Error('Unexpected "' + e.kind + '" in the place of "$else"');
        return {
            kind: "$if",
            condition: t,
            thenExpr: n,
            elseExpr: e
        }
    }
    ,
    t.$then = function() {
        var t = Array.prototype.slice.call(arguments, 0);
        if (0 === t.length)
            throw new Error("$then should contain at least one expression.");
        return {
            kind: "$then",
            cexpr: t
        }
    }
    ,
    t.$else = function() {
        var t = Array.prototype.slice.call(arguments, 0);
        if (0 === t.length)
            throw new Error("$else should contain at least one expression.");
        return {
            kind: "$else",
            cexpr: t
        }
    }
    ,
    t.$ = function(t) {
        return {
            kind: "$",
            expr: t
        }
    }
    ,
    t
}
),
define("scalejs.functional/continuationBuilder", ["./builder"], function(t) {
    var n, e;
    return n = t({
        bind: function(t, n) {
            return function(e, r) {
                t(function(t) {
                    var i = n(t);
                    return i(e, r)
                }
                , r)
            }
        },
        $return: function(t) {
            return function(n) {
                n && ("function" == typeof t && (t = t()),
                n(t))
            }
        },
        delay: function(t) {
            return t
        },
        run: function(t) {
            return function(n, e) {
                var r = t.call(this);
                r.call(this, n, e)
            }
        }
    }),
    e = n().mixin({
        beforeBuild: function(n) {
            n.forEach(function(e, r) {
                "function" == typeof e && (n[r] = t.$DO(e))
            }
            )
        }
    })
}
),
define("scalejs.functional", ["scalejs!core", "./scalejs.functional/functional", "./scalejs.functional/builder", "./scalejs.functional/continuationBuilder"], function(t, n, e, r) {
    var i = t.object.merge;
    t.registerExtension({
        functional: i(n, {
            builder: e,
            builders: {
                continuation: r
            }
        })
    })
}
),
function(t) {
    "function" == typeof define && define.amd ? define("scalejs.mvvm/classBindingProvider", ["knockout", "exports"], t) : t(ko)
}
(function(t, n, e) {
    var r = function(t, n) {
        var e, r;
        if (!t)
            return t;
        e = {};
        for (r in t)
            t.hasOwnProperty(r) && (e[r] = n(t[r], r, t));
        return e
    }
      , i = function(t) {
        return function() {
            return t
        }
    }
    ;
    t.version >= "3.0.0" && !function() {
        var n = document.createElement("div");
        t.applyBindings(null , n);
        var e = t.contextFor(n)
          , r = !t.storedBindingContextForNode
          , i = r ? "A" : "_subscribable"
          , o = r ? "wb" : "_addNode"
          , a = function() {}
        ;
        a[o] = a,
        e.constructor.prototype[i] = a,
        t.cleanNode(n)
    }
    ();
    var o = function(n, e) {
        var o = new t.bindingProvider;
        e = e || {},
        this.attribute = e.attribute || "data-class",
        this.virtualAttribute = "ko " + (e.virtualAttribute || "class") + ":",
        this.fallback = e.fallback,
        this.bindings = n || {},
        this.bindingRouter = e.bindingRouter || function(t, n) {
            var e, r, i, o;
            if (n[t])
                return n[t];
            for (i = t.split("."),
            o = n,
            e = 0,
            r = i.length; r > e; e++)
                o = o[i[e]];
            return o
        }
        ,
        this.registerBindings = function(n) {
            t.utils.extend(this.bindings, n)
        }
        ,
        this.nodeHasBindings = function(t) {
            var n, e;
            return 1 === t.nodeType ? n = t.getAttribute(this.attribute) : 8 === t.nodeType && (e = "" + t.nodeValue || t.text,
            n = e.indexOf(this.virtualAttribute) > -1),
            !n && this.fallback && (n = o.nodeHasBindings(t)),
            n
        }
        ,
        this.getBindingsFunction = function(n) {
            return function(a, u) {
                var s, c, l, f, d, p, h = {}, m = "";
                if (1 === a.nodeType ? m = a.getAttribute(this.attribute) : 8 === a.nodeType && (d = "" + a.nodeValue || a.text,
                p = d.indexOf(this.virtualAttribute),
                p > -1 && (m = d.substring(p + this.virtualAttribute.length))),
                m)
                    for (m = m.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g, "").replace(/(\s|\u00A0){2,}/g, " ").split(" "),
                    s = 0,
                    c = m.length; c > s; s++)
                        l = this.bindingRouter(m[s], this.bindings),
                        l ? (f = "function" == typeof l ? l.call(u.$data, u, m) : l,
                        n && (f = r(f, i)),
                        t.utils.extend(h, f)) : e.log && e.log('No binding function provided for data class "' + m[s] + '" in element ', a, "\nMake sure data class is spelled correctly and that it's binding function is registered.");
                else
                    this.fallback && (h = o[n ? "getBindingAccessors" : "getBindings"](a, u));
                if (e.log)
                    for (bindingName in h)
                        h.hasOwnProperty(bindingName) && "_ko_property_writers" !== bindingName && "valueUpdate" !== bindingName && "optionsText" !== bindingName && "optionsValue" !== bindingName && !t.bindingHandlers[bindingName] && (f ? e.log('Unknown binding handler "' + bindingName + '" found in element', a, ' defined in data-class "' + m + '" as', f, "\nMake sure that binding handler's name is spelled correctly and that it's properly registered. \nThe binding will be ignored.") : e.log('Unknown binding handler "' + bindingName + '" in', a, "\nMake sure that it's name spelled correctly and that it's properly registered. \nThe binding will be ignored."));
                return h
            }
        }
        ,
        this.getBindings = this.getBindingsFunction(!1),
        this.getBindingAccessors = this.getBindingsFunction(!0)
    }
    ;
    return n || (t.classBindingProvider = o),
    o
}
),
define("scalejs.mvvm/htmlTemplateSource", ["knockout", "scalejs!core"], function(t, n) {
    "use strict";
    function e(t) {
        var n = document.createElement("div");
        "undefined" != typeof WinJS ? WinJS.Utilities.setInnerHTMLUnsafe(n, t) : n.innerHTML = t,
        i(n.childNodes).forEach(function(t) {
            1 === t.nodeType && o(t, "id") && (u[t.id] = t.innerHTML)
        }
        )
    }
    function r(n) {
        return n instanceof Element ? {
            nodes: t.templateSources.domElement.prototype.nodes.bind({
                domElement: n
            })
        } : {
            data: function(t, e) {
                return o(u.data, n) || (u.data[n] = {}),
                1 === arguments.length ? u.data[n][t] : void (u.data[n][t] = e)
            },
            text: function(t) {
                if (0 === arguments.length)
                    return u[n];
                throw new Error('An attempt to override template "' + n + '" with content "' + t + '" Template overriding is not supported.')
            }
        }
    }
    var i = n.array.toArray
      , o = n.object.has
      , a = new t.nativeTemplateEngine
      , u = {
        data: {}
    };
    return a.makeTemplateSource = r,
    t.setTemplateEngine(a),
    {
        registerTemplates: e
    }
}
),
define("scalejs.mvvm/selectableArray", ["knockout", "scalejs!core"], function(t, n) {
    "use strict";
    var e = t.isObservable
      , r = t.utils.unwrapObservable
      , i = t.observable
      , o = t.computed
      , a = n.object.has
      , u = n.array;
    return function(t, n) {
        function s(t) {
            if (!e(t.isSelected) || a(n.isSelectedPath) && "isSelected" !== n.isSelectedPath) {
                if (e(t.isSelected))
                    throw new Error('item has observable `isSelected` property but `isSelectedPath` specified as "' + n.isSelectedPath + "\". `selectable` uses `isSelected` property of an item to determine whether it's selected. Either don't specify `isSelectedPath` or rename `isSelected` property to something else.");
                if (t.hasOwnProperty("isSelected"))
                    throw new Error("item has non-observable `isSelected` property. `selectable` uses `isSelected` property of an item to determine whether it's selected. Either make `isSelected` observable or rename it.");
                if (t.isSelected = i(),
                a(n.isSelectedPath) && "isSelected" !== n.isSelectedPath && !e(t[n.isSelectedPath]))
                    throw new Error("item's property \"" + n.isSelectedPath + "\" specified by `isSelectedPath`  isn't observable. Either make it observable or specify different property in  `isSelectedPath`");
                a(n.isSelectedPath) && (t.isSelected = t[n.isSelectedPath]),
                t.isSelected.subscribe(function(n) {
                    n ? l(t) : l() === t && l(void 0)
                }
                )
            }
        }
        n = n || {};
        var c, l = n.selectedItem || i(), f = n.selectionPolicy || "single";
        return e(t) ? c = o(function() {
            var n = r(t);
            return n.forEach(s),
            u.copy(n)
        }
        ) : (t.forEach(s),
        c = u.copy(t)),
        l.subscribe(function(t) {
            r(c).forEach(function(n) {
                n.isSelected(n === t)
            }
            ),
            "deselect" === f && t && setTimeout(function() {
                l(void 0)
            }
            , 0)
        }
        ),
        c.selectedItem = l,
        c
    }
}
),
define("scalejs.mvvm/ko.utils", ["scalejs!core", "knockout"], function(t, n) {
    "use strict";
    function e(e, r) {
        return t.array.toArray(e).map(function(t) {
            var e = t.cloneNode(!0);
            return r ? n.cleanNode(e) : e
        }
        )
    }
    return {
        cloneNodes: e
    }
}
),
define("scalejs.mvvm/mvvm", ["knockout", "knockout.mapping", "scalejs!core", "scalejs.mvvm/classBindingProvider", "./htmlTemplateSource", "./selectableArray", "./ko.utils"], function(t, n, e, r, i, o, a) {
    "use strict";
    function u(n) {
        return t.observable(n)
    }
    function s(n) {
        return t.observableArray(n)
    }
    function c(n) {
        return t.computed(n)
    }
    function l(t) {
        return n.toJSON(t)
    }
    function f(t) {
        return JSON.parse(l(t))
    }
    function d() {
        x(arguments).forEach(E.registerBindings.bind(E))
    }
    function p(t, e, r) {
        var i = Object.keys(r).reduce(function(t, n) {
            return w(t, {
                k: n,
                create: function(t) {
                    return r[n](t.data)
                }
            })
        }
        , {});
        return n.fromJS(t, i, e)
    }
    function h() {
        x(arguments).forEach(i.registerTemplates)
    }
    function m(t, n) {
        var e = {};
        return e[t] = n,
        e
    }
    function v(t, n) {
        return m("template", {
            name: t,
            data: n
        })
    }
    function g(t, n) {
        return {
            dataClass: t,
            viewmodel: n
        }
    }
    function b(t) {
        return document.getElementsByTagName(t)[0]
    }
    function y(n) {
        var e, r = document.createComment(" ko class: scalejs-shell "), i = document.createComment(" /ko ");
        e = document.getElementsByTagName("script"),
        e = e[e.length - 1].parentElement,
        Array.prototype.slice.call(document.getElementsByTagName("script")).forEach(function(t) {
            -1 != (t.getAttribute("data-main") || "").indexOf("app/app") && (e = t.parentElement)
        }
        ),
        (e === b("html") || e === b("head")) && (e = b("body")),
        e && !n.doNotRender && (e.appendChild(r),
        e.appendChild(i),
        d({
            "scalejs-shell": function(t) {
                return {
                    render: t.$data.root
                }
            }
        }),
        t.applyBindings({
            root: _
        }, e))
    }
    var w = e.object.merge
      , x = e.array.toArray
      , E = new r({},{
        log: e.log.warn,
        fallback: !0
    })
      , _ = t.observable();
    return t.bindingProvider.instance = E,
    {
        core: {
            mvvm: {
                root: _,
                toJson: l,
                registerBindings: d,
                registerTemplates: h,
                dataClass: g,
                template: v,
                dataBinding: m,
                selectableArray: o,
                ko: {
                    utils: a
                }
            }
        },
        sandbox: {
            mvvm: {
                observable: u,
                observableArray: s,
                computed: c,
                registerBindings: d,
                registerTemplates: h,
                toJson: l,
                toViewModel: p,
                toObject: f,
                dataClass: g,
                template: v,
                dataBinding: m,
                selectableArray: o,
                root: _
            }
        },
        init: y
    }
}
),
define("scalejs.bindings/change", ["knockout", "scalejs!core"], function(t, n) {
    "use strict";
    function e(n, e, o, a) {
        function u(t, e) {
            return function(r) {
                r !== e && (e = r,
                t.call(a, r, n))
            }
        }
        function s(e, r) {
            t.computed({
                read: function() {
                    var t = d(a[e]);
                    r(t)
                },
                disposeWhenNodeIsRemoved: n
            })
        }
        if (i(a)) {
            var c, l, f, d = t.utils.unwrapObservable, p = e(), h = d(p);
            for (c in h)
                h.hasOwnProperty(c) && (l = h[c],
                r(l.initial, "function") && l.initial.apply(a, [d(a[c]), n]),
                r(l.update, "function") && (f = u(l.update, d(a[c]))),
                r(l, "function") && (f = u(l, d(a[c]))),
                f && s(c, f))
        }
    }
    var r = n.type.is
      , i = n.object.has;
    return {
        init: e
    }
}
),
define("scalejs.bindings/render", ["scalejs!core", "knockout", "scalejs.functional"], function(t, n) {
    "use strict";
    function e() {
        return {
            controlsDescendantBindings: !0
        }
    }
    function r(t, e, r, c, l) {
        function f(e) {
            p ? n.applyBindingsToNode(t, p, c) : n.virtualElements.emptyNode(t),
            setTimeout(e, 0)
        }
        var d, p, h, m, v, g = a(e()), b = [], y = [];
        if (h = n.utils.domData.get(t, "binding"),
        g)
            if (i(g.dataClass, "string")) {
                if (d = n.bindingProvider.instance.bindingRouter(g.dataClass, n.bindingProvider.instance.bindings),
                !d)
                    throw new Error("Don't know how to render binding \"" + g.dataClass + '" - no such binding registered. Either register the bindng or correct its name.');
                d && (p = i(d, "function") ? d.call(g.viewmodel || c, l) : d)
            } else
                p = i(g, "function") ? g.call(c, l) : g;
        o(h, "transitions", "outTransitions") && (y = h.transitions.outTransitions.map(function(t) {
            return s(t)
        }
        )),
        o(p, "transitions", "inTransitions") && (b = p.transitions.inTransitions.map(function(t) {
            return s(t)
        }
        )),
        v = u.apply(null , y.concat(s(f)).concat(b)),
        m = {
            getElement: function() {
                return t
            }
        },
        v.call(m),
        n.utils.domData.set(t, "binding", p)
    }
    var i = t.type.is
      , o = t.object.has
      , a = n.utils.unwrapObservable
      , u = t.functional.builders.continuation
      , s = t.functional.builder.$DO;
    return {
        init: e,
        update: r
    }
}
),
define("scalejs.mvvm", ["scalejs!core", "knockout", "scalejs.mvvm/mvvm", "./scalejs.bindings/change", "./scalejs.bindings/render", "module"], function(t, n, e, r, i, o) {
    "use strict";
    n.bindingHandlers.change = r,
    n.bindingHandlers.render = i,
    n.virtualElements.allowedBindings.change = !0,
    n.virtualElements.allowedBindings.render = !0,
    e.init(o.config()),
    t.registerExtension(e)
}
),
define("scalejs.mvvm.bindings", [], function() {
    "use strict";
    return {
        load: function(t, n, e, r) {
            var i = t.match(/([^,]+)/g) || [];
            i = i.map(function(t) {
                return t.indexOf(".js", t.length - 3) > -1 ? t : (-1 === t.indexOf("Bindings", t.length - "Bindings".length) && (t += "Bindings"),
                -1 === t.indexOf("/") ? "./bindings/" + t : t)
            }
            ),
            i.push("scalejs.mvvm", "scalejs!core"),
            n(i, function() {
                var t = arguments[arguments.length - 1]
                  , n = Array.prototype.slice.call(arguments, 0, arguments.length - 2);
                r.isBuild || t.mvvm.registerBindings.apply(null , n),
                e(n)
            }
            )
        }
    }
}
),
define("scalejs.mvvm.views", [], function() {
    "use strict";
    return {
        load: function(t, n, e, r) {
            var i = t.match(/([^,]+)/g) || [];
            i = i.map(function(t) {
                return -1 === t.indexOf(".html", t.length - 5) && (t += ".html"),
                -1 === t.indexOf("/") && (t = "./views/" + t),
                "text!" + t
            }
            ),
            i.push("scalejs.mvvm", "scalejs!core"),
            n(i, function() {
                var t = arguments[arguments.length - 1]
                  , n = Array.prototype.slice.call(arguments, 0, arguments.length - 2);
                r.isBuild || t.mvvm.registerTemplates.apply(null , n),
                e(n)
            }
            )
        }
    }
}
),
function(t, n) {
    var e = {
        Identity: function(t) {
            return t
        },
        True: function() {
            return !0
        },
        Blank: function() {}
    }
      , r = {
        Boolean: typeof !0,
        Number: "number",
        String: "string",
        Object: typeof {},
        Undefined: typeof n,
        Function: "function"
    }
      , i = {
        "": e.Identity
    }
      , o = {
        createLambda: function(t) {
            if (null  == t)
                return e.Identity;
            if (typeof t === r.String) {
                var n = i[t];
                if (null  != n)
                    return n;
                if (-1 === t.indexOf("=>")) {
                    for (var o, a = new RegExp("[$]+","g"), u = 0; null  != (o = a.exec(t)); ) {
                        var s = o[0].length;
                        s > u && (u = s)
                    }
                    for (var c = [], l = 1; u >= l; l++) {
                        for (var f = "", d = 0; l > d; d++)
                            f += "$";
                        c.push(f)
                    }
                    var p = Array.prototype.join.call(c, ",");
                    return n = new Function(p,"return " + t),
                    i[t] = n,
                    n
                }
                var h = t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);
                return n = new Function(h[1],"return " + h[2]),
                i[t] = n,
                n
            }
            return t
        },
        isIEnumerable: function(t) {
            if (typeof Enumerator !== r.Undefined)
                try {
                    return new Enumerator(t),
                    !0
                } catch (n) {}
            return !1
        },
        defineProperty: null  != Object.defineProperties ? function(t, n, e) {
            Object.defineProperty(t, n, {
                enumerable: !1,
                configurable: !0,
                writable: !0,
                value: e
            })
        }
         : function(t, n, e) {
            t[n] = e
        }
        ,
        compare: function(t, n) {
            return t === n ? 0 : t > n ? 1 : -1
        },
        dispose: function(t) {
            null  != t && t.dispose()
        }
    }
      , a = {
        Before: 0,
        Running: 1,
        After: 2
    }
      , u = function(t, n, e) {
        var r = new s
          , i = a.Before;
        this.current = r.current,
        this.moveNext = function() {
            try {
                switch (i) {
                case a.Before:
                    i = a.Running,
                    t();
                case a.Running:
                    return n.apply(r) ? !0 : (this.dispose(),
                    !1);
                case a.After:
                    return !1
                }
            } catch (e) {
                throw this.dispose(),
                e
            }
        }
        ,
        this.dispose = function() {
            if (i == a.Running)
                try {
                    e()
                } finally {
                    i = a.After
                }
        }
    }
      , s = function() {
        var t = null ;
        this.current = function() {
            return t
        }
        ,
        this.yieldReturn = function(n) {
            return t = n,
            !0
        }
        ,
        this.yieldBreak = function() {
            return !1
        }
    }
      , c = function(t) {
        this.getEnumerator = t
    }
    ;
    c.Utils = {},
    c.Utils.createLambda = function(t) {
        return o.createLambda(t)
    }
    ,
    c.Utils.createEnumerable = function(t) {
        return new c(t)
    }
    ,
    c.Utils.createEnumerator = function(t, n, e) {
        return new u(t,n,e)
    }
    ,
    c.Utils.extendTo = function(t) {
        var n, e = t.prototype;
        t === Array ? (n = p.prototype,
        o.defineProperty(e, "getSource", function() {
            return this
        }
        )) : (n = c.prototype,
        o.defineProperty(e, "getEnumerator", function() {
            return c.from(this).getEnumerator()
        }
        ));
        for (var r in n) {
            var i = n[r];
            e[r] != i && (null  == e[r] || (r += "ByLinq",
            e[r] != i)) && i instanceof Function && o.defineProperty(e, r, i)
        }
    }
    ,
    c.choice = function() {
        var t = arguments;
        return new c(function() {
            return new u(function() {
                t = t[0] instanceof Array ? t[0] : null  != t[0].getEnumerator ? t[0].toArray() : t
            }
            ,function() {
                return this.yieldReturn(t[Math.floor(Math.random() * t.length)])
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.cycle = function() {
        var t = arguments;
        return new c(function() {
            var n = 0;
            return new u(function() {
                t = t[0] instanceof Array ? t[0] : null  != t[0].getEnumerator ? t[0].toArray() : t
            }
            ,function() {
                return n >= t.length && (n = 0),
                this.yieldReturn(t[n++])
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.empty = function() {
        return new c(function() {
            return new u(e.Blank,function() {
                return !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.from = function(t) {
        if (null  == t)
            return c.empty();
        if (t instanceof c)
            return t;
        if (typeof t == r.Number || typeof t == r.Boolean)
            return c.repeat(t, 1);
        if (typeof t == r.String)
            return new c(function() {
                var n = 0;
                return new u(e.Blank,function() {
                    return n < t.length ? this.yieldReturn(t.charAt(n++)) : !1
                }
                ,e.Blank)
            }
            );
        if (typeof t != r.Function) {
            if (typeof t.length == r.Number)
                return new p(t);
            if (!(t instanceof Object) && o.isIEnumerable(t))
                return new c(function() {
                    var n, r = !0;
                    return new u(function() {
                        n = new Enumerator(t)
                    }
                    ,function() {
                        return r ? r = !1 : n.moveNext(),
                        n.atEnd() ? !1 : this.yieldReturn(n.item())
                    }
                    ,e.Blank)
                }
                );
            if (typeof Windows === r.Object && typeof t.first === r.Function)
                return new c(function() {
                    var n, r = !0;
                    return new u(function() {
                        n = t.first()
                    }
                    ,function() {
                        return r ? r = !1 : n.moveNext(),
                        n.hasCurrent ? this.yieldReturn(n.current) : this.yieldBreak()
                    }
                    ,e.Blank)
                }
                )
        }
        return new c(function() {
            var n = []
              , r = 0;
            return new u(function() {
                for (var e in t) {
                    var r = t[e];
                    r instanceof Function || !Object.prototype.hasOwnProperty.call(t, e) || n.push({
                        key: e,
                        value: r
                    })
                }
            }
            ,function() {
                return r < n.length ? this.yieldReturn(n[r++]) : !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.make = function(t) {
        return c.repeat(t, 1)
    }
    ,
    c.matches = function(t, n, r) {
        return null  == r && (r = ""),
        n instanceof RegExp && (r += n.ignoreCase ? "i" : "",
        r += n.multiline ? "m" : "",
        n = n.source),
        -1 === r.indexOf("g") && (r += "g"),
        new c(function() {
            var i;
            return new u(function() {
                i = new RegExp(n,r)
            }
            ,function() {
                var n = i.exec(t);
                return n ? this.yieldReturn(n) : !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.range = function(t, n, r) {
        return null  == r && (r = 1),
        new c(function() {
            var i, o = 0;
            return new u(function() {
                i = t - r
            }
            ,function() {
                return o++ < n ? this.yieldReturn(i += r) : this.yieldBreak()
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.rangeDown = function(t, n, r) {
        return null  == r && (r = 1),
        new c(function() {
            var i, o = 0;
            return new u(function() {
                i = t + r
            }
            ,function() {
                return o++ < n ? this.yieldReturn(i -= r) : this.yieldBreak()
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.rangeTo = function(t, n, r) {
        return null  == r && (r = 1),
        new c(n > t ? function() {
            var i;
            return new u(function() {
                i = t - r
            }
            ,function() {
                var t = i += r;
                return n >= t ? this.yieldReturn(t) : this.yieldBreak()
            }
            ,e.Blank)
        }
         : function() {
            var i;
            return new u(function() {
                i = t + r
            }
            ,function() {
                var t = i -= r;
                return t >= n ? this.yieldReturn(t) : this.yieldBreak()
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.repeat = function(t, n) {
        return null  != n ? c.repeat(t).take(n) : new c(function() {
            return new u(e.Blank,function() {
                return this.yieldReturn(t)
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.repeatWithFinalize = function(t, n) {
        return t = o.createLambda(t),
        n = o.createLambda(n),
        new c(function() {
            var e;
            return new u(function() {
                e = t()
            }
            ,function() {
                return this.yieldReturn(e)
            }
            ,function() {
                null  != e && (n(e),
                e = null )
            }
            )
        }
        )
    }
    ,
    c.generate = function(t, n) {
        return null  != n ? c.generate(t).take(n) : (t = o.createLambda(t),
        new c(function() {
            return new u(e.Blank,function() {
                return this.yieldReturn(t())
            }
            ,e.Blank)
        }
        ))
    }
    ,
    c.toInfinity = function(t, n) {
        return null  == t && (t = 0),
        null  == n && (n = 1),
        new c(function() {
            var r;
            return new u(function() {
                r = t - n
            }
            ,function() {
                return this.yieldReturn(r += n)
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.toNegativeInfinity = function(t, n) {
        return null  == t && (t = 0),
        null  == n && (n = 1),
        new c(function() {
            var r;
            return new u(function() {
                r = t + n
            }
            ,function() {
                return this.yieldReturn(r -= n)
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.unfold = function(t, n) {
        return n = o.createLambda(n),
        new c(function() {
            var r, i = !0;
            return new u(e.Blank,function() {
                return i ? (i = !1,
                r = t,
                this.yieldReturn(r)) : (r = n(r),
                this.yieldReturn(r))
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.defer = function(t) {
        return new c(function() {
            var n;
            return new u(function() {
                n = c.from(t()).getEnumerator()
            }
            ,function() {
                return n.moveNext() ? this.yieldReturn(n.current()) : this.yieldBreak()
            }
            ,function() {
                o.dispose(n)
            }
            )
        }
        )
    }
    ,
    c.prototype.traverseBreadthFirst = function(t, n) {
        var e = this;
        return t = o.createLambda(t),
        n = o.createLambda(n),
        new c(function() {
            var r, i = 0, a = [];
            return new u(function() {
                r = e.getEnumerator()
            }
            ,function() {
                for (; ; ) {
                    if (r.moveNext())
                        return a.push(r.current()),
                        this.yieldReturn(n(r.current(), i));
                    var e = c.from(a).selectMany(function(n) {
                        return t(n)
                    }
                    );
                    if (!e.any())
                        return !1;
                    i++,
                    a = [],
                    o.dispose(r),
                    r = e.getEnumerator()
                }
            }
            ,function() {
                o.dispose(r)
            }
            )
        }
        )
    }
    ,
    c.prototype.traverseDepthFirst = function(t, n) {
        var e = this;
        return t = o.createLambda(t),
        n = o.createLambda(n),
        new c(function() {
            var r, i = [];
            return new u(function() {
                r = e.getEnumerator()
            }
            ,function() {
                for (; ; ) {
                    if (r.moveNext()) {
                        var e = n(r.current(), i.length);
                        return i.push(r),
                        r = c.from(t(r.current())).getEnumerator(),
                        this.yieldReturn(e)
                    }
                    if (i.length <= 0)
                        return !1;
                    o.dispose(r),
                    r = i.pop()
                }
            }
            ,function() {
                try {
                    o.dispose(r)
                } finally {
                    c.from(i).forEach(function(t) {
                        t.dispose()
                    }
                    )
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.flatten = function() {
        var t = this;
        return new c(function() {
            var n, r = null ;
            return new u(function() {
                n = t.getEnumerator()
            }
            ,function() {
                for (; ; ) {
                    if (null  != r) {
                        if (r.moveNext())
                            return this.yieldReturn(r.current());
                        r = null 
                    }
                    if (n.moveNext()) {
                        if (n.current() instanceof Array) {
                            o.dispose(r),
                            r = c.from(n.current()).selectMany(e.Identity).flatten().getEnumerator();
                            continue
                        }
                        return this.yieldReturn(n.current())
                    }
                    return !1
                }
            }
            ,function() {
                try {
                    o.dispose(n)
                } finally {
                    o.dispose(r)
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.pairwise = function(t) {
        var n = this;
        return t = o.createLambda(t),
        new c(function() {
            var e;
            return new u(function() {
                e = n.getEnumerator(),
                e.moveNext()
            }
            ,function() {
                var n = e.current();
                return e.moveNext() ? this.yieldReturn(t(n, e.current())) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.scan = function(t, n) {
        var e;
        null  == n ? (n = o.createLambda(t),
        e = !1) : (n = o.createLambda(n),
        e = !0);
        var r = this;
        return new c(function() {
            var i, a, s = !0;
            return new u(function() {
                i = r.getEnumerator()
            }
            ,function() {
                if (s) {
                    if (s = !1,
                    e)
                        return this.yieldReturn(a = t);
                    if (i.moveNext())
                        return this.yieldReturn(a = i.current())
                }
                return i.moveNext() ? this.yieldReturn(a = n(a, i.current())) : !1
            }
            ,function() {
                o.dispose(i)
            }
            )
        }
        )
    }
    ,
    c.prototype.select = function(t) {
        if (t = o.createLambda(t),
        t.length <= 1)
            return new m(this,null ,t);
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                return e.moveNext() ? this.yieldReturn(t(e.current(), r++)) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.selectMany = function(t, e) {
        var r = this;
        return t = o.createLambda(t),
        null  == e && (e = function(t, n) {
            return n
        }
        ),
        e = o.createLambda(e),
        new c(function() {
            var i, a = n, s = 0;
            return new u(function() {
                i = r.getEnumerator()
            }
            ,function() {
                if (a === n && !i.moveNext())
                    return !1;
                do {
                    if (null  == a) {
                        var r = t(i.current(), s++);
                        a = c.from(r).getEnumerator()
                    }
                    if (a.moveNext())
                        return this.yieldReturn(e(i.current(), a.current()));
                    o.dispose(a),
                    a = null 
                } while (i.moveNext());return !1
            }
            ,function() {
                try {
                    o.dispose(i)
                } finally {
                    o.dispose(a)
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.where = function(t) {
        if (t = o.createLambda(t),
        t.length <= 1)
            return new h(this,t);
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; e.moveNext(); )
                    if (t(e.current(), r++))
                        return this.yieldReturn(e.current());
                return !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.choose = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; e.moveNext(); ) {
                    var n = t(e.current(), r++);
                    if (null  != n)
                        return this.yieldReturn(n)
                }
                return this.yieldBreak()
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.ofType = function(t) {
        var n;
        switch (t) {
        case Number:
            n = r.Number;
            break;
        case String:
            n = r.String;
            break;
        case Boolean:
            n = r.Boolean;
            break;
        case Function:
            n = r.Function;
            break;
        default:
            n = null 
        }
        return null  === n ? this.where(function(n) {
            return n instanceof t
        }
        ) : this.where(function(t) {
            return typeof t === n
        }
        )
    }
    ,
    c.prototype.zip = function() {
        var t = arguments
          , n = o.createLambda(arguments[arguments.length - 1])
          , e = this;
        if (2 == arguments.length) {
            var r = arguments[0];
            return new c(function() {
                var t, i, a = 0;
                return new u(function() {
                    t = e.getEnumerator(),
                    i = c.from(r).getEnumerator()
                }
                ,function() {
                    return t.moveNext() && i.moveNext() ? this.yieldReturn(n(t.current(), i.current(), a++)) : !1
                }
                ,function() {
                    try {
                        o.dispose(t)
                    } finally {
                        o.dispose(i)
                    }
                }
                )
            }
            )
        }
        return new c(function() {
            var r, i = 0;
            return new u(function() {
                var n = c.make(e).concat(c.from(t).takeExceptLast().select(c.from)).select(function(t) {
                    return t.getEnumerator()
                }
                ).toArray();
                r = c.from(n)
            }
            ,function() {
                if (r.all(function(t) {
                    return t.moveNext()
                }
                )) {
                    var t = r.select(function(t) {
                        return t.current()
                    }
                    ).toArray();
                    return t.push(i++),
                    this.yieldReturn(n.apply(null , t))
                }
                return this.yieldBreak()
            }
            ,function() {
                c.from(r).forEach(o.dispose)
            }
            )
        }
        )
    }
    ,
    c.prototype.merge = function() {
        var t = arguments
          , n = this;
        return new c(function() {
            var e, r = -1;
            return new u(function() {
                e = c.make(n).concat(c.from(t).select(c.from)).select(function(t) {
                    return t.getEnumerator()
                }
                ).toArray()
            }
            ,function() {
                for (; e.length > 0; ) {
                    r = r >= e.length - 1 ? 0 : r + 1;
                    var t = e[r];
                    if (t.moveNext())
                        return this.yieldReturn(t.current());
                    t.dispose(),
                    e.splice(r--, 1)
                }
                return this.yieldBreak()
            }
            ,function() {
                c.from(e).forEach(o.dispose)
            }
            )
        }
        )
    }
    ,
    c.prototype.join = function(t, r, i, a, s) {
        r = o.createLambda(r),
        i = o.createLambda(i),
        a = o.createLambda(a),
        s = o.createLambda(s);
        var l = this;
        return new c(function() {
            var f, d, p = null , h = 0;
            return new u(function() {
                f = l.getEnumerator(),
                d = c.from(t).toLookup(i, e.Identity, s)
            }
            ,function() {
                for (; ; ) {
                    if (null  != p) {
                        var t = p[h++];
                        if (t !== n)
                            return this.yieldReturn(a(f.current(), t));
                        t = null ,
                        h = 0
                    }
                    if (!f.moveNext())
                        return !1;
                    var e = r(f.current());
                    p = d.get(e).toArray()
                }
            }
            ,function() {
                o.dispose(f)
            }
            )
        }
        )
    }
    ,
    c.prototype.groupJoin = function(t, n, r, i, a) {
        n = o.createLambda(n),
        r = o.createLambda(r),
        i = o.createLambda(i),
        a = o.createLambda(a);
        var s = this;
        return new c(function() {
            var l = s.getEnumerator()
              , f = null ;
            return new u(function() {
                l = s.getEnumerator(),
                f = c.from(t).toLookup(r, e.Identity, a)
            }
            ,function() {
                if (l.moveNext()) {
                    var t = f.get(n(l.current()));
                    return this.yieldReturn(i(l.current(), t))
                }
                return !1
            }
            ,function() {
                o.dispose(l)
            }
            )
        }
        )
    }
    ,
    c.prototype.all = function(t) {
        t = o.createLambda(t);
        var n = !0;
        return this.forEach(function(e) {
            return t(e) ? void 0 : (n = !1,
            !1)
        }
        ),
        n
    }
    ,
    c.prototype.any = function(t) {
        t = o.createLambda(t);
        var n = this.getEnumerator();
        try {
            if (0 == arguments.length)
                return n.moveNext();
            for (; n.moveNext(); )
                if (t(n.current()))
                    return !0;
            return !1
        } finally {
            o.dispose(n)
        }
    }
    ,
    c.prototype.isEmpty = function() {
        return !this.any()
    }
    ,
    c.prototype.concat = function() {
        var t = this;
        if (1 == arguments.length) {
            var n = arguments[0];
            return new c(function() {
                var e, r;
                return new u(function() {
                    e = t.getEnumerator()
                }
                ,function() {
                    if (null  == r) {
                        if (e.moveNext())
                            return this.yieldReturn(e.current());
                        r = c.from(n).getEnumerator()
                    }
                    return r.moveNext() ? this.yieldReturn(r.current()) : !1
                }
                ,function() {
                    try {
                        o.dispose(e)
                    } finally {
                        o.dispose(r)
                    }
                }
                )
            }
            )
        }
        var e = arguments;
        return new c(function() {
            var n;
            return new u(function() {
                n = c.make(t).concat(c.from(e).select(c.from)).select(function(t) {
                    return t.getEnumerator()
                }
                ).toArray()
            }
            ,function() {
                for (; n.length > 0; ) {
                    var t = n[0];
                    if (t.moveNext())
                        return this.yieldReturn(t.current());
                    t.dispose(),
                    n.splice(0, 1)
                }
                return this.yieldBreak()
            }
            ,function() {
                c.from(n).forEach(o.dispose)
            }
            )
        }
        )
    }
    ,
    c.prototype.insert = function(t, n) {
        var e = this;
        return new c(function() {
            var r, i, a = 0, s = !1;
            return new u(function() {
                r = e.getEnumerator(),
                i = c.from(n).getEnumerator()
            }
            ,function() {
                return a == t && i.moveNext() ? (s = !0,
                this.yieldReturn(i.current())) : r.moveNext() ? (a++,
                this.yieldReturn(r.current())) : !s && i.moveNext() ? this.yieldReturn(i.current()) : !1
            }
            ,function() {
                try {
                    o.dispose(r)
                } finally {
                    o.dispose(i)
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.alternate = function(t) {
        var n = this;
        return new c(function() {
            var e, r, i, a;
            return new u(function() {
                i = t instanceof Array || null  != t.getEnumerator ? c.from(c.from(t).toArray()) : c.make(t),
                r = n.getEnumerator(),
                r.moveNext() && (e = r.current())
            }
            ,function() {
                for (; ; ) {
                    if (null  != a) {
                        if (a.moveNext())
                            return this.yieldReturn(a.current());
                        a = null 
                    }
                    {
                        if (null  != e || !r.moveNext()) {
                            if (null  != e) {
                                var t = e;
                                return e = null ,
                                this.yieldReturn(t)
                            }
                            return this.yieldBreak()
                        }
                        e = r.current(),
                        a = i.getEnumerator()
                    }
                }
            }
            ,function() {
                try {
                    o.dispose(r)
                } finally {
                    o.dispose(a)
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.contains = function(t, n) {
        n = o.createLambda(n);
        var e = this.getEnumerator();
        try {
            for (; e.moveNext(); )
                if (n(e.current()) === t)
                    return !0;
            return !1
        } finally {
            o.dispose(e)
        }
    }
    ,
    c.prototype.defaultIfEmpty = function(t) {
        var e = this;
        return t === n && (t = null ),
        new c(function() {
            var n, r = !0;
            return new u(function() {
                n = e.getEnumerator()
            }
            ,function() {
                return n.moveNext() ? (r = !1,
                this.yieldReturn(n.current())) : r ? (r = !1,
                this.yieldReturn(t)) : !1
            }
            ,function() {
                o.dispose(n)
            }
            )
        }
        )
    }
    ,
    c.prototype.distinct = function(t) {
        return this.except(c.empty(), t)
    }
    ,
    c.prototype.distinctUntilChanged = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e, r, i;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; e.moveNext(); ) {
                    var n = t(e.current());
                    if (i)
                        return i = !1,
                        r = n,
                        this.yieldReturn(e.current());
                    if (r !== n)
                        return r = n,
                        this.yieldReturn(e.current())
                }
                return this.yieldBreak()
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.except = function(t, n) {
        n = o.createLambda(n);
        var e = this;
        return new c(function() {
            var r, i;
            return new u(function() {
                r = e.getEnumerator(),
                i = new v(n),
                c.from(t).forEach(function(t) {
                    i.add(t)
                }
                )
            }
            ,function() {
                for (; r.moveNext(); ) {
                    var t = r.current();
                    if (!i.contains(t))
                        return i.add(t),
                        this.yieldReturn(t)
                }
                return !1
            }
            ,function() {
                o.dispose(r)
            }
            )
        }
        )
    }
    ,
    c.prototype.intersect = function(t, n) {
        n = o.createLambda(n);
        var e = this;
        return new c(function() {
            var r, i, a;
            return new u(function() {
                r = e.getEnumerator(),
                i = new v(n),
                c.from(t).forEach(function(t) {
                    i.add(t)
                }
                ),
                a = new v(n)
            }
            ,function() {
                for (; r.moveNext(); ) {
                    var t = r.current();
                    if (!a.contains(t) && i.contains(t))
                        return a.add(t),
                        this.yieldReturn(t)
                }
                return !1
            }
            ,function() {
                o.dispose(r)
            }
            )
        }
        )
    }
    ,
    c.prototype.sequenceEqual = function(t, n) {
        n = o.createLambda(n);
        var e = this.getEnumerator();
        try {
            var r = c.from(t).getEnumerator();
            try {
                for (; e.moveNext(); )
                    if (!r.moveNext() || n(e.current()) !== n(r.current()))
                        return !1;
                return r.moveNext() ? !1 : !0
            } finally {
                o.dispose(r)
            }
        } finally {
            o.dispose(e)
        }
    }
    ,
    c.prototype.union = function(t, e) {
        e = o.createLambda(e);
        var r = this;
        return new c(function() {
            var i, a, s;
            return new u(function() {
                i = r.getEnumerator(),
                s = new v(e)
            }
            ,function() {
                var e;
                if (a === n) {
                    for (; i.moveNext(); )
                        if (e = i.current(),
                        !s.contains(e))
                            return s.add(e),
                            this.yieldReturn(e);
                    a = c.from(t).getEnumerator()
                }
                for (; a.moveNext(); )
                    if (e = a.current(),
                    !s.contains(e))
                        return s.add(e),
                        this.yieldReturn(e);
                return !1
            }
            ,function() {
                try {
                    o.dispose(i)
                } finally {
                    o.dispose(a)
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.orderBy = function(t) {
        return new l(this,t,!1)
    }
    ,
    c.prototype.orderByDescending = function(t) {
        return new l(this,t,!0)
    }
    ,
    c.prototype.reverse = function() {
        var t = this;
        return new c(function() {
            var n, r;
            return new u(function() {
                n = t.toArray(),
                r = n.length
            }
            ,function() {
                return r > 0 ? this.yieldReturn(n[--r]) : !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.prototype.shuffle = function() {
        var t = this;
        return new c(function() {
            var n;
            return new u(function() {
                n = t.toArray()
            }
            ,function() {
                if (n.length > 0) {
                    var t = Math.floor(Math.random() * n.length);
                    return this.yieldReturn(n.splice(t, 1)[0])
                }
                return !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.prototype.weightedSample = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var r, i = 0;
            return new u(function() {
                r = n.choose(function(n) {
                    var e = t(n);
                    return 0 >= e ? null  : (i += e,
                    {
                        value: n,
                        bound: i
                    })
                }
                ).toArray()
            }
            ,function() {
                if (r.length > 0) {
                    for (var t = Math.floor(Math.random() * i) + 1, n = -1, e = r.length; e - n > 1; ) {
                        var o = Math.floor((n + e) / 2);
                        r[o].bound >= t ? e = o : n = o
                    }
                    return this.yieldReturn(r[e].value)
                }
                return this.yieldBreak()
            }
            ,e.Blank)
        }
        )
    }
    ,
    c.prototype.groupBy = function(t, n, e, r) {
        var i = this;
        return t = o.createLambda(t),
        n = o.createLambda(n),
        null  != e && (e = o.createLambda(e)),
        r = o.createLambda(r),
        new c(function() {
            var a;
            return new u(function() {
                a = i.toLookup(t, n, r).toEnumerable().getEnumerator()
            }
            ,function() {
                for (; a.moveNext(); )
                    return null  == e ? this.yieldReturn(a.current()) : this.yieldReturn(e(a.current().key(), a.current()));
                return !1
            }
            ,function() {
                o.dispose(a)
            }
            )
        }
        )
    }
    ,
    c.prototype.partitionBy = function(t, n, e, r) {
        var i = this;
        t = o.createLambda(t),
        n = o.createLambda(n),
        r = o.createLambda(r);
        var a;
        return null  == e ? (a = !1,
        e = function(t, n) {
            return new b(t,n)
        }
        ) : (a = !0,
        e = o.createLambda(e)),
        new c(function() {
            var s, l, f, d = [];
            return new u(function() {
                s = i.getEnumerator(),
                s.moveNext() && (l = t(s.current()),
                f = r(l),
                d.push(n(s.current())))
            }
            ,function() {
                for (var i; 1 == (i = s.moveNext()) && f === r(t(s.current())); )
                    d.push(n(s.current()));
                if (d.length > 0) {
                    var o = a ? e(l, c.from(d)) : e(l, d);
                    return i ? (l = t(s.current()),
                    f = r(l),
                    d = [n(s.current())]) : d = [],
                    this.yieldReturn(o)
                }
                return !1
            }
            ,function() {
                o.dispose(s)
            }
            )
        }
        )
    }
    ,
    c.prototype.buffer = function(t) {
        var n = this;
        return new c(function() {
            var e;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (var n = [], r = 0; e.moveNext(); )
                    if (n.push(e.current()),
                    ++r >= t)
                        return this.yieldReturn(n);
                return n.length > 0 ? this.yieldReturn(n) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.aggregate = function(t, n, e) {
        return (e = o.createLambda(e))(this.scan(t, n, e).last())
    }
    ,
    c.prototype.average = function(t) {
        t = o.createLambda(t);
        var n = 0
          , e = 0;
        return this.forEach(function(r) {
            n += t(r),
            ++e
        }
        ),
        n / e
    }
    ,
    c.prototype.count = function(t) {
        t = null  == t ? e.True : o.createLambda(t);
        var n = 0;
        return this.forEach(function(e, r) {
            t(e, r) && ++n
        }
        ),
        n
    }
    ,
    c.prototype.max = function(t) {
        return null  == t && (t = e.Identity),
        this.select(t).aggregate(function(t, n) {
            return t > n ? t : n
        }
        )
    }
    ,
    c.prototype.min = function(t) {
        return null  == t && (t = e.Identity),
        this.select(t).aggregate(function(t, n) {
            return n > t ? t : n
        }
        )
    }
    ,
    c.prototype.maxBy = function(t) {
        return t = o.createLambda(t),
        this.aggregate(function(n, e) {
            return t(n) > t(e) ? n : e
        }
        )
    }
    ,
    c.prototype.minBy = function(t) {
        return t = o.createLambda(t),
        this.aggregate(function(n, e) {
            return t(n) < t(e) ? n : e
        }
        )
    }
    ,
    c.prototype.sum = function(t) {
        return null  == t && (t = e.Identity),
        this.select(t).aggregate(0, function(t, n) {
            return t + n
        }
        )
    }
    ,
    c.prototype.elementAt = function(t) {
        var n, e = !1;
        if (this.forEach(function(r, i) {
            return i == t ? (n = r,
            e = !0,
            !1) : void 0
        }
        ),
        !e)
            throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");
        return n
    }
    ,
    c.prototype.elementAtOrDefault = function(t, e) {
        e === n && (e = null );
        var r, i = !1;
        return this.forEach(function(n, e) {
            return e == t ? (r = n,
            i = !0,
            !1) : void 0
        }
        ),
        i ? r : e
    }
    ,
    c.prototype.first = function(t) {
        if (null  != t)
            return this.where(t).first();
        var n, e = !1;
        if (this.forEach(function(t) {
            return n = t,
            e = !0,
            !1
        }
        ),
        !e)
            throw new Error("first:No element satisfies the condition.");
        return n
    }
    ,
    c.prototype.firstOrDefault = function(t, e) {
        if (e === n && (e = null ),
        null  != t)
            return this.where(t).firstOrDefault(null , e);
        var r, i = !1;
        return this.forEach(function(t) {
            return r = t,
            i = !0,
            !1
        }
        ),
        i ? r : e
    }
    ,
    c.prototype.last = function(t) {
        if (null  != t)
            return this.where(t).last();
        var n, e = !1;
        if (this.forEach(function(t) {
            e = !0,
            n = t
        }
        ),
        !e)
            throw new Error("last:No element satisfies the condition.");
        return n
    }
    ,
    c.prototype.lastOrDefault = function(t, e) {
        if (e === n && (e = null ),
        null  != t)
            return this.where(t).lastOrDefault(null , e);
        var r, i = !1;
        return this.forEach(function(t) {
            i = !0,
            r = t
        }
        ),
        i ? r : e
    }
    ,
    c.prototype.single = function(t) {
        if (null  != t)
            return this.where(t).single();
        var n, e = !1;
        if (this.forEach(function(t) {
            if (e)
                throw new Error("single:sequence contains more than one element.");
            e = !0,
            n = t
        }
        ),
        !e)
            throw new Error("single:No element satisfies the condition.");
        return n
    }
    ,
    c.prototype.singleOrDefault = function(t, e) {
        if (e === n && (e = null ),
        null  != t)
            return this.where(t).singleOrDefault(null , e);
        var r, i = !1;
        return this.forEach(function(t) {
            if (i)
                throw new Error("single:sequence contains more than one element.");
            i = !0,
            r = t
        }
        ),
        i ? r : e
    }
    ,
    c.prototype.skip = function(t) {
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                for (e = n.getEnumerator(); r++ < t && e.moveNext(); )
                    ;
            }
            ,function() {
                return e.moveNext() ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.skipWhile = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e, r = 0, i = !1;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; !i; ) {
                    if (!e.moveNext())
                        return !1;
                    if (!t(e.current(), r++))
                        return i = !0,
                        this.yieldReturn(e.current())
                }
                return e.moveNext() ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.take = function(t) {
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                return r++ < t && e.moveNext() ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.takeWhile = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                return e.moveNext() && t(e.current(), r++) ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.takeExceptLast = function(t) {
        null  == t && (t = 1);
        var n = this;
        return new c(function() {
            if (0 >= t)
                return n.getEnumerator();
            var e, r = [];
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; e.moveNext(); ) {
                    if (r.length == t)
                        return r.push(e.current()),
                        this.yieldReturn(r.shift());
                    r.push(e.current())
                }
                return !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.takeFromLast = function(t) {
        if (0 >= t || null  == t)
            return c.empty();
        var n = this;
        return new c(function() {
            var e, r, i = [];
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                for (; e.moveNext(); )
                    i.length == t && i.shift(),
                    i.push(e.current());
                return null  == r && (r = c.from(i).getEnumerator()),
                r.moveNext() ? this.yieldReturn(r.current()) : !1
            }
            ,function() {
                o.dispose(r)
            }
            )
        }
        )
    }
    ,
    c.prototype.indexOf = function(t) {
        var n = null ;
        return typeof t === r.Function ? this.forEach(function(e, r) {
            return t(e, r) ? (n = r,
            !1) : void 0
        }
        ) : this.forEach(function(e, r) {
            return e === t ? (n = r,
            !1) : void 0
        }
        ),
        null  !== n ? n : -1
    }
    ,
    c.prototype.lastIndexOf = function(t) {
        var n = -1;
        return typeof t === r.Function ? this.forEach(function(e, r) {
            t(e, r) && (n = r)
        }
        ) : this.forEach(function(e, r) {
            e === t && (n = r)
        }
        ),
        n
    }
    ,
    c.prototype.cast = function() {
        return this
    }
    ,
    c.prototype.asEnumerable = function() {
        return c.from(this)
    }
    ,
    c.prototype.toArray = function() {
        var t = [];
        return this.forEach(function(n) {
            t.push(n)
        }
        ),
        t
    }
    ,
    c.prototype.toLookup = function(t, e, r) {
        t = o.createLambda(t),
        e = o.createLambda(e),
        r = o.createLambda(r);
        var i = new v(r);
        return this.forEach(function(r) {
            var o = t(r)
              , a = e(r)
              , u = i.get(o);
            u !== n ? u.push(a) : i.add(o, [a])
        }
        ),
        new g(i)
    }
    ,
    c.prototype.toObject = function(t, n) {
        t = o.createLambda(t),
        n = o.createLambda(n);
        var e = {};
        return this.forEach(function(r) {
            e[t(r)] = n(r)
        }
        ),
        e
    }
    ,
    c.prototype.toDictionary = function(t, n, e) {
        t = o.createLambda(t),
        n = o.createLambda(n),
        e = o.createLambda(e);
        var r = new v(e);
        return this.forEach(function(e) {
            r.add(t(e), n(e))
        }
        ),
        r
    }
    ,
    c.prototype.toJSONString = function(t, n) {
        if (typeof JSON === r.Undefined || null  == JSON.stringify)
            throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");
        return JSON.stringify(this.toArray(), t, n)
    }
    ,
    c.prototype.toJoinedString = function(t, n) {
        return null  == t && (t = ""),
        null  == n && (n = e.Identity),
        this.select(n).toArray().join(t)
    }
    ,
    c.prototype.doAction = function(t) {
        var n = this;
        return t = o.createLambda(t),
        new c(function() {
            var e, r = 0;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                return e.moveNext() ? (t(e.current(), r++),
                this.yieldReturn(e.current())) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.forEach = function(t) {
        t = o.createLambda(t);
        var n = 0
          , e = this.getEnumerator();
        try {
            for (; e.moveNext() && t(e.current(), n++) !== !1; )
                ;
        } finally {
            o.dispose(e)
        }
    }
    ,
    c.prototype.write = function(t, n) {
        null  == t && (t = ""),
        n = o.createLambda(n);
        var e = !0;
        this.forEach(function(r) {
            e ? e = !1 : document.write(t),
            document.write(n(r))
        }
        )
    }
    ,
    c.prototype.writeLine = function(t) {
        t = o.createLambda(t),
        this.forEach(function(n) {
            document.writeln(t(n) + "<br />")
        }
        )
    }
    ,
    c.prototype.force = function() {
        var t = this.getEnumerator();
        try {
            for (; t.moveNext(); )
                ;
        } finally {
            o.dispose(t)
        }
    }
    ,
    c.prototype.letBind = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e;
            return new u(function() {
                e = c.from(t(n)).getEnumerator()
            }
            ,function() {
                return e.moveNext() ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.share = function() {
        var t, n = this, r = !1;
        return new d(function() {
            return new u(function() {
                null  == t && (t = n.getEnumerator())
            }
            ,function() {
                if (r)
                    throw new Error("enumerator is disposed");
                return t.moveNext() ? this.yieldReturn(t.current()) : !1
            }
            ,e.Blank)
        }
        ,function() {
            r = !0,
            o.dispose(t)
        }
        )
    }
    ,
    c.prototype.memoize = function() {
        var t, n, r = this, i = !1;
        return new d(function() {
            var o = -1;
            return new u(function() {
                null  == n && (n = r.getEnumerator(),
                t = [])
            }
            ,function() {
                if (i)
                    throw new Error("enumerator is disposed");
                return o++,
                t.length <= o ? n.moveNext() ? this.yieldReturn(t[o] = n.current()) : !1 : this.yieldReturn(t[o])
            }
            ,e.Blank)
        }
        ,function() {
            i = !0,
            o.dispose(n),
            t = null 
        }
        )
    }
    ,
    c.prototype.catchError = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                try {
                    return e.moveNext() ? this.yieldReturn(e.current()) : !1
                } catch (n) {
                    return t(n),
                    !1
                }
            }
            ,function() {
                o.dispose(e)
            }
            )
        }
        )
    }
    ,
    c.prototype.finallyAction = function(t) {
        t = o.createLambda(t);
        var n = this;
        return new c(function() {
            var e;
            return new u(function() {
                e = n.getEnumerator()
            }
            ,function() {
                return e.moveNext() ? this.yieldReturn(e.current()) : !1
            }
            ,function() {
                try {
                    o.dispose(e)
                } finally {
                    t()
                }
            }
            )
        }
        )
    }
    ,
    c.prototype.log = function(t) {
        return t = o.createLambda(t),
        this.doAction(function(n) {
            typeof console !== r.Undefined && console.log(t(n))
        }
        )
    }
    ,
    c.prototype.trace = function(t, n) {
        return null  == t && (t = "Trace"),
        n = o.createLambda(n),
        this.doAction(function(e) {
            typeof console !== r.Undefined && console.log(t, n(e))
        }
        )
    }
    ;
    var l = function(t, n, e, r) {
        this.source = t,
        this.keySelector = o.createLambda(n),
        this.descending = e,
        this.parent = r
    }
    ;
    l.prototype = new c,
    l.prototype.createOrderedEnumerable = function(t, n) {
        return new l(this.source,t,n,this)
    }
    ,
    l.prototype.thenBy = function(t) {
        return this.createOrderedEnumerable(t, !1)
    }
    ,
    l.prototype.thenByDescending = function(t) {
        return this.createOrderedEnumerable(t, !0)
    }
    ,
    l.prototype.getEnumerator = function() {
        var t, n, r = this, i = 0;
        return new u(function() {
            t = [],
            n = [],
            r.source.forEach(function(e, r) {
                t.push(e),
                n.push(r)
            }
            );
            var e = f.create(r, null );
            e.GenerateKeys(t),
            n.sort(function(t, n) {
                return e.compare(t, n)
            }
            )
        }
        ,function() {
            return i < n.length ? this.yieldReturn(t[n[i++]]) : !1
        }
        ,e.Blank)
    }
    ;
    var f = function(t, n, e) {
        this.keySelector = t,
        this.descending = n,
        this.child = e,
        this.keys = null 
    }
    ;
    f.create = function(t, n) {
        var e = new f(t.keySelector,t.descending,n);
        return null  != t.parent ? f.create(t.parent, e) : e
    }
    ,
    f.prototype.GenerateKeys = function(t) {
        for (var n = t.length, e = this.keySelector, r = new Array(n), i = 0; n > i; i++)
            r[i] = e(t[i]);
        this.keys = r,
        null  != this.child && this.child.GenerateKeys(t)
    }
    ,
    f.prototype.compare = function(t, n) {
        var e = o.compare(this.keys[t], this.keys[n]);
        return 0 == e ? null  != this.child ? this.child.compare(t, n) : o.compare(t, n) : this.descending ? -e : e
    }
    ;
    var d = function(t, n) {
        this.dispose = n,
        c.call(this, t)
    }
    ;
    d.prototype = new c;
    var p = function(t) {
        this.getSource = function() {
            return t
        }
    }
    ;
    p.prototype = new c,
    p.prototype.any = function(t) {
        return null  == t ? this.getSource().length > 0 : c.prototype.any.apply(this, arguments)
    }
    ,
    p.prototype.count = function(t) {
        return null  == t ? this.getSource().length : c.prototype.count.apply(this, arguments)
    }
    ,
    p.prototype.elementAt = function(t) {
        var n = this.getSource();
        return t >= 0 && t < n.length ? n[t] : c.prototype.elementAt.apply(this, arguments)
    }
    ,
    p.prototype.elementAtOrDefault = function(t, e) {
        e === n && (e = null );
        var r = this.getSource();
        return t >= 0 && t < r.length ? r[t] : e
    }
    ,
    p.prototype.first = function(t) {
        var n = this.getSource();
        return null  == t && n.length > 0 ? n[0] : c.prototype.first.apply(this, arguments)
    }
    ,
    p.prototype.firstOrDefault = function(t, e) {
        if (e === n && (e = null ),
        null  != t)
            return c.prototype.firstOrDefault.apply(this, arguments);
        var r = this.getSource();
        return r.length > 0 ? r[0] : e
    }
    ,
    p.prototype.last = function(t) {
        var n = this.getSource();
        return null  == t && n.length > 0 ? n[n.length - 1] : c.prototype.last.apply(this, arguments)
    }
    ,
    p.prototype.lastOrDefault = function(t, e) {
        if (e === n && (e = null ),
        null  != t)
            return c.prototype.lastOrDefault.apply(this, arguments);
        var r = this.getSource();
        return r.length > 0 ? r[r.length - 1] : e
    }
    ,
    p.prototype.skip = function(t) {
        var n = this.getSource();
        return new c(function() {
            var r;
            return new u(function() {
                r = 0 > t ? 0 : t
            }
            ,function() {
                return r < n.length ? this.yieldReturn(n[r++]) : !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    p.prototype.takeExceptLast = function(t) {
        return null  == t && (t = 1),
        this.take(this.getSource().length - t)
    }
    ,
    p.prototype.takeFromLast = function(t) {
        return this.skip(this.getSource().length - t)
    }
    ,
    p.prototype.reverse = function() {
        var t = this.getSource();
        return new c(function() {
            var n;
            return new u(function() {
                n = t.length
            }
            ,function() {
                return n > 0 ? this.yieldReturn(t[--n]) : !1
            }
            ,e.Blank)
        }
        )
    }
    ,
    p.prototype.sequenceEqual = function(t, n) {
        return (t instanceof p || t instanceof Array) && null  == n && c.from(t).count() != this.count() ? !1 : c.prototype.sequenceEqual.apply(this, arguments)
    }
    ,
    p.prototype.toJoinedString = function(t, n) {
        var e = this.getSource();
        return null  == n && e instanceof Array ? (null  == t && (t = ""),
        e.join(t)) : c.prototype.toJoinedString.apply(this, arguments)
    }
    ,
    p.prototype.getEnumerator = function() {
        var t = this.getSource()
          , n = -1;
        return {
            current: function() {
                return t[n]
            },
            moveNext: function() {
                return ++n < t.length
            },
            dispose: e.Blank
        }
    }
    ;
    var h = function(t, n) {
        this.prevSource = t,
        this.prevPredicate = n
    }
    ;
    h.prototype = new c,
    h.prototype.where = function(t) {
        if (t = o.createLambda(t),
        t.length <= 1) {
            var n = this.prevPredicate
              , e = function(e) {
                return n(e) && t(e)
            }
            ;
            return new h(this.prevSource,e)
        }
        return c.prototype.where.call(this, t)
    }
    ,
    h.prototype.select = function(t) {
        return t = o.createLambda(t),
        t.length <= 1 ? new m(this.prevSource,this.prevPredicate,t) : c.prototype.select.call(this, t)
    }
    ,
    h.prototype.getEnumerator = function() {
        var t, n = this.prevPredicate, e = this.prevSource;
        return new u(function() {
            t = e.getEnumerator()
        }
        ,function() {
            for (; t.moveNext(); )
                if (n(t.current()))
                    return this.yieldReturn(t.current());
            return !1
        }
        ,function() {
            o.dispose(t)
        }
        )
    }
    ;
    var m = function(t, n, e) {
        this.prevSource = t,
        this.prevPredicate = n,
        this.prevSelector = e
    }
    ;
    m.prototype = new c,
    m.prototype.where = function(t) {
        return t = o.createLambda(t),
        t.length <= 1 ? new h(this,t) : c.prototype.where.call(this, t)
    }
    ,
    m.prototype.select = function(t) {
        if (t = o.createLambda(t),
        t.length <= 1) {
            var n = this.prevSelector
              , e = function(e) {
                return t(n(e))
            }
            ;
            return new m(this.prevSource,this.prevPredicate,e)
        }
        return c.prototype.select.call(this, t)
    }
    ,
    m.prototype.getEnumerator = function() {
        var t, n = this.prevPredicate, e = this.prevSelector, r = this.prevSource;
        return new u(function() {
            t = r.getEnumerator()
        }
        ,function() {
            for (; t.moveNext(); )
                if (null  == n || n(t.current()))
                    return this.yieldReturn(e(t.current()));
            return !1
        }
        ,function() {
            o.dispose(t)
        }
        )
    }
    ;
    var v = function() {
        var t = function(t, n) {
            return Object.prototype.hasOwnProperty.call(t, n)
        }
          , i = function(t) {
            return null  === t ? "null" : t === n ? "undefined" : typeof t.toString === r.Function ? t.toString() : Object.prototype.toString.call(t)
        }
          , o = function(t, n) {
            this.key = t,
            this.value = n,
            this.prev = null ,
            this.next = null 
        }
          , a = function() {
            this.first = null ,
            this.last = null 
        }
        ;
        a.prototype = {
            addLast: function(t) {
                null  != this.last ? (this.last.next = t,
                t.prev = this.last,
                this.last = t) : this.first = this.last = t
            },
            replace: function(t, n) {
                null  != t.prev ? (t.prev.next = n,
                n.prev = t.prev) : this.first = n,
                null  != t.next ? (t.next.prev = n,
                n.next = t.next) : this.last = n
            },
            remove: function(t) {
                null  != t.prev ? t.prev.next = t.next : this.first = t.next,
                null  != t.next ? t.next.prev = t.prev : this.last = t.prev
            }
        };
        var s = function(t) {
            this.countField = 0,
            this.entryList = new a,
            this.buckets = {},
            this.compareSelector = null  == t ? e.Identity : t
        }
        ;
        return s.prototype = {
            add: function(n, e) {
                var r = this.compareSelector(n)
                  , a = i(r)
                  , u = new o(n,e);
                if (t(this.buckets, a)) {
                    for (var s = this.buckets[a], c = 0; c < s.length; c++)
                        if (this.compareSelector(s[c].key) === r)
                            return this.entryList.replace(s[c], u),
                            void (s[c] = u);
                    s.push(u)
                } else
                    this.buckets[a] = [u];
                this.countField++,
                this.entryList.addLast(u)
            },
            get: function(e) {
                var r = this.compareSelector(e)
                  , o = i(r);
                if (!t(this.buckets, o))
                    return n;
                for (var a = this.buckets[o], u = 0; u < a.length; u++) {
                    var s = a[u];
                    if (this.compareSelector(s.key) === r)
                        return s.value
                }
                return n
            },
            set: function(n, e) {
                var r = this.compareSelector(n)
                  , a = i(r);
                if (t(this.buckets, a))
                    for (var u = this.buckets[a], s = 0; s < u.length; s++)
                        if (this.compareSelector(u[s].key) === r) {
                            var c = new o(n,e);
                            return this.entryList.replace(u[s], c),
                            u[s] = c,
                            !0
                        }
                return !1
            },
            contains: function(n) {
                var e = this.compareSelector(n)
                  , r = i(e);
                if (!t(this.buckets, r))
                    return !1;
                for (var o = this.buckets[r], a = 0; a < o.length; a++)
                    if (this.compareSelector(o[a].key) === e)
                        return !0;
                return !1
            },
            clear: function() {
                this.countField = 0,
                this.buckets = {},
                this.entryList = new a
            },
            remove: function(n) {
                var e = this.compareSelector(n)
                  , r = i(e);
                if (t(this.buckets, r))
                    for (var o = this.buckets[r], a = 0; a < o.length; a++)
                        if (this.compareSelector(o[a].key) === e)
                            return this.entryList.remove(o[a]),
                            o.splice(a, 1),
                            0 == o.length && delete this.buckets[r],
                            void this.countField--
            },
            count: function() {
                return this.countField
            },
            toEnumerable: function() {
                var t = this;
                return new c(function() {
                    var n;
                    return new u(function() {
                        n = t.entryList.first
                    }
                    ,function() {
                        if (null  != n) {
                            var t = {
                                key: n.key,
                                value: n.value
                            };
                            return n = n.next,
                            this.yieldReturn(t)
                        }
                        return !1
                    }
                    ,e.Blank)
                }
                )
            }
        },
        s
    }
    ()
      , g = function(t) {
        this.count = function() {
            return t.count()
        }
        ,
        this.get = function(n) {
            return c.from(t.get(n))
        }
        ,
        this.contains = function(n) {
            return t.contains(n)
        }
        ,
        this.toEnumerable = function() {
            return t.toEnumerable().select(function(t) {
                return new b(t.key,t.value)
            }
            )
        }
    }
      , b = function(t, n) {
        this.key = function() {
            return t
        }
        ,
        p.call(this, n)
    }
    ;
    b.prototype = new p,
    typeof define === r.Function && define.amd ? define("linqjs", [], function() {
        return c
    }
    ) : typeof module !== r.Undefined && module.exports ? module.exports = c : t.Enumerable = c
}
(this),
define("scalejs.linq-linqjs", ["scalejs!core", "linqjs"], function(t, n) {
    n.Utils.extendTo(Array),
    t.registerExtension({
        linq: {
            enumerable: n
        }
    })
}
),
!function(t, n) {
    "object" == typeof exports ? module.exports = n() : "function" == typeof define && define.amd ? define("scion-ng", n) : t.SCION = n()
}
(this, function() {
    "use strict";
    function t(t) {
        function n(t) {
            void 0 === f[t] && (f[t] = 0);
            var n = f[t]++;
            return "$generated-" + t + "-" + n
        }
        function e(t) {
            return {
                states: [{
                    type: "initial",
                    transitions: [{
                        target: t
                    }]
                }, t]
            }
        }
        function r(t, e) {
            if (e.transitions && s.push.apply(s, e.transitions),
            e.id) {
                if (c[e.id])
                    throw new Error("Redefinition of state id " + e.id);
                c[e.id] = e
            }
            e.type = e.type || "state",
            e.ancestors = t,
            e.depth = t.length,
            e.parent = t[0],
            e.transitions = e.transitions || [],
            e.transitions.forEach(function(t) {
                t.documentOrder = l++,
                t.source = e
            }
            );
            var i = r.bind(null , [e].concat(t));
            switch (e.states && e.states.forEach(i),
            e.type) {
            case "parallel":
                e.typeEnum = o.PARALLEL;
                break;
            case "initial":
                e.typeEnum = o.INITIAL;
                break;
            case "history":
                e.typeEnum = o.HISTORY;
                break;
            case "final":
                e.typeEnum = o.FINAL;
                break;
            case "state":
            case "scxml":
                e.states && e.states.length ? e.typeEnum = o.COMPOSITE : e.typeEnum = o.BASIC;
                break;
            default:
                throw new Error("Unknown state type: " + e.type)
            }
            e.states ? e.descendants = e.states.concat(e.states.map(function(t) {
                return t.descendants
            }
            ).reduce(function(t, n) {
                return t.concat(n)
            }
            , [])) : e.descendants = [];
            var a;
            if (e.typeEnum === o.COMPOSITE && ("string" == typeof e.initial ? (a = e.states.filter(function(t) {
                return t.id === e.initial
            }
            ),
            a.length && (e.initialRef = a[0])) : (a = e.states.filter(function(t) {
                return "initial" === t.type
            }
            ),
            e.initialRef = a.length ? a[0] : e.states[0]),
            !e.initialRef))
                throw new Error("Unable to locate initial state for composite state: " + e.id);
            if (e.typeEnum === o.COMPOSITE || e.typeEnum === o.PARALLEL) {
                var u = e.states.filter(function(t) {
                    return "history" === t.type
                }
                );
                e.historyRef = u[0]
            }
            e.id || (e.id = n(e.type),
            c[e.id] = e),
            ["onEntry", "onExit"].forEach(function(t) {
                "function" == typeof e[t] && (e[t] = [e[t]])
            }
            )
        }
        function i() {
            s.forEach(function(t) {
                "function" == typeof t.onTransition && (t.onTransition = [t.onTransition])
            }
            ),
            s.forEach(function(t) {
                t.event && (t.events = t.event.trim().split(/ +/))
            }
            ),
            s.forEach(function(t) {
                if (!t.targets && "undefined" != typeof t.target)
                    if ("string" == typeof t.target) {
                        var n = c[t.target];
                        if (!n)
                            throw new Error("Unable to find target state with id " + t.target);
                        t.target = n,
                        t.targets = [t.target]
                    } else if (Array.isArray(t.target))
                        t.targets = t.target.map(function(n) {
                            if ("string" == typeof n) {
                                if (n = c[n],
                                !n)
                                    throw new Error("Unable to find target state with id " + t.target);
                                return n
                            }
                            return n
                        }
                        );
                    else {
                        if ("object" != typeof t.target)
                            throw new Error("Transition target has unknown type: " + t.target);
                        t.targets = [t.target]
                    }
            }
            ),
            s.forEach(function(t) {
                t.targets && (t.lcca = u(t.source, t.targets[0])),
                t.scope = a(t)
            }
            )
        }
        function a(t) {
            var n = "internal" === t.type && t.source.parent && t.targets && t.targets.every(function(n) {
                return t.source.descendants.indexOf(n) > -1
            }
            );
            return t.targets ? n ? t.source : t.lcca : t.source
        }
        function u(t, n) {
            var e = [];
            if (t.ancestors.forEach(function(t) {
                t.typeEnum === o.COMPOSITE && t.descendants.indexOf(n) > -1 && e.push(t)
            }
            ),
            !e.length)
                throw new Error("Could not find LCA for states.");
            return e[0]
        }
        var s = []
          , c = {}
          , l = 0
          , f = {}
          , d = e(t);
        return r([], d),
        i(),
        d
    }
    function n(t) {
        t = t || [],
        this.o = [],
        t.forEach(function(t) {
            this.add(t)
        }
        , this)
    }
    function e(t) {
        var n = t[0]
          , e = t[1];
        return n.source.depth < e.source.depth ? e : e.source.depth < n.source.depth ? n : n.documentOrder < e.documentOrder ? n : e
    }
    function r(r, i) {
        this._model = t(r),
        this.opts = i || {},
        this.opts.log = i.log || ("undefined" == typeof console ? {
            log: function() {}
        } : console.log.bind(console)),
        this.opts.Set = this.opts.Set || n,
        this.opts.priorityComparisonFn = this.opts.priorityComparisonFn || e,
        this.opts.transitionSelector = this.opts.transitionSelector || a,
        this._sessionid = this.opts.sessionid || "",
        this._configuration = new this.opts.Set,
        this._historyValue = {},
        this._internalEventQueue = [],
        this._isInFinalState = !1,
        this._timeoutMap = {},
        this._x = {
            _sessionId: i.sessionId || null ,
            _name: r.name || i.name || null ,
            _ioprocessors: i.ioprocessors || null 
        },
        this._listeners = [],
        this._userScriptingContext = {
            raise: function(t, n) {
                var e;
                e = "string" == typeof t ? {
                    name: t,
                    data: n
                } : t,
                this._internalEventQueue.push(e)
            }
            .bind(this),
            send: function() {
                this.send.apply(this, arguments)
            }
            .bind(this),
            cancel: function() {
                this.cancel.apply(this, arguments)
            }
            .bind(this)
        }
    }
    function i(t, n) {
        n = n || {},
        this._isStepping = !1,
        this._externalEventQueue = [],
        this.send = n.send || this.send,
        this.cancel = n.cancel || this.cancel,
        r.call(this, t, n)
    }
    var o = {
        BASIC: 0,
        COMPOSITE: 1,
        PARALLEL: 2,
        HISTORY: 3,
        INITIAL: 4,
        FINAL: 5
    };
    n.prototype = {
        add: function(t) {
            return this.contains(t) ? void 0 : this.o.push(t)
        },
        remove: function(t) {
            var n = this.o.indexOf(t);
            return -1 === n ? !1 : (this.o.splice(n, 1),
            !0)
        },
        union: function(t) {
            return t = t.iter ? t.iter() : t,
            t.forEach(function(t) {
                this.add(t)
            }
            , this),
            this
        },
        difference: function(t) {
            return t = t.iter ? t.iter() : t,
            t.forEach(function(t) {
                this.remove(t)
            }
            , this),
            this
        },
        contains: function(t) {
            return this.o.indexOf(t) > -1
        },
        iter: function() {
            return this.o
        },
        isEmpty: function() {
            return !this.o.length
        },
        equals: function(t) {
            var n = t.iter()
              , e = this.o;
            return e.every(function(t) {
                return n.indexOf(t) > -1
            }
            ) && n.every(function(t) {
                return e.indexOf(t) > -1
            }
            )
        },
        toString: function() {
            return "Set(" + this.o.toString() + ")"
        }
    };
    var a = function() {
        function t(t) {
            return new RegExp("^" + t.replace(/\./g, "\\.") + "(\\.[0-9a-zA-Z]+)*$")
        }
        function n(n) {
            return r[n] ? r[n] : r[n] = t(n)
        }
        function e(t, e) {
            return e && e.name && (t.events.indexOf("*") > -1 ? !0 : t.events.filter(function(t) {
                return n(t).test(e.name)
            }
            ).length)
        }
        var r = {};
        return function(t, n, r) {
            return t.transitions.filter(function(t) {
                return (!t.events || e(t, n)) && (!t.cond || r(t.cond))
            }
            )
        }
    }
    ()
      , u = {
        getAncestors: function(t, n) {
            var e;
            return e = t.ancestors.indexOf(n),
            e > -1 ? t.ancestors.slice(0, e) : t.ancestors
        },
        getAncestorsOrSelf: function(t, n) {
            return [t].concat(this.getAncestors(t, n))
        },
        getDescendantsOrSelf: function(t) {
            return [t].concat(t.descendants)
        },
        isOrthogonalTo: function(t, n) {
            return !this.isAncestrallyRelatedTo(t, n) && this.getLCA(t, n).typeEnum === o.PARALLEL
        },
        isAncestrallyRelatedTo: function(t, n) {
            return this.getAncestorsOrSelf(n).indexOf(t) > -1 || this.getAncestorsOrSelf(t).indexOf(n) > -1
        },
        getLCA: function(t, n) {
            var e = this.getAncestors(t).filter(function(t) {
                return t.descendants.indexOf(n) > -1
            }
            , this);
            return e[0]
        }
    }
      , s = !1;
    return r.prototype = {
        start: function() {
            return s && this.opts.log("performing initial big step"),
            this._configuration.add(this._model.initialRef),
            this._performBigStep(),
            this.getConfiguration()
        },
        getConfiguration: function() {
            return this._configuration.iter().map(function(t) {
                return t.id
            }
            )
        },
        getFullConfiguration: function() {
            return this._configuration.iter().map(function(t) {
                return [t].concat(u.getAncestors(t))
            }
            , this).reduce(function(t, n) {
                return t.concat(n)
            }
            , []).map(function(t) {
                return t.id
            }
            ).reduce(function(t, n) {
                return t.indexOf(n) > -1 ? t : t.concat(n)
            }
            , [])
        },
        isIn: function(t) {
            return this.getFullConfiguration().indexOf(t) > -1
        },
        isFinal: function(t) {
            return this._isInFinalState
        },
        _performBigStep: function(t) {
            t && this._internalEventQueue.push(t);
            for (var n = !0; n; ) {
                var e = this._internalEventQueue.shift() || null 
                  , r = this._performSmallStep(e);
                n = !r.isEmpty()
            }
            this._isInFinalState = this._configuration.iter().every(function(t) {
                return t.typeEnum === o.FINAL
            }
            )
        },
        _performSmallStep: function(t) {
            s && this.opts.log("selecting transitions with currentEvent: ", t);
            var n = this._selectTransitions(t);
            if (s && this.opts.log("selected transitions: ", n),
            !n.isEmpty()) {
                s && this.opts.log("sorted transitions: ", n);
                var e = new this.opts.Set(n.iter().filter(function(t) {
                    return t.targets
                }
                ))
                  , r = this._getStatesExited(e)
                  , i = r[0]
                  , a = r[1]
                  , u = this._getStatesEntered(e)
                  , c = u[0]
                  , l = u[1];
                s && this.opts.log("basicStatesExited ", i),
                s && this.opts.log("basicStatesEntered ", c),
                s && this.opts.log("statesExited ", a),
                s && this.opts.log("statesEntered ", l);
                var f = new this.opts.Set;
                s && this.opts.log("executing state exit actions");
                var d = this._evaluateAction.bind(this, t);
                a.forEach(function(t) {
                    (s || this.opts.logStatesEnteredAndExited) && this.opts.log("exiting ", t.id),
                    this._listeners.forEach(function(n) {
                        n.onExit && n.onExit(t.id)
                    }
                    ),
                    void 0 !== t.onExit && t.onExit.forEach(d);
                    var n;
                    t.historyRef && (n = t.historyRef.isDeep ? function(n) {
                        return n.typeEnum === o.BASIC && t.descendants.indexOf(n) > -1
                    }
                     : function(n) {
                        return n.parent === t
                    }
                    ,
                    this._historyValue[t.historyRef.id] = a.filter(n))
                }
                , this);
                var p = n.iter().sort(function(t, n) {
                    return t.documentOrder - n.documentOrder
                }
                );
                s && this.opts.log("executing transitition actions"),
                p.forEach(function(t) {
                    var n = t.targets && t.targets.map(function(t) {
                        return t.id
                    }
                    );
                    this._listeners.forEach(function(e) {
                        e.onTransition && e.onTransition(t.source.id, n)
                    }
                    ),
                    void 0 !== t.onTransition && t.onTransition.forEach(d)
                }
                , this),
                s && this.opts.log("executing state enter actions"),
                l.forEach(function(t) {
                    (s || this.opts.logStatesEnteredAndExited) && this.opts.log("entering", t.id),
                    void 0 !== t.onEntry && t.onEntry.forEach(d),
                    this._listeners.forEach(function(n) {
                        n.onEntry && d(function(e) {
                            n.onEntry.call(this, t.id, e)
                        }
                        )
                    }
                    )
                }
                , this),
                s && this.opts.log("updating configuration "),
                s && this.opts.log("old configuration ", this._configuration),
                this._configuration.difference(i),
                this._configuration.union(c),
                s && this.opts.log("new configuration ", this._configuration),
                f.isEmpty() || (s && this.opts.log("adding triggered events to inner queue ", f),
                this._internalEventQueue.push(f))
            }
            return n
        },
        _evaluateAction: function(t, n) {
            return n.call(this._userScriptingContext, t, this.isIn.bind(this), this._x._sessionId, this._x._name, this._x._ioprocessors, this._x)
        },
        _getStatesExited: function(t) {
            var n = new this.opts.Set
              , e = new this.opts.Set;
            t.iter().forEach(function(t) {
                var r = t.scope
                  , i = r.descendants;
                this._configuration.iter().forEach(function(t) {
                    i.indexOf(t) > -1 && (e.add(t),
                    n.add(t),
                    u.getAncestors(t, r).forEach(function(t) {
                        n.add(t)
                    }
                    ))
                }
                , this)
            }
            , this);
            var r = n.iter().sort(function(t, n) {
                return n.depth - t.depth
            }
            );
            return [e, r]
        },
        _getStatesEntered: function(t) {
            var n = {
                statesToEnter: new this.opts.Set,
                basicStatesToEnter: new this.opts.Set,
                statesProcessed: new this.opts.Set,
                statesToProcess: []
            };
            t.iter().forEach(function(t) {
                t.targets.forEach(function(e) {
                    this._addStateAndAncestors(e, t.scope, n)
                }
                , this)
            }
            , this);
            for (var e; e = n.statesToProcess.pop(); )
                this._addStateAndDescendants(e, n);
            var r = n.statesToEnter.iter().sort(function(t, n) {
                return t.depth - n.depth
            }
            );
            return [n.basicStatesToEnter, r]
        },
        _addStateAndAncestors: function(t, n, e) {
            this._addStateAndDescendants(t, e),
            u.getAncestors(t, n).forEach(function(t) {
                t.typeEnum === o.COMPOSITE ? (e.statesToEnter.add(t),
                e.statesProcessed.add(t)) : this._addStateAndDescendants(t, e)
            }
            , this)
        },
        _addStateAndDescendants: function(t, n) {
            n.statesProcessed.contains(t) || (t.typeEnum === o.HISTORY ? t.id in this._historyValue ? this._historyValue[t.id].forEach(function(e) {
                this._addStateAndAncestors(e, t.parent, n)
            }
            , this) : (n.statesToEnter.add(t),
            n.basicStatesToEnter.add(t)) : (n.statesToEnter.add(t),
            t.typeEnum === o.PARALLEL ? n.statesToProcess.push.apply(n.statesToProcess, t.states.filter(function(t) {
                return t.typeEnum !== o.HISTORY
            }
            )) : t.typeEnum === o.COMPOSITE ? n.statesToProcess.push(t.initialRef) : (t.typeEnum === o.INITIAL || t.typeEnum === o.BASIC || t.typeEnum === o.FINAL) && n.basicStatesToEnter.add(t)),
            n.statesProcessed.add(t))
        },
        _selectTransitions: function(t) {
            if (this.opts.onlySelectFromBasicStates)
                var n = this._configuration.iter();
            else {
                var e = new this.opts.Set;
                this._configuration.iter().forEach(function(t) {
                    e.add(t),
                    u.getAncestors(t).forEach(function(t) {
                        e.add(t)
                    }
                    )
                }
                , this),
                n = e.iter()
            }
            var r = t && t.name && t.name.search(".")
              , i = r ? a : this.opts.transitionSelector
              , o = new this.opts.Set
              , c = this._evaluateAction.bind(this, t);
            n.forEach(function(n) {
                i(n, t, c).forEach(function(t) {
                    o.add(t)
                }
                )
            }
            );
            var l = this._selectPriorityEnabledTransitions(o);
            return s && this.opts.log("priorityEnabledTransitions", l),
            l
        },
        _selectPriorityEnabledTransitions: function(t) {
            var n = new this.opts.Set
              , e = this._getInconsistentTransitions(t)
              , r = e[0]
              , i = e[1];
            for (n.union(r),
            s && this.opts.log("enabledTransitions", t),
            s && this.opts.log("consistentTransitions", r),
            s && this.opts.log("inconsistentTransitionsPairs", i),
            s && this.opts.log("priorityEnabledTransitions", n); !i.isEmpty(); )
                t = new this.opts.Set(i.iter().map(function(t) {
                    return this.opts.priorityComparisonFn(t)
                }
                , this)),
                e = this._getInconsistentTransitions(t),
                r = e[0],
                i = e[1],
                n.union(r),
                s && this.opts.log("enabledTransitions", t),
                s && this.opts.log("consistentTransitions", r),
                s && this.opts.log("inconsistentTransitionsPairs", i),
                s && this.opts.log("priorityEnabledTransitions", n);
            return n
        },
        _getInconsistentTransitions: function(t) {
            var n = new this.opts.Set
              , e = new this.opts.Set
              , r = t.iter();
            s && this.opts.log("transitions", r);
            for (var i = 0; i < r.length; i++)
                for (var o = i + 1; o < r.length; o++) {
                    var a = r[i]
                      , u = r[o];
                    this._conflicts(a, u) && (n.add(a),
                    n.add(u),
                    e.add([a, u]))
                }
            var c = t.difference(n);
            return [c, e]
        },
        _conflicts: function(t, n) {
            return !this._isArenaOrthogonal(t, n)
        },
        _isArenaOrthogonal: function(t, n) {
            s && this.opts.log("transition scopes", t.scope, n.scope);
            var e = u.isOrthogonalTo(t.scope, n.scope);
            return s && this.opts.log("transition scopes are orthogonal?", e),
            e
        },
        registerListener: function(t) {
            return this._listeners.push(t)
        },
        unregisterListener: function(t) {
            return this._listeners.splice(this._listeners.indexOf(t), 1)
        }
    },
    i.prototype = Object.create(r.prototype),
    i.prototype.gen = function(t, n) {
        var e;
        switch (typeof t) {
        case "string":
            e = {
                name: t,
                data: n
            };
            break;
        case "object":
            if ("string" != typeof t.name)
                throw new Error('Event object must have "name" property of type string.');
            e = t;
            break;
        default:
            throw new Error("First argument to gen must be a string or object.")
        }
        if (this._externalEventQueue.push(e),
        this._isStepping)
            return null ;
        this._isStepping = !0;
        for (var r; r = this._externalEventQueue.shift(); )
            this._performBigStep(r);
        return this._isStepping = !1,
        this.getConfiguration()
    }
    ,
    i.prototype.send = function(t, n, e) {
        var r;
        switch (typeof t) {
        case "string":
            r = {
                name: t,
                data: n
            },
            e = e || {};
            break;
        case "object":
            if ("string" != typeof t.name)
                throw new Error('Event object must have "name" property of type string.');
            r = t,
            e = n || {};
            break;
        default:
            throw new Error("First argument to send must be a string or object.")
        }
        if (void 0 === e.delay)
            this.gen(r);
        else {
            if ("undefined" == typeof setTimeout)
                throw new Error("Default implementation of Statechart.prototype.send will not work unless setTimeout is defined globally.");
            s && this.opts.log("sending event", r.name, "with content", r.data, "after delay", e.delay);
            var i = setTimeout(this.gen.bind(this, r), e.delay || 0);
            e.sendid && (this._timeoutMap[e.sendid] = i)
        }
    }
    ,
    i.prototype.cancel = function(t) {
        if ("undefined" == typeof clearTimeout)
            throw new Error("Default implementation of Statechart.prototype.cancel will not work unless setTimeout is defined globally.");
        t in this._timeoutMap && (s && this.opts.log("cancelling ", t, " with timeout id ", this._timeoutMap[t]),
        clearTimeout(this._timeoutMap[t]))
    }
    ,
    {
        BaseInterpreter: r,
        Statechart: i,
        ArraySet: n,
        STATE_TYPES: o,
        initializeModel: t
    }
}
),
define("scalejs.statechart-scion/state.builder", ["scalejs!core", "scion-ng"], function(t, n) {
    "use strict";
    return function(e) {
        function r(t) {
            return M(function(n) {
                if (n.onEntry)
                    throw new Error("Only one `onEntry` action is allowed.");
                if ("function" != typeof t)
                    throw new Error("`onEntry` takes a function as a parameter.");
                return n.onEntry = t,
                n
            }
            )
        }
        function i(t) {
            return M(function(n) {
                if (n.onExit)
                    throw new Error("Only one `onExit` action is allowed.");
                if ("function" != typeof t)
                    throw new Error("`onExit` takes a function as a parameter.");
                return n.onExit = t,
                n
            }
            )
        }
        function o(t) {
            return M(function(n) {
                n.event = t
            }
            )
        }
        function a(t) {
            return M(function(n) {
                n.cond = t
            }
            )
        }
        function u(t, n, e) {
            return M(function(r) {
                return "state" === r.type || "parallel" === r.type ? w(u(t, n, e))(r) : (t && (r.type = "internal"),
                void ("function" == typeof n ? r.onTransition = n : (r.target = _(n, "array") ? n : n.split(" "),
                e && (r.onTransition = e))))
            }
            )
        }
        function s(t, n) {
            return u(!1, t, n);
        }
        function c(t, n) {
            return u(!0, t, n)
        }
        function l(t) {
            if ("function" == typeof t)
                return M(function(n) {
                    n.onTransition = t
                }
                );
            if ("$yield" === t.kind)
                return t;
            throw new Error("Unsupported transition action",t)
        }
        function f() {
            var t, n = x.copy(arguments), e = n.pop();
            if (n.length > 2)
                throw new Error("First (optional) argument should be event name, second (optional) argument should be a condition function");
            if ("function" != typeof e && "$yield" !== e.kind)
                throw new Error("Last argument should be either `goto` or a function.");
            return t = n.map(function(t) {
                if ("string" == typeof t)
                    return o(t);
                if ("function" == typeof t)
                    return a(t);
                throw new Error("Transition argument ",t," is not supported. First (optional) argument should be event name, second (optional) argument should be a condition function")
            }
            ),
            M(w.apply(null , t.concat([l(e)])))
        }
        function d() {
            var t = x.copy(arguments)
              , n = t.pop();
            if (t.forEach(function(t) {
                if ("string" != typeof t)
                    throw new Error("`whenInStates` accepts list of states and either `goto` or a function as the last argument.")
            }
            ),
            "function" != typeof n && "$yield" !== n.kind)
                throw new Error("Last argument should be either `goto` or a function.");
            return M(w(a(function(n, e) {
                return t.every(function(t) {
                    return e(t)
                }
                )
            }
            ), n))
        }
        function p() {
            var t = x.copy(arguments)
              , n = t.pop();
            if (t.forEach(function(t) {
                if ("string" != typeof t)
                    throw new Error("`whenNotInStates` accepts list of states and either `goto` or a function as the last argument.")
            }
            ),
            "function" != typeof n && "$yield" !== n.kind)
                throw new Error("Last argument should be either `goto` or a function.");
            return M(w(a(function(n, e) {
                return t.every(function(t) {
                    return !e(t)
                }
                )
            }
            ), n))
        }
        function h(t) {
            return M(function(n) {
                return n.parallel ? new Error("`initial` shouldn't be specified on parallel region.") : void (n.initial = t)
            }
            )
        }
        function m(e) {
            return function() {
                var r, i;
                return r = b.apply(null , arguments),
                i = new n.Statechart(r,C({
                    log: t.log.debug
                }, e))
            }
        }
        var v, g, b, y, w, x = t.array, E = t.object.has, _ = t.type.is, C = t.object.merge, S = t.functional.builder, M = S.$yield;
        return v = S({
            run: function(t, n) {
                var e = {};
                return E(n, "parallel") ? e.type = "parallel" : e.type = "state",
                t(e),
                e
            },
            delay: function(t) {
                return t()
            },
            zero: function() {
                return function() {}
            },
            $yield: function(t) {
                return t
            },
            combine: function(t, n) {
                return function(e) {
                    t(e),
                    n(e)
                }
            },
            missing: function(t) {
                if ("string" == typeof t)
                    return function(n) {
                        if (n.id)
                            throw new Error("Can't set state id to \"" + t + '". state\'s id is already set to "' + n.id + '"');
                        n.id = t
                    }
                    ;
                if ("function" == typeof t)
                    return t;
                if ("state" === t.type || "parallel" === t.type)
                    return function(n) {
                        n.states || (n.states = []),
                        n.states.push(t)
                    }
                    ;
                throw new Error("Missing builder for expression: " + JSON.stringify(t))
            }
        }),
        b = v(),
        y = v({
            parallel: !0
        }),
        g = S({
            run: function(t) {
                return function(n) {
                    n.transitions || (n.transitions = []);
                    var e = {};
                    t(e),
                    n.transitions.push(e)
                }
            },
            delay: function(t) {
                return t()
            },
            zero: function() {
                return function() {}
            },
            $yield: function(t) {
                return t
            },
            combine: function(t, n) {
                return function(e) {
                    t(e),
                    n(e)
                }
            },
            missing: function(t) {
                if ("function" == typeof t)
                    return t;
                throw new Error('Unknown operation "' + t.kind + '" in transition expression',t)
            }
        }),
        w = g(),
        {
            builder: m,
            state: b,
            parallel: y,
            initial: h,
            onEntry: r,
            onExit: i,
            on: f,
            whenInStates: d,
            whenNotInStates: p,
            "goto": s,
            gotoInternally: c,
            statechart: m({
                logStatesEnteredAndExited: e.logStatesEnteredAndExited,
                log: t.log.debug
            })
        }
    }
}
),
define("scalejs.statechart-scion/state", ["scalejs!core", "./state.builder", "scion-ng", "scalejs.functional", "scalejs.linq-linqjs"], function(t, n, e) {
    "use strict";
    return function(r) {
        function i(t) {
            return y(t, "states") ? v.make(t).concat(v.from(t.states).selectMany(i)) : v.make(t)
        }
        function o(t, n) {
            var e = i(t).firstOrDefault(function(t) {
                return t.id === n
            }
            );
            return e
        }
        function a(t, n) {
            var e = i(t).firstOrDefault(function(t) {
                return t.states && t.states.some(function(t) {
                    return t.id === n
                }
                )
            }
            );
            return e
        }
        function u() {
            return x(function(t, n) {
                var e, r;
                if (e = o(h, t),
                !e)
                    throw new Error('Parent state "' + t + "\" doesn't exist");
                if (y(n, "id") && (r = o(h, n.id)))
                    throw new Error('State "' + n.id + '" already exists.');
                y(e, "states") || (e.states = []),
                e.states.push(n)
            }
            ).apply(null , arguments)
        }
        function s(n) {
            if (t.isApplicationRunning())
                throw new Error("Can't register a state while application is running.");
            g(arguments, 1).forEach(u(n))
        }
        function c(t, n) {
            var e;
            if (e = o(h, t),
            !e)
                throw new Error('Parent state "' + t + "\" doesn't exist");
            n.expr(e)
        }
        function l() {
            if (t.isApplicationRunning())
                throw new Error("Can't unregister a state while application is running.");
            g(arguments).forEach(function(t) {
                var n = a(h, t)
                  , e = v.from(n.states).first(function(n) {
                    return n.id === t
                }
                );
                b(n.states, e)
            }
            )
        }
        function f(t, n, e) {
            var r;
            if (w(t, "string"))
                r = {
                    name: t
                };
            else {
                if (!y(t, "name"))
                    throw new Error("event object should have `name` property.");
                r = t
            }
            !y(e) && w(n, "number") ? e = n : r.data = n,
            m.send(r, {
                delay: e
            })
        }
        function d() {
            return t.reactive.Observable.create(function(t) {
                var n = {
                    onEntry: function(n, e) {
                        t.onNext({
                            event: "entry",
                            state: n,
                            context: this,
                            currentEvent: e
                        })
                    },
                    onExit: function(n, e) {
                        t.onNext({
                            event: "exit",
                            state: n,
                            currentEvent: e
                        })
                    },
                    onTransition: function(n, e, r) {
                        t.onNext({
                            event: "transition",
                            source: n,
                            targets: e,
                            currentEvent: r
                        })
                    }
                };
                return m ? m.registerListener(n) : S.push(n),
                function() {
                    m.unregisterListener(n)
                }
            }
            )
        }
        function p(t) {
            return function(n) {
                d().where(function(n) {
                    return "entry" === n.event && n.state === t
                }
                ).take(1).subscribe(function() {
                    n()
                }
                )
            }
        }
        var h, m, v = t.linq.enumerable, g = t.array.toArray, b = t.array.removeOne, y = t.object.has, w = t.type.is, x = t.functional.curry, E = n(r), _ = E.state, C = E.parallel, S = [];
        return h = _("scalejs-app", C("root")),
        t.onApplicationEvent(function(n) {
            switch (n) {
            case "started":
                if (h.states[0].states) {
                    m = new e.Statechart(h,{
                        logStatesEnteredAndExited: r.logStatesEnteredAndExited,
                        log: t.log.debug
                    }),
                    S.forEach(function(t) {
                        m.registerListener(t)
                    }
                    ),
                    m.start();
                    break
                }
                console.log("Statechart expects at least one state to be defined.");
                break;
            case "stopped":
            }
        }
        ),
        {
            registerStates: s,
            registerTransition: c,
            unregisterStates: l,
            raise: f,
            observe: d,
            onState: p,
            builder: E
        }
    }
}
),
define("scalejs.statechart-scion", ["scalejs!core", "./scalejs.statechart-scion/state", "module"], function(t, n, e) {
    "use strict";
    t.registerExtension({
        state: n(e.config())
    })
}
),
function(t) {
    function n(t) {
        for (var n = [], e = 0, r = t.length; r > e; e++)
            n.push(t[e]);
        return n
    }
    function e(t, n) {
        if (ot && n.stack && "object" == typeof t && null  !== t && t.stack && -1 === t.stack.indexOf(ct)) {
            for (var e = [], i = n; i; i = i.source)
                i.stack && e.unshift(i.stack);
            e.unshift(t.stack);
            var o = e.join("\n" + ct + "\n");
            t.stack = r(o)
        }
    }
    function r(t) {
        for (var n = t.split("\n"), e = [], r = 0, a = n.length; a > r; r++) {
            var u = n[r];
            i(u) || o(u) || !u || e.push(u)
        }
        return e.join("\n")
    }
    function i(t) {
        var n = u(t);
        if (!n)
            return !1;
        var e = n[0]
          , r = n[1];
        return e === ut && r >= st && Se >= r
    }
    function o(t) {
        return -1 !== t.indexOf("(module.js:") || -1 !== t.indexOf("(node.js:")
    }
    function a() {
        if (ot)
            try {
                throw new Error
            } catch (t) {
                var n = t.stack.split("\n")
                  , e = n[0].indexOf("@") > 0 ? n[1] : n[2]
                  , r = u(e);
                if (!r)
                    return;
                return ut = r[0],
                r[1]
            }
    }
    function u(t) {
        var n = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);
        if (n)
            return [n[1], Number(n[2])];
        var e = /at ([^ ]+):(\d+):(?:\d+)$/.exec(t);
        if (e)
            return [e[1], Number(e[2])];
        var r = /.*@(.+):(\d+)$/.exec(t);
        return r ? [r[1], Number(r[2])] : void 0
    }
    function c(t) {
        var n = [];
        if (!Vt(t))
            return n;
        Ht.nonEnumArgs && t.length && Ut(t) && (t = Gt.call(t));
        var e = Ht.enumPrototypes && "function" == typeof t
          , r = Ht.enumErrorProps && (t === zt || t instanceof Error);
        for (var i in t)
            e && "prototype" == i || r && ("message" == i || "name" == i) || n.push(i);
        if (Ht.nonEnumShadows && t !== qt) {
            var o = t.constructor
              , a = -1
              , u = Ct;
            if (t === (o && o.prototype))
                var s = t === Bt ? Ot : t === zt ? Pt : It.call(t)
                  , c = Ft[s];
            for (; ++a < u; )
                i = _t[a],
                c && c[i] || !Rt.call(t, i) || n.push(i)
        }
        return n
    }
    function l(t, n, e) {
        for (var r = -1, i = e(t), o = i.length; ++r < o; ) {
            var a = i[r];
            if (n(t[a], a, t) === !1)
                break
        }
        return t
    }
    function f(t, n) {
        return l(t, n, c)
    }
    function d(t) {
        return "function" != typeof t.toString && "string" == typeof (t + "")
    }
    function p(t, n, e, r) {
        if (t === n)
            return 0 !== t || 1 / t == 1 / n;
        var i = typeof t
          , o = typeof n;
        if (t === t && (null  == t || null  == n || "function" != i && "object" != i && "function" != o && "object" != o))
            return !1;
        var a = It.call(t)
          , u = It.call(n);
        if (a == St && (a = Dt),
        u == St && (u = Dt),
        a != u)
            return !1;
        switch (a) {
        case kt:
        case At:
            return +t == +n;
        case Nt:
            return t != +t ? n != +n : 0 == t ? 1 / t == 1 / n : t == +n;
        case jt:
        case Ot:
            return t == String(n)
        }
        var s = a == Mt;
        if (!s) {
            if (a != Dt || !Ht.nodeClass && (d(t) || d(n)))
                return !1;
            var c = !Ht.argsObject && Ut(t) ? Object : t.constructor
              , l = !Ht.argsObject && Ut(n) ? Object : n.constructor;
            if (!(c == l || Rt.call(t, "constructor") && Rt.call(n, "constructor") || it(c) && c instanceof c && it(l) && l instanceof l) && ("constructor" in t && "constructor" in n))
                return !1
        }
        e || (e = []),
        r || (r = []);
        for (var h = e.length; h--; )
            if (e[h] == t)
                return r[h] == n;
        var m = 0
          , v = !0;
        if (e.push(t),
        r.push(n),
        s) {
            if (h = t.length,
            m = n.length,
            v = m == h)
                for (; m--; ) {
                    var g = n[m];
                    if (!(v = p(t[m], g, e, r)))
                        break
                }
        } else
            f(n, function(n, i, o) {
                return Rt.call(o, i) ? (m++,
                v = Rt.call(t, i) && p(t[i], n, e, r)) : void 0
            }
            ),
            v && f(t, function(t, n, e) {
                return Rt.call(e, n) ? v = --m > -1 : void 0
            }
            );
        return e.pop(),
        r.pop(),
        v
    }
    function h(t, n) {
        for (var e = new Array(t), r = 0; t > r; r++)
            e[r] = n();
        return e
    }
    function m() {
        try {
            return Yt.apply(this, arguments)
        } catch (t) {
            return Zt.e = t,
            Zt
        }
    }
    function v(t) {
        if (!it(t))
            throw new TypeError("fn must be a function");
        return Yt = t,
        m
    }
    function g(t) {
        throw t
    }
    function b(t, n) {
        this.id = t,
        this.value = n
    }
    function y(t, n) {
        this.scheduler = t,
        this.disposable = n,
        this.isDisposed = !1
    }
    function w(t, n) {
        n.isDisposed || (n.isDisposed = !0,
        n.disposable.dispose())
    }
    function x(t) {
        this.observer = t,
        this.a = [],
        this.isStopped = !1
    }
    function E() {
        this._s = s
    }
    function _() {
        this._s = s,
        this._l = s.length,
        this._i = 0
    }
    function C(t) {
        this._a = t
    }
    function S(t) {
        this._a = t,
        this._l = P(t),
        this._i = 0
    }
    function M(t) {
        return "number" == typeof t && U.isFinite(t)
    }
    function k(n) {
        var e, r = n[gt];
        if (!r && "string" == typeof n)
            return e = new E(n),
            e[gt]();
        if (!r && n.length !== t)
            return e = new C(n),
            e[gt]();
        if (!r)
            throw new TypeError("Object is not iterable");
        return n[gt]()
    }
    function A(t) {
        var n = +t;
        return 0 === n ? n : isNaN(n) ? n : 0 > n ? -1 : 1
    }
    function P(t) {
        var n = +t.length;
        return isNaN(n) ? 0 : 0 !== n && M(n) ? (n = A(n) * Math.floor(Math.abs(n)),
        0 >= n ? 0 : n > Qn ? Qn : n) : n
    }
    function T(t, n) {
        this.observer = t,
        this.parent = n
    }
    function N(t, n) {
        return mn(t) || (t = yn),
        new Kn(n,t)
    }
    function D(t, n) {
        this.observer = t,
        this.parent = n
    }
    function j(t, n) {
        this.observer = t,
        this.parent = n
    }
    function O(t, n) {
        return new we(function(e) {
            var r = new cn
              , i = new ln;
            return i.setDisposable(r),
            r.setDisposable(t.subscribe(function(t) {
                e.onNext(t)
            }
            , function(t) {
                try {
                    var r = n(t)
                } catch (o) {
                    return e.onError(o)
                }
                rt(r) && (r = Fn(r));
                var a = new cn;
                i.setDisposable(a),
                a.setDisposable(r.subscribe(e))
            }
            , function(t) {
                e.onCompleted(t)
            }
            )),
            i
        }
        ,t)
    }
    function I(t, n) {
        var e = this;
        return new we(function(r) {
            var i = 0
              , o = t.length;
            return e.subscribe(function(e) {
                if (o > i) {
                    var a, u = t[i++];
                    try {
                        a = n(e, u)
                    } catch (s) {
                        return r.onError(s)
                    }
                    r.onNext(a)
                } else
                    r.onCompleted()
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                r.onCompleted()
            }
            )
        }
        ,e)
    }
    function R() {
        return !1
    }
    function L() {
        return []
    }
    function z(t, n, e) {
        var r = Et(n, e, 3);
        return t.map(function(n, e) {
            var i = r(n, e, t);
            return rt(i) && (i = Fn(i)),
            (wt(i) || yt(i)) && (i = Jn(i)),
            i
        }
        ).concatAll()
    }
    function q(t, n, e) {
        for (var r = 0, i = t.length; i > r; r++)
            if (e(t[r], n))
                return r;
        return -1
    }
    function B(t) {
        this.comparer = t,
        this.set = []
    }
    function W(t, n, e) {
        this.observer = t,
        this.selector = n,
        this.source = e,
        this.i = 0,
        this.isStopped = !1
    }
    function F(t, n, e) {
        var r = Et(n, e, 3);
        return t.map(function(n, e) {
            var i = r(n, e, t);
            return rt(i) && (i = Fn(i)),
            (wt(i) || yt(i)) && (i = Jn(i)),
            i
        }
        ).mergeAll()
    }
    function H(t, n, e) {
        this.observer = t,
        this.predicate = n,
        this.source = e,
        this.i = 0,
        this.isStopped = !1
    }
    var V = {
        "boolean": !1,
        "function": !0,
        object: !0,
        number: !1,
        string: !1,
        undefined: !1
    }
      , U = V[typeof window] && window || this
      , Y = V[typeof exports] && exports && !exports.nodeType && exports
      , X = V[typeof module] && module && !module.nodeType && module
      , G = X && X.exports === Y && Y
      , Q = V[typeof global] && global;
    !Q || Q.global !== Q && Q.window !== Q || (U = Q);
    var J = {
        internals: {},
        config: {
            Promise: U.Promise
        },
        helpers: {}
    }
      , K = J.helpers.noop = function() {}
      , Z = (J.helpers.notDefined = function(t) {
        return "undefined" == typeof t
    }
    ,
    J.helpers.identity = function(t) {
        return t
    }
    )
      , $ = (J.helpers.pluck = function(t) {
        return function(n) {
            return n[t]
        }
    }
    ,
    J.helpers.just = function(t) {
        return function() {
            return t
        }
    }
    ,
    J.helpers.defaultNow = Date.now)
      , tt = J.helpers.defaultComparer = function(t, n) {
        return Xt(t, n)
    }
      , nt = J.helpers.defaultSubComparer = function(t, n) {
        return t > n ? 1 : n > t ? -1 : 0
    }
      , et = (J.helpers.defaultKeySerializer = function(t) {
        return t.toString()
    }
    ,
    J.helpers.defaultError = function(t) {
        throw t
    }
    )
      , rt = J.helpers.isPromise = function(t) {
        return !!t && "function" == typeof t.then
    }
      , it = (J.helpers.asArray = function() {
        return Array.prototype.slice.call(arguments)
    }
    ,
    J.helpers.not = function(t) {
        return !t
    }
    ,
    J.helpers.isFunction = function() {
        var t = function(t) {
            return "function" == typeof t || !1
        }
        ;
        return t(/x/) && (t = function(t) {
            return "function" == typeof t && "[object Function]" == It.call(t)
        }
        ),
        t
    }
    ());
    J.config.longStackSupport = !1;
    var ot = !1;
    try {
        throw new Error
    } catch (at) {
        ot = !!at.stack
    }
    var ut, st = a(), ct = "From previous event:", lt = J.EmptyError = function() {
        this.message = "Sequence contains no elements.",
        Error.call(this)
    }
    ;
    lt.prototype = Error.prototype;
    var ft = J.ObjectDisposedError = function() {
        this.message = "Object has been disposed",
        Error.call(this)
    }
    ;
    ft.prototype = Error.prototype;
    var dt = J.ArgumentOutOfRangeError = function() {
        this.message = "Argument out of range",
        Error.call(this)
    }
    ;
    dt.prototype = Error.prototype;
    var pt = J.NotSupportedError = function(t) {
        this.message = t || "This operation is not supported",
        Error.call(this)
    }
    ;
    pt.prototype = Error.prototype;
    var ht = J.NotImplementedError = function(t) {
        this.message = t || "This operation is not implemented",
        Error.call(this)
    }
    ;
    ht.prototype = Error.prototype;
    var mt = J.helpers.notImplemented = function() {
        throw new ht
    }
      , vt = J.helpers.notSupported = function() {
        throw new pt
    }
      , gt = "function" == typeof Symbol && Symbol.iterator || "_es6shim_iterator_";
    U.Set && "function" == typeof (new U.Set)["@@iterator"] && (gt = "@@iterator");
    var bt = J.doneEnumerator = {
        done: !0,
        value: t
    }
      , yt = J.helpers.isIterable = function(n) {
        return n[gt] !== t
    }
      , wt = J.helpers.isArrayLike = function(n) {
        return n && n.length !== t
    }
    ;
    J.helpers.iterator = gt;
    var xt, Et = J.internals.bindCallback = function(t, n, e) {
        if ("undefined" == typeof n)
            return t;
        switch (e) {
        case 0:
            return function() {
                return t.call(n)
            }
            ;
        case 1:
            return function(e) {
                return t.call(n, e)
            }
            ;
        case 2:
            return function(e, r) {
                return t.call(n, e, r)
            }
            ;
        case 3:
            return function(e, r, i) {
                return t.call(n, e, r, i)
            }
        }
        return function() {
            return t.apply(n, arguments)
        }
    }
    , _t = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], Ct = _t.length, St = "[object Arguments]", Mt = "[object Array]", kt = "[object Boolean]", At = "[object Date]", Pt = "[object Error]", Tt = "[object Function]", Nt = "[object Number]", Dt = "[object Object]", jt = "[object RegExp]", Ot = "[object String]", It = Object.prototype.toString, Rt = Object.prototype.hasOwnProperty, Lt = It.call(arguments) == St, zt = Error.prototype, qt = Object.prototype, Bt = String.prototype, Wt = qt.propertyIsEnumerable;
    try {
        xt = !(It.call(document) == Dt && !({
            toString: 0
        } + ""))
    } catch (at) {
        xt = !0
    }
    var Ft = {};
    Ft[Mt] = Ft[At] = Ft[Nt] = {
        constructor: !0,
        toLocaleString: !0,
        toString: !0,
        valueOf: !0
    },
    Ft[kt] = Ft[Ot] = {
        constructor: !0,
        toString: !0,
        valueOf: !0
    },
    Ft[Pt] = Ft[Tt] = Ft[jt] = {
        constructor: !0,
        toString: !0
    },
    Ft[Dt] = {
        constructor: !0
    };
    var Ht = {};
    !function() {
        var t = function() {
            this.x = 1
        }
          , n = [];
        t.prototype = {
            valueOf: 1,
            y: 1
        };
        for (var e in new t)
            n.push(e);
        for (e in arguments)
            ;
        Ht.enumErrorProps = Wt.call(zt, "message") || Wt.call(zt, "name"),
        Ht.enumPrototypes = Wt.call(t, "prototype"),
        Ht.nonEnumArgs = 0 != e,
        Ht.nonEnumShadows = !/valueOf/.test(n)
    }
    (1);
    var Vt = J.internals.isObject = function(t) {
        var n = typeof t;
        return t && ("function" == n || "object" == n) || !1
    }
      , Ut = function(t) {
        return t && "object" == typeof t ? It.call(t) == St : !1
    }
    ;
    Lt || (Ut = function(t) {
        return t && "object" == typeof t ? Rt.call(t, "callee") : !1
    }
    );
    var Yt, Xt = J.internals.isEqual = function(t, n) {
        return p(t, n, [], [])
    }
    , Gt = ({}.hasOwnProperty,
    Array.prototype.slice), Qt = this.inherits = J.internals.inherits = function(t, n) {
        function e() {
            this.constructor = t
        }
        e.prototype = n.prototype,
        t.prototype = new e
    }
    , Jt = J.internals.addProperties = function(t) {
        for (var n = [], e = 1, r = arguments.length; r > e; e++)
            n.push(arguments[e]);
        for (var i = 0, o = n.length; o > i; i++) {
            var a = n[i];
            for (var u in a)
                t[u] = a[u]
        }
    }
    , Kt = J.internals.addRef = function(t, n) {
        return new we(function(e) {
            return new nn(n.getDisposable(),t.subscribe(e))
        }
        )
    }
    , Zt = {
        e: {}
    };
    b.prototype.compareTo = function(t) {
        var n = this.value.compareTo(t.value);
        return 0 === n && (n = this.id - t.id),
        n
    }
    ;
    var $t = J.internals.PriorityQueue = function(t) {
        this.items = new Array(t),
        this.length = 0
    }
      , tn = $t.prototype;
    tn.isHigherPriority = function(t, n) {
        return this.items[t].compareTo(this.items[n]) < 0
    }
    ,
    tn.percolate = function(t) {
        if (!(t >= this.length || 0 > t)) {
            var n = t - 1 >> 1;
            if (!(0 > n || n === t) && this.isHigherPriority(t, n)) {
                var e = this.items[t];
                this.items[t] = this.items[n],
                this.items[n] = e,
                this.percolate(n)
            }
        }
    }
    ,
    tn.heapify = function(t) {
        if (+t || (t = 0),
        !(t >= this.length || 0 > t)) {
            var n = 2 * t + 1
              , e = 2 * t + 2
              , r = t;
            if (n < this.length && this.isHigherPriority(n, r) && (r = n),
            e < this.length && this.isHigherPriority(e, r) && (r = e),
            r !== t) {
                var i = this.items[t];
                this.items[t] = this.items[r],
                this.items[r] = i,
                this.heapify(r)
            }
        }
    }
    ,
    tn.peek = function() {
        return this.items[0].value
    }
    ,
    tn.removeAt = function(n) {
        this.items[n] = this.items[--this.length],
        this.items[this.length] = t,
        this.heapify()
    }
    ,
    tn.dequeue = function() {
        var t = this.peek();
        return this.removeAt(0),
        t
    }
    ,
    tn.enqueue = function(t) {
        var n = this.length++;
        this.items[n] = new b($t.count++,t),
        this.percolate(n)
    }
    ,
    tn.remove = function(t) {
        for (var n = 0; n < this.length; n++)
            if (this.items[n].value === t)
                return this.removeAt(n),
                !0;
        return !1
    }
    ,
    $t.count = 0;
    var nn = J.CompositeDisposable = function() {
        var t, n, e = [];
        if (Array.isArray(arguments[0]))
            e = arguments[0],
            n = e.length;
        else
            for (n = arguments.length,
            e = new Array(n),
            t = 0; n > t; t++)
                e[t] = arguments[t];
        for (t = 0; n > t; t++)
            if (!un(e[t]))
                throw new TypeError("Not a disposable");
        this.disposables = e,
        this.isDisposed = !1,
        this.length = e.length
    }
      , en = nn.prototype;
    en.add = function(t) {
        this.isDisposed ? t.dispose() : (this.disposables.push(t),
        this.length++)
    }
    ,
    en.remove = function(t) {
        var n = !1;
        if (!this.isDisposed) {
            var e = this.disposables.indexOf(t);
            -1 !== e && (n = !0,
            this.disposables.splice(e, 1),
            this.length--,
            t.dispose())
        }
        return n
    }
    ,
    en.dispose = function() {
        if (!this.isDisposed) {
            this.isDisposed = !0;
            for (var t = this.disposables.length, n = new Array(t), e = 0; t > e; e++)
                n[e] = this.disposables[e];
            for (this.disposables = [],
            this.length = 0,
            e = 0; t > e; e++)
                n[e].dispose()
        }
    }
    ;
    var rn = J.Disposable = function(t) {
        this.isDisposed = !1,
        this.action = t || K
    }
    ;
    rn.prototype.dispose = function() {
        this.isDisposed || (this.action(),
        this.isDisposed = !0)
    }
    ;
    var on = rn.create = function(t) {
        return new rn(t)
    }
      , an = rn.empty = {
        dispose: K
    }
      , un = rn.isDisposable = function(t) {
        return t && it(t.dispose)
    }
      , sn = rn.checkDisposed = function(t) {
        if (t.isDisposed)
            throw new ft
    }
      , cn = J.SingleAssignmentDisposable = function() {
        this.isDisposed = !1,
        this.current = null 
    }
    ;
    cn.prototype.getDisposable = function() {
        return this.current
    }
    ,
    cn.prototype.setDisposable = function(t) {
        if (this.current)
            throw new Error("Disposable has already been assigned");
        var n = this.isDisposed;
        !n && (this.current = t),
        n && t && t.dispose()
    }
    ,
    cn.prototype.dispose = function() {
        if (!this.isDisposed) {
            this.isDisposed = !0;
            var t = this.current;
            this.current = null 
        }
        t && t.dispose()
    }
    ;
    var ln = J.SerialDisposable = function() {
        this.isDisposed = !1,
        this.current = null 
    }
    ;
    ln.prototype.getDisposable = function() {
        return this.current
    }
    ,
    ln.prototype.setDisposable = function(t) {
        var n = this.isDisposed;
        if (!n) {
            var e = this.current;
            this.current = t
        }
        e && e.dispose(),
        n && t && t.dispose()
    }
    ,
    ln.prototype.dispose = function() {
        if (!this.isDisposed) {
            this.isDisposed = !0;
            var t = this.current;
            this.current = null 
        }
        t && t.dispose()
    }
    ;
    var fn = J.RefCountDisposable = function() {
        function t(t) {
            this.disposable = t,
            this.disposable.count++,
            this.isInnerDisposed = !1
        }
        function n(t) {
            this.underlyingDisposable = t,
            this.isDisposed = !1,
            this.isPrimaryDisposed = !1,
            this.count = 0
        }
        return t.prototype.dispose = function() {
            this.disposable.isDisposed || this.isInnerDisposed || (this.isInnerDisposed = !0,
            this.disposable.count--,
            0 === this.disposable.count && this.disposable.isPrimaryDisposed && (this.disposable.isDisposed = !0,
            this.disposable.underlyingDisposable.dispose()))
        }
        ,
        n.prototype.dispose = function() {
            this.isDisposed || this.isPrimaryDisposed || (this.isPrimaryDisposed = !0,
            0 === this.count && (this.isDisposed = !0,
            this.underlyingDisposable.dispose()))
        }
        ,
        n.prototype.getDisposable = function() {
            return this.isDisposed ? an : new t(this)
        }
        ,
        n
    }
    ();
    y.prototype.dispose = function() {
        this.scheduler.scheduleWithState(this, w)
    }
    ;
    var dn = J.internals.ScheduledItem = function(t, n, e, r, i) {
        this.scheduler = t,
        this.state = n,
        this.action = e,
        this.dueTime = r,
        this.comparer = i || nt,
        this.disposable = new cn
    }
    ;
    dn.prototype.invoke = function() {
        this.disposable.setDisposable(this.invokeCore())
    }
    ,
    dn.prototype.compareTo = function(t) {
        return this.comparer(this.dueTime, t.dueTime)
    }
    ,
    dn.prototype.isCancelled = function() {
        return this.disposable.isDisposed
    }
    ,
    dn.prototype.invokeCore = function() {
        return this.action(this.scheduler, this.state)
    }
    ;
    var pn = J.Scheduler = function() {
        function t(t, n, e, r) {
            this.now = t,
            this._schedule = n,
            this._scheduleRelative = e,
            this._scheduleAbsolute = r
        }
        function n(t, n) {
            return n(),
            an
        }
        t.isScheduler = function(n) {
            return n instanceof t
        }
        ;
        var e = t.prototype;
        return e.schedule = function(t) {
            return this._schedule(t, n)
        }
        ,
        e.scheduleWithState = function(t, n) {
            return this._schedule(t, n)
        }
        ,
        e.scheduleWithRelative = function(t, e) {
            return this._scheduleRelative(e, t, n)
        }
        ,
        e.scheduleWithRelativeAndState = function(t, n, e) {
            return this._scheduleRelative(t, n, e)
        }
        ,
        e.scheduleWithAbsolute = function(t, e) {
            return this._scheduleAbsolute(e, t, n)
        }
        ,
        e.scheduleWithAbsoluteAndState = function(t, n, e) {
            return this._scheduleAbsolute(t, n, e)
        }
        ,
        t.now = $,
        t.normalize = function(t) {
            return 0 > t && (t = 0),
            t
        }
        ,
        t
    }
    ()
      , hn = pn.normalize
      , mn = pn.isScheduler;
    !function(t) {
        function n(t, n) {
            function e(n) {
                i(n, function(n) {
                    var r = !1
                      , i = !1
                      , a = t.scheduleWithState(n, function(t, n) {
                        return r ? o.remove(a) : i = !0,
                        e(n),
                        an
                    }
                    );
                    i || (o.add(a),
                    r = !0)
                }
                )
            }
            var r = n[0]
              , i = n[1]
              , o = new nn;
            return e(r),
            o
        }
        function e(t, n, e) {
            function r(n) {
                o(n, function(n, i) {
                    var o = !1
                      , u = !1
                      , s = t[e](n, i, function(t, n) {
                        return o ? a.remove(s) : u = !0,
                        r(n),
                        an
                    }
                    );
                    u || (a.add(s),
                    o = !0)
                }
                )
            }
            var i = n[0]
              , o = n[1]
              , a = new nn;
            return r(i),
            a
        }
        function r(t, n) {
            t(function(e) {
                n(t, e)
            }
            )
        }
        t.scheduleRecursive = function(t) {
            return this.scheduleRecursiveWithState(t, function(t, n) {
                t(function() {
                    n(t)
                }
                )
            }
            )
        }
        ,
        t.scheduleRecursiveWithState = function(t, e) {
            return this.scheduleWithState([t, e], n)
        }
        ,
        t.scheduleRecursiveWithRelative = function(t, n) {
            return this.scheduleRecursiveWithRelativeAndState(n, t, r)
        }
        ,
        t.scheduleRecursiveWithRelativeAndState = function(t, n, r) {
            return this._scheduleRelative([t, r], n, function(t, n) {
                return e(t, n, "scheduleWithRelativeAndState")
            }
            )
        }
        ,
        t.scheduleRecursiveWithAbsolute = function(t, n) {
            return this.scheduleRecursiveWithAbsoluteAndState(n, t, r)
        }
        ,
        t.scheduleRecursiveWithAbsoluteAndState = function(t, n, r) {
            return this._scheduleAbsolute([t, r], n, function(t, n) {
                return e(t, n, "scheduleWithAbsoluteAndState")
            }
            )
        }
    }
    (pn.prototype),
    function() {
        pn.prototype.schedulePeriodic = function(t, n) {
            return this.schedulePeriodicWithState(null , t, n)
        }
        ,
        pn.prototype.schedulePeriodicWithState = function(t, n, e) {
            if ("undefined" == typeof U.setInterval)
                throw new pt;
            n = hn(n);
            var r = t
              , i = U.setInterval(function() {
                r = e(r)
            }
            , n);
            return on(function() {
                U.clearInterval(i)
            }
            )
        }
    }
    (pn.prototype),
    function(t) {
        t.catchError = t["catch"] = function(t) {
            return new _n(this,t)
        }
    }
    (pn.prototype);
    var vn, gn, bn = (J.internals.SchedulePeriodicRecursive = function() {
        function t(t, n) {
            n(0, this._period);
            try {
                this._state = this._action(this._state)
            } catch (e) {
                throw this._cancel.dispose(),
                e
            }
        }
        function n(t, n, e, r) {
            this._scheduler = t,
            this._state = n,
            this._period = e,
            this._action = r
        }
        return n.prototype.start = function() {
            var n = new cn;
            return this._cancel = n,
            n.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0, this._period, t.bind(this))),
            n
        }
        ,
        n
    }
    (),
    pn.immediate = function() {
        function t(t, n) {
            return n(this, t)
        }
        return new pn($,t,vt,vt)
    }
    ()), yn = pn.currentThread = function() {
        function t() {
            for (; e.length > 0; ) {
                var t = e.dequeue();
                !t.isCancelled() && t.invoke()
            }
        }
        function n(n, r) {
            var i = new dn(this,n,r,this.now());
            if (e)
                e.enqueue(i);
            else {
                e = new $t(4),
                e.enqueue(i);
                var o = v(t)();
                if (e = null ,
                o === Zt)
                    return g(o.e)
            }
            return i.disposable
        }
        var e, r = new pn($,n,vt,vt);
        return r.scheduleRequired = function() {
            return !e
        }
        ,
        r
    }
    (), wn = function() {
        var t, n = K;
        if (U.setTimeout)
            t = U.setTimeout,
            n = U.clearTimeout;
        else {
            if (!U.WScript)
                throw new pt;
            t = function(t, n) {
                U.WScript.Sleep(n),
                t()
            }
        }
        return {
            setTimeout: t,
            clearTimeout: n
        }
    }
    (), xn = wn.setTimeout, En = wn.clearTimeout;
    !function() {
        function t(n) {
            if (o)
                xn(function() {
                    t(n)
                }
                , 0);
            else {
                var e = i[n];
                if (e) {
                    o = !0;
                    var r = v(e)();
                    if (gn(n),
                    o = !1,
                    r === Zt)
                        return g(r.e)
                }
            }
        }
        function n() {
            if (!U.postMessage || U.importScripts)
                return !1;
            var t = !1
              , n = U.onmessage;
            return U.onmessage = function() {
                t = !0
            }
            ,
            U.postMessage("", "*"),
            U.onmessage = n,
            t
        }
        function e(n) {
            "string" == typeof n.data && n.data.substring(0, s.length) === s && t(n.data.substring(s.length))
        }
        var r = 1
          , i = {}
          , o = !1;
        gn = function(t) {
            delete i[t]
        }
        ;
        var a = RegExp("^" + String(It).replace(/[.*+?^${}()|[\]\\]/g, "\\$&").replace(/toString| for [^\]]+/g, ".*?") + "$")
          , u = "function" == typeof (u = Q && G && Q.setImmediate) && !a.test(u) && u;
        if (it(u))
            vn = function(n) {
                var e = r++;
                return i[e] = n,
                u(function() {
                    t(e)
                }
                ),
                e
            }
            ;
        else if ("undefined" != typeof process && "[object process]" === {}.toString.call(process))
            vn = function(n) {
                var e = r++;
                return i[e] = n,
                process.nextTick(function() {
                    t(e)
                }
                ),
                e
            }
            ;
        else if (n()) {
            var s = "ms.rx.schedule" + Math.random();
            U.addEventListener ? U.addEventListener("message", e, !1) : U.attachEvent ? U.attachEvent("onmessage", e) : U.onmessage = e,
            vn = function(t) {
                var n = r++;
                return i[n] = t,
                U.postMessage(s + currentId, "*"),
                n
            }
        } else if (U.MessageChannel) {
            var c = new U.MessageChannel;
            c.port1.onmessage = function(n) {
                t(n.data)
            }
            ,
            vn = function(t) {
                var n = r++;
                return i[n] = t,
                c.port2.postMessage(n),
                n
            }
        } else
            vn = "document" in U && "onreadystatechange" in U.document.createElement("script") ? function(n) {
                var e = U.document.createElement("script")
                  , o = r++;
                return i[o] = n,
                e.onreadystatechange = function() {
                    t(o),
                    e.onreadystatechange = null ,
                    e.parentNode.removeChild(e),
                    e = null 
                }
                ,
                U.document.documentElement.appendChild(e),
                o
            }
             : function(n) {
                var e = r++;
                return i[e] = n,
                xn(function() {
                    t(e)
                }
                , 0),
                e
            }
    }
    ();
    var _n = (pn.timeout = pn["default"] = function() {
        function t(t, n) {
            var e = this
              , r = new cn
              , i = vn(function() {
                !r.isDisposed && r.setDisposable(n(e, t))
            }
            );
            return new nn(r,on(function() {
                gn(i)
            }
            ))
        }
        function n(t, n, e) {
            var r = this
              , i = pn.normalize(n)
              , o = new cn;
            if (0 === i)
                return r.scheduleWithState(t, e);
            var a = xn(function() {
                !o.isDisposed && o.setDisposable(e(r, t))
            }
            , i);
            return new nn(o,on(function() {
                En(a)
            }
            ))
        }
        function e(t, n, e) {
            return this.scheduleWithRelativeAndState(t, n - this.now(), e)
        }
        return new pn($,t,n,e)
    }
    (),
    function(t) {
        function n(t, n) {
            return this._scheduler.scheduleWithState(t, this._wrap(n))
        }
        function e(t, n, e) {
            return this._scheduler.scheduleWithRelativeAndState(t, n, this._wrap(e))
        }
        function r(t, n, e) {
            return this._scheduler.scheduleWithAbsoluteAndState(t, n, this._wrap(e))
        }
        function i(i, o) {
            this._scheduler = i,
            this._handler = o,
            this._recursiveOriginal = null ,
            this._recursiveWrapper = null ,
            t.call(this, this._scheduler.now.bind(this._scheduler), n, e, r)
        }
        return Qt(i, t),
        i.prototype._clone = function(t) {
            return new i(t,this._handler)
        }
        ,
        i.prototype._wrap = function(t) {
            var n = this;
            return function(e, r) {
                try {
                    return t(n._getRecursiveWrapper(e), r)
                } catch (i) {
                    if (!n._handler(i))
                        throw i;
                    return an
                }
            }
        }
        ,
        i.prototype._getRecursiveWrapper = function(t) {
            if (this._recursiveOriginal !== t) {
                this._recursiveOriginal = t;
                var n = this._clone(t);
                n._recursiveOriginal = t,
                n._recursiveWrapper = n,
                this._recursiveWrapper = n
            }
            return this._recursiveWrapper
        }
        ,
        i.prototype.schedulePeriodicWithState = function(t, n, e) {
            var r = this
              , i = !1
              , o = new cn;
            return o.setDisposable(this._scheduler.schedulePeriodicWithState(t, n, function(t) {
                if (i)
                    return null ;
                try {
                    return e(t)
                } catch (n) {
                    if (i = !0,
                    !r._handler(n))
                        throw n;
                    return o.dispose(),
                    null 
                }
            }
            )),
            o
        }
        ,
        i
    }
    (pn))
      , Cn = J.Notification = function() {
        function t(t, n, e, r, i, o) {
            this.kind = t,
            this.value = n,
            this.exception = e,
            this._accept = r,
            this._acceptObservable = i,
            this.toString = o
        }
        return t.prototype.accept = function(t, n, e) {
            return t && "object" == typeof t ? this._acceptObservable(t) : this._accept(t, n, e)
        }
        ,
        t.prototype.toObservable = function(t) {
            var n = this;
            return mn(t) || (t = bn),
            new we(function(e) {
                return t.scheduleWithState(n, function(t, n) {
                    n._acceptObservable(e),
                    "N" === n.kind && e.onCompleted()
                }
                )
            }
            )
        }
        ,
        t
    }
    ()
      , Sn = Cn.createOnNext = function() {
        function t(t) {
            return t(this.value)
        }
        function n(t) {
            return t.onNext(this.value)
        }
        function e() {
            return "OnNext(" + this.value + ")"
        }
        return function(r) {
            return new Cn("N",r,null ,t,n,e)
        }
    }
    ()
      , Mn = Cn.createOnError = function() {
        function t(t, n) {
            return n(this.exception)
        }
        function n(t) {
            return t.onError(this.exception)
        }
        function e() {
            return "OnError(" + this.exception + ")"
        }
        return function(r) {
            return new Cn("E",null ,r,t,n,e)
        }
    }
    ()
      , kn = Cn.createOnCompleted = function() {
        function t(t, n, e) {
            return e()
        }
        function n(t) {
            return t.onCompleted()
        }
        function e() {
            return "OnCompleted()"
        }
        return function() {
            return new Cn("C",null ,null ,t,n,e)
        }
    }
    ()
      , An = J.internals.Enumerator = function(t) {
        this._next = t
    }
    ;
    An.prototype.next = function() {
        return this._next()
    }
    ,
    An.prototype[gt] = function() {
        return this
    }
    ;
    var Pn = J.internals.Enumerable = function(t) {
        this._iterator = t
    }
    ;
    Pn.prototype[gt] = function() {
        return this._iterator()
    }
    ,
    Pn.prototype.concat = function() {
        var t = this;
        return new we(function(n) {
            var e, r = t[gt](), i = new ln, o = bn.scheduleRecursive(function(t) {
                if (!e) {
                    try {
                        var o = r.next()
                    } catch (a) {
                        return n.onError(a)
                    }
                    if (o.done)
                        return n.onCompleted();
                    var u = o.value;
                    rt(u) && (u = Fn(u));
                    var s = new cn;
                    i.setDisposable(s),
                    s.setDisposable(u.subscribe(function(t) {
                        n.onNext(t)
                    }
                    , function(t) {
                        n.onError(t)
                    }
                    , t))
                }
            }
            );
            return new nn(i,o,on(function() {
                e = !0
            }
            ))
        }
        )
    }
    ,
    Pn.prototype.catchError = function() {
        var t = this;
        return new we(function(n) {
            var e, r = t[gt](), i = new ln, o = bn.scheduleRecursiveWithState(null , function(t, o) {
                if (!e) {
                    try {
                        var a = r.next()
                    } catch (u) {
                        return observer.onError(u)
                    }
                    if (a.done)
                        return void (null  !== t ? n.onError(t) : n.onCompleted());
                    var s = a.value;
                    rt(s) && (s = Fn(s));
                    var c = new cn;
                    i.setDisposable(c),
                    c.setDisposable(s.subscribe(function(t) {
                        n.onNext(t)
                    }
                    , o, function() {
                        n.onCompleted()
                    }
                    ))
                }
            }
            );
            return new nn(i,o,on(function() {
                e = !0
            }
            ))
        }
        )
    }
    ,
    Pn.prototype.catchErrorWhen = function(t) {
        var n = this;
        return new we(function(e) {
            var r, i, o = new _e, a = new _e, u = t(o), s = u.subscribe(a), c = n[gt](), l = new ln, f = bn.scheduleRecursive(function(t) {
                if (!r) {
                    try {
                        var n = c.next()
                    } catch (u) {
                        return e.onError(u)
                    }
                    if (n.done)
                        return void (i ? e.onError(i) : e.onCompleted());
                    var s = n.value;
                    rt(s) && (s = Fn(s));
                    var f = new cn
                      , d = new cn;
                    l.setDisposable(new nn(d,f)),
                    f.setDisposable(s.subscribe(function(t) {
                        e.onNext(t)
                    }
                    , function(n) {
                        d.setDisposable(a.subscribe(t, function(t) {
                            e.onError(t)
                        }
                        , function() {
                            e.onCompleted()
                        }
                        )),
                        o.onNext(n)
                    }
                    , function() {
                        e.onCompleted()
                    }
                    ))
                }
            }
            );
            return new nn(s,l,f,on(function() {
                r = !0
            }
            ))
        }
        )
    }
    ;
    var Tn = Pn.repeat = function(t, n) {
        return null  == n && (n = -1),
        new Pn(function() {
            var e = n;
            return new An(function() {
                return 0 === e ? bt : (e > 0 && e--,
                {
                    done: !1,
                    value: t
                })
            }
            )
        }
        )
    }
      , Nn = Pn.of = function(t, n, e) {
        if (n)
            var r = Et(n, e, 3);
        return new Pn(function() {
            var e = -1;
            return new An(function() {
                return ++e < t.length ? {
                    done: !1,
                    value: n ? r(t[e], e, t) : t[e]
                } : bt
            }
            )
        }
        )
    }
      , Dn = J.Observer = function() {}
    ;
    Dn.prototype.toNotifier = function() {
        var t = this;
        return function(n) {
            return n.accept(t)
        }
    }
    ,
    Dn.prototype.asObserver = function() {
        return new Rn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))
    }
    ,
    Dn.prototype.checked = function() {
        return new Ln(this)
    }
    ;
    var jn = Dn.create = function(t, n, e) {
        return t || (t = K),
        n || (n = et),
        e || (e = K),
        new Rn(t,n,e)
    }
    ;
    Dn.fromNotifier = function(t, n) {
        return new Rn(function(e) {
            return t.call(n, Sn(e))
        }
        ,function(e) {
            return t.call(n, Mn(e))
        }
        ,function() {
            return t.call(n, kn())
        }
        )
    }
    ,
    Dn.prototype.notifyOn = function(t) {
        return new qn(t,this)
    }
    ,
    Dn.prototype.makeSafe = function(t) {
        return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)
    }
    ;
    var On, In = J.internals.AbstractObserver = function(t) {
        function n() {
            this.isStopped = !1,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.next = mt,
        n.prototype.error = mt,
        n.prototype.completed = mt,
        n.prototype.onNext = function(t) {
            this.isStopped || this.next(t)
        }
        ,
        n.prototype.onError = function(t) {
            this.isStopped || (this.isStopped = !0,
            this.error(t))
        }
        ,
        n.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0,
            this.completed())
        }
        ,
        n.prototype.dispose = function() {
            this.isStopped = !0
        }
        ,
        n.prototype.fail = function(t) {
            return this.isStopped ? !1 : (this.isStopped = !0,
            this.error(t),
            !0)
        }
        ,
        n
    }
    (Dn), Rn = J.AnonymousObserver = function(t) {
        function n(n, e, r) {
            t.call(this),
            this._onNext = n,
            this._onError = e,
            this._onCompleted = r
        }
        return Qt(n, t),
        n.prototype.next = function(t) {
            this._onNext(t)
        }
        ,
        n.prototype.error = function(t) {
            this._onError(t)
        }
        ,
        n.prototype.completed = function() {
            this._onCompleted()
        }
        ,
        n
    }
    (In), Ln = function(t) {
        function n(n) {
            t.call(this),
            this._observer = n,
            this._state = 0
        }
        Qt(n, t);
        var e = n.prototype;
        return e.onNext = function(t) {
            this.checkAccess();
            var n = v(this._observer.onNext).call(this._observer, t);
            this._state = 0,
            n === Zt && g(n.e)
        }
        ,
        e.onError = function(t) {
            this.checkAccess();
            var n = v(this._observer.onError).call(this._observer, t);
            this._state = 2,
            n === Zt && g(n.e)
        }
        ,
        e.onCompleted = function() {
            this.checkAccess();
            var t = v(this._observer.onCompleted).call(this._observer);
            this._state = 2,
            t === Zt && g(t.e)
        }
        ,
        e.checkAccess = function() {
            if (1 === this._state)
                throw new Error("Re-entrancy detected");
            if (2 === this._state)
                throw new Error("Observer completed");
            0 === this._state && (this._state = 1)
        }
        ,
        n
    }
    (Dn), zn = J.internals.ScheduledObserver = function(t) {
        function n(n, e) {
            t.call(this),
            this.scheduler = n,
            this.observer = e,
            this.isAcquired = !1,
            this.hasFaulted = !1,
            this.queue = [],
            this.disposable = new ln
        }
        return Qt(n, t),
        n.prototype.next = function(t) {
            var n = this;
            this.queue.push(function() {
                n.observer.onNext(t)
            }
            )
        }
        ,
        n.prototype.error = function(t) {
            var n = this;
            this.queue.push(function() {
                n.observer.onError(t)
            }
            )
        }
        ,
        n.prototype.completed = function() {
            var t = this;
            this.queue.push(function() {
                t.observer.onCompleted()
            }
            )
        }
        ,
        n.prototype.ensureActive = function() {
            var t = !1
              , n = this;
            !this.hasFaulted && this.queue.length > 0 && (t = !this.isAcquired,
            this.isAcquired = !0),
            t && this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(t) {
                var e;
                if (!(n.queue.length > 0))
                    return void (n.isAcquired = !1);
                e = n.queue.shift();
                try {
                    e()
                } catch (r) {
                    throw n.queue = [],
                    n.hasFaulted = !0,
                    r
                }
                t()
            }
            ))
        }
        ,
        n.prototype.dispose = function() {
            t.prototype.dispose.call(this),
            this.disposable.dispose()
        }
        ,
        n
    }
    (In), qn = function(t) {
        function n(n, e, r) {
            t.call(this, n, e),
            this._cancel = r
        }
        return Qt(n, t),
        n.prototype.next = function(n) {
            t.prototype.next.call(this, n),
            this.ensureActive()
        }
        ,
        n.prototype.error = function(n) {
            t.prototype.error.call(this, n),
            this.ensureActive()
        }
        ,
        n.prototype.completed = function() {
            t.prototype.completed.call(this),
            this.ensureActive()
        }
        ,
        n.prototype.dispose = function() {
            t.prototype.dispose.call(this),
            this._cancel && this._cancel.dispose(),
            this._cancel = null 
        }
        ,
        n
    }
    (zn), Bn = J.Observable = function() {
        function t(t) {
            if (J.config.longStackSupport && ot) {
                try {
                    throw new Error
                } catch (n) {
                    this.stack = n.stack.substring(n.stack.indexOf("\n") + 1)
                }
                var r = this;
                this._subscribe = function(n) {
                    var i = n.onError.bind(n);
                    return n.onError = function(t) {
                        e(t, r),
                        i(t)
                    }
                    ,
                    t.call(r, n)
                }
            } else
                this._subscribe = t
        }
        return On = t.prototype,
        On.subscribe = On.forEach = function(t, n, e) {
            return this._subscribe("object" == typeof t ? t : jn(t, n, e))
        }
        ,
        On.subscribeOnNext = function(t, n) {
            return this._subscribe(jn("undefined" != typeof n ? function(e) {
                t.call(n, e)
            }
             : t))
        }
        ,
        On.subscribeOnError = function(t, n) {
            return this._subscribe(jn(null , "undefined" != typeof n ? function(e) {
                t.call(n, e)
            }
             : t))
        }
        ,
        On.subscribeOnCompleted = function(t, n) {
            return this._subscribe(jn(null , null , "undefined" != typeof n ? function() {
                t.call(n)
            }
             : t))
        }
        ,
        t
    }
    (), Wn = J.ObservableBase = function(t) {
        function n(t) {
            return t && it(t.dispose) ? t : it(t) ? on(t) : an
        }
        function e(t, e) {
            var r = e[0]
              , i = e[1]
              , o = v(i.subscribeCore).call(i, r);
            return o !== Zt || r.fail(Zt.e) ? void r.setDisposable(n(o)) : g(Zt.e)
        }
        function r(t) {
            var n = new xe(t)
              , r = [n, this];
            return yn.scheduleRequired() ? yn.scheduleWithState(r, e) : e(null , r),
            n
        }
        function i() {
            t.call(this, r)
        }
        return Qt(i, t),
        i.prototype.subscribeCore = mt,
        i
    }
    (Bn);
    On.observeOn = function(t) {
        var n = this;
        return new we(function(e) {
            return n.subscribe(new qn(t,e))
        }
        ,n)
    }
    ,
    On.subscribeOn = function(t) {
        var n = this;
        return new we(function(e) {
            var r = new cn
              , i = new ln;
            return i.setDisposable(r),
            r.setDisposable(t.schedule(function() {
                i.setDisposable(new y(t,n.subscribe(e)))
            }
            )),
            i
        }
        ,n)
    }
    ;
    var Fn = Bn.fromPromise = function(t) {
        return Vn(function() {
            var n = new J.AsyncSubject;
            return t.then(function(t) {
                n.onNext(t),
                n.onCompleted()
            }
            , n.onError.bind(n)),
            n
        }
        )
    }
    ;
    On.toPromise = function(t) {
        if (t || (t = J.config.Promise),
        !t)
            throw new pt("Promise type not provided nor in Rx.config.Promise");
        var n = this;
        return new t(function(t, e) {
            var r, i = !1;
            n.subscribe(function(t) {
                r = t,
                i = !0
            }
            , e, function() {
                i && t(r)
            }
            )
        }
        )
    }
    ;
    var Hn = function(t) {
        function n(n) {
            this.source = n,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            return this.source.subscribe(new x(t))
        }
        ,
        n
    }
    (Wn);
    x.prototype.onNext = function(t) {
        this.isStopped || this.a.push(t)
    }
    ,
    x.prototype.onError = function(t) {
        this.isStopped || (this.isStopped = !0,
        this.observer.onError(t))
    }
    ,
    x.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0,
        this.observer.onNext(this.a),
        this.observer.onCompleted())
    }
    ,
    x.prototype.dispose = function() {
        this.isStopped = !0
    }
    ,
    x.prototype.fail = function(t) {
        return this.isStopped ? !1 : (this.isStopped = !0,
        this.observer.onError(t),
        !0)
    }
    ,
    On.toArray = function() {
        return new Hn(this)
    }
    ,
    Bn.create = Bn.createWithDisposable = function(t, n) {
        return new we(t,n)
    }
    ;
    var Vn = Bn.defer = function(t) {
        return new we(function(n) {
            var e;
            try {
                e = t()
            } catch (r) {
                return ue(r).subscribe(n)
            }
            return rt(e) && (e = Fn(e)),
            e.subscribe(n)
        }
        )
    }
      , Un = function(t) {
        function n(n) {
            this.scheduler = n,
            t.call(this)
        }
        function e(t, n) {
            this.observer = t,
            this.parent = n
        }
        function r(t, n) {
            n.onCompleted()
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new e(t,this);
            return n.run()
        }
        ,
        e.prototype.run = function() {
            return this.parent.scheduler.scheduleWithState(this.observer, r)
        }
        ,
        n
    }
    (Wn)
      , Yn = Bn.empty = function(t) {
        return mn(t) || (t = bn),
        new Un(t)
    }
      , Xn = function(t) {
        function n(n, e, r) {
            this.iterable = n,
            this.mapper = e,
            this.scheduler = r,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new Gn(t,this);
            return n.run()
        }
        ,
        n
    }
    (Wn)
      , Gn = function() {
        function t(t, n) {
            this.observer = t,
            this.parent = n
        }
        return t.prototype.run = function() {
            function t(t, n) {
                try {
                    var o = e.next()
                } catch (a) {
                    return r.onError(a)
                }
                if (o.done)
                    return r.onCompleted();
                var u = o.value;
                if (i)
                    try {
                        u = i(u, t)
                    } catch (a) {
                        return r.onError(a)
                    }
                r.onNext(u),
                n(t + 1)
            }
            var n = Object(this.parent.iterable)
              , e = k(n)
              , r = this.observer
              , i = this.parent.mapper;
            return this.parent.scheduler.scheduleRecursiveWithState(0, t)
        }
        ,
        t
    }
    ()
      , Qn = Math.pow(2, 53) - 1;
    E.prototype[gt] = function() {
        return new _(this._s)
    }
    ,
    _.prototype[gt] = function() {
        return this
    }
    ,
    _.prototype.next = function() {
        return this._i < this._l ? {
            done: !1,
            value: this._s.charAt(this._i++)
        } : bt
    }
    ,
    C.prototype[gt] = function() {
        return new S(this._a)
    }
    ,
    S.prototype[gt] = function() {
        return this
    }
    ,
    S.prototype.next = function() {
        return this._i < this._l ? {
            done: !1,
            value: this._a[this._i++]
        } : bt
    }
    ;
    var Jn = Bn.from = function(t, n, e, r) {
        if (null  == t)
            throw new Error("iterable cannot be null.");
        if (n && !it(n))
            throw new Error("mapFn when provided must be a function");
        if (n)
            var i = Et(n, e, 2);
        return mn(r) || (r = yn),
        new Xn(t,i,r)
    }
      , Kn = function(t) {
        function n(n, e) {
            this.args = n,
            this.scheduler = e,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new T(t,this);
            return n.run()
        }
        ,
        n
    }
    (Wn);
    T.prototype.run = function() {
        function t(t, i) {
            r > t ? (n.onNext(e[t]),
            i(t + 1)) : n.onCompleted()
        }
        var n = this.observer
          , e = this.parent.args
          , r = e.length;
        return this.parent.scheduler.scheduleRecursiveWithState(0, t)
    }
    ;
    var Zn = Bn.fromArray = function(t, n) {
        return mn(n) || (n = yn),
        new Kn(t,n)
    }
    ;
    Bn.generate = function(t, n, e, r, i) {
        return mn(i) || (i = yn),
        new we(function(o) {
            var a = !0;
            return i.scheduleRecursiveWithState(t, function(t, i) {
                var u, s;
                try {
                    a ? a = !1 : t = e(t),
                    u = n(t),
                    u && (s = r(t))
                } catch (c) {
                    return o.onError(c)
                }
                u ? (o.onNext(s),
                i(t)) : o.onCompleted()
            }
            )
        }
        )
    }
    ;
    var $n = function(t) {
        function n() {
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function() {
            return an
        }
        ,
        n
    }
    (Wn)
      , te = Bn.never = function() {
        return new $n
    }
    ;
    Bn.of = function() {
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        return new Kn(n,yn)
    }
    ,
    Bn.ofWithScheduler = function(t) {
        for (var n = arguments.length, e = new Array(n - 1), r = 1; n > r; r++)
            e[r - 1] = arguments[r];
        return new Kn(e,t)
    }
    ;
    var ne = function(t) {
        function n(n, e) {
            this.obj = n,
            this.keys = Object.keys(n),
            this.scheduler = e,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new D(t,this);
            return n.run()
        }
        ,
        n
    }
    (Wn);
    D.prototype.run = function() {
        function t(t, o) {
            if (i > t) {
                var a = r[t];
                n.onNext([a, e[a]]),
                o(t + 1)
            } else
                n.onCompleted()
        }
        var n = this.observer
          , e = this.parent.obj
          , r = this.parent.keys
          , i = r.length;
        return this.parent.scheduler.scheduleRecursiveWithState(0, t)
    }
    ,
    Bn.pairs = function(t, n) {
        return n || (n = yn),
        new ne(t,n)
    }
    ;
    var ee = function(t) {
        function n(n, e, r) {
            this.start = n,
            this.count = e,
            this.scheduler = r,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new re(t,this);
            return n.run()
        }
        ,
        n
    }
    (Wn)
      , re = function() {
        function t(t, n) {
            this.observer = t,
            this.parent = n
        }
        return t.prototype.run = function() {
            function t(t, i) {
                e > t ? (r.onNext(n + t),
                i(t + 1)) : r.onCompleted()
            }
            var n = this.parent.start
              , e = this.parent.count
              , r = this.observer;
            return this.parent.scheduler.scheduleRecursiveWithState(0, t)
        }
        ,
        t
    }
    ();
    Bn.range = function(t, n, e) {
        return mn(e) || (e = yn),
        new ee(t,n,e)
    }
    ;
    var ie = function(t) {
        function n(n, e, r) {
            this.value = n,
            this.repeatCount = null  == e ? -1 : e,
            this.scheduler = r,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new j(t,this);
            return n.run()
        }
        ,
        n
    }
    (Wn);
    j.prototype.run = function() {
        function t(t, r) {
            return (-1 === t || t > 0) && (n.onNext(e),
            t > 0 && t--),
            0 === t ? n.onCompleted() : void r(t)
        }
        var n = this.observer
          , e = this.parent.value;
        return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount, t)
    }
    ,
    Bn.repeat = function(t, n, e) {
        return mn(e) || (e = yn),
        new ie(t,n,e)
    }
    ;
    var oe = function(t) {
        function n(n, e) {
            this.value = n,
            this.scheduler = e,
            t.call(this)
        }
        function e(t, n) {
            this.observer = t,
            this.parent = n
        }
        function r(t, n) {
            var e = n[0]
              , r = n[1];
            r.onNext(e),
            r.onCompleted()
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new e(t,this);
            return n.run()
        }
        ,
        e.prototype.run = function() {
            return this.parent.scheduler.scheduleWithState([this.parent.value, this.observer], r)
        }
        ,
        n
    }
    (Wn)
      , ae = (Bn["return"] = Bn.just = Bn.returnValue = function(t, n) {
        return mn(n) || (n = bn),
        new oe(t,n)
    }
    ,
    function(t) {
        function n(n, e) {
            this.error = n,
            this.scheduler = e,
            t.call(this)
        }
        function e(t, n) {
            this.observer = t,
            this.parent = n
        }
        function r(t, n) {
            var e = n[0]
              , r = n[1];
            r.onError(e)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new e(t,this);
            return n.run()
        }
        ,
        e.prototype.run = function() {
            return this.parent.scheduler.scheduleWithState([this.parent.error, this.observer], r)
        }
        ,
        n
    }
    (Wn))
      , ue = Bn["throw"] = Bn.throwError = Bn.throwException = function(t, n) {
        return mn(n) || (n = bn),
        new ae(t,n)
    }
    ;
    Bn.using = function(t, n) {
        return new we(function(e) {
            var r, i, o = an;
            try {
                r = t(),
                r && (o = r),
                i = n(r)
            } catch (a) {
                return new nn(ue(a).subscribe(e),o)
            }
            return new nn(i.subscribe(e),o)
        }
        )
    }
    ,
    On.amb = function(t) {
        var n = this;
        return new we(function(e) {
            function r() {
                o || (o = a,
                c.dispose())
            }
            function i() {
                o || (o = u,
                s.dispose())
            }
            var o, a = "L", u = "R", s = new cn, c = new cn;
            return rt(t) && (t = Fn(t)),
            s.setDisposable(n.subscribe(function(t) {
                r(),
                o === a && e.onNext(t)
            }
            , function(t) {
                r(),
                o === a && e.onError(t)
            }
            , function() {
                r(),
                o === a && e.onCompleted()
            }
            )),
            c.setDisposable(t.subscribe(function(t) {
                i(),
                o === u && e.onNext(t)
            }
            , function(t) {
                i(),
                o === u && e.onError(t)
            }
            , function() {
                i(),
                o === u && e.onCompleted()
            }
            )),
            new nn(s,c)
        }
        )
    }
    ,
    Bn.amb = function() {
        function t(t, n) {
            return t.amb(n)
        }
        var n = te()
          , e = [];
        if (Array.isArray(arguments[0]))
            e = arguments[0];
        else
            for (var r = 0, i = arguments.length; i > r; r++)
                e.push(arguments[r]);
        for (var r = 0, i = e.length; i > r; r++)
            n = t(n, e[r]);
        return n
    }
    ,
    On["catch"] = On.catchError = On.catchException = function(t) {
        return "function" == typeof t ? O(this, t) : se([this, t])
    }
    ;
    var se = Bn.catchError = Bn["catch"] = Bn.catchException = function() {
        var t = [];
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else
            for (var n = 0, e = arguments.length; e > n; n++)
                t.push(arguments[n]);
        return Nn(t).catchError()
    }
    ;
    On.combineLatest = function() {
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        return Array.isArray(n[0]) ? n[0].unshift(this) : n.unshift(this),
        ce.apply(this, n)
    }
    ;
    var ce = Bn.combineLatest = function() {
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        var r = n.pop();
        return Array.isArray(n[0]) && (n = n[0]),
        new we(function(t) {
            function e(n) {
                if (u[n] = !0,
                s || (s = u.every(Z))) {
                    try {
                        var e = r.apply(null , l)
                    } catch (i) {
                        return t.onError(i)
                    }
                    t.onNext(e)
                } else
                    c.filter(function(t, e) {
                        return e !== n
                    }
                    ).every(Z) && t.onCompleted()
            }
            function i(n) {
                c[n] = !0,
                c.every(Z) && t.onCompleted()
            }
            for (var o = n.length, a = function() {
                return !1
            }
            , u = h(o, a), s = !1, c = h(o, a), l = new Array(o), f = new Array(o), d = 0; o > d; d++)
                !function(r) {
                    var o = n[r]
                      , a = new cn;
                    rt(o) && (o = Fn(o)),
                    a.setDisposable(o.subscribe(function(t) {
                        l[r] = t,
                        e(r)
                    }
                    , function(n) {
                        t.onError(n)
                    }
                    , function() {
                        i(r)
                    }
                    )),
                    f[r] = a
                }
                (d);
            return new nn(f)
        }
        ,this)
    }
    ;
    On.concat = function() {
        for (var t = [], n = 0, e = arguments.length; e > n; n++)
            t.push(arguments[n]);
        return t.unshift(this),
        le.apply(null , t)
    }
    ;
    var le = Bn.concat = function() {
        var t;
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else {
            t = new Array(arguments.length);
            for (var n = 0, e = arguments.length; e > n; n++)
                t[n] = arguments[n]
        }
        return Nn(t).concat()
    }
    ;
    On.concatAll = On.concatObservable = function() {
        return this.merge(1)
    }
    ;
    var fe = function(t) {
        function n(n, e) {
            this.source = n,
            this.maxConcurrent = e,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new nn;
            return n.add(this.source.subscribe(new de(t,this.maxConcurrent,n))),
            n
        }
        ,
        n
    }
    (Wn)
      , de = function() {
        function t(t, n, e) {
            this.o = t,
            this.max = n,
            this.g = e,
            this.done = !1,
            this.q = [],
            this.activeCount = 0,
            this.isStopped = !1
        }
        function n(t, n) {
            this.parent = t,
            this.sad = n,
            this.isStopped = !1
        }
        return t.prototype.handleSubscribe = function(t) {
            var e = new cn;
            this.g.add(e),
            rt(t) && (t = Fn(t)),
            e.setDisposable(t.subscribe(new n(this,e)))
        }
        ,
        t.prototype.onNext = function(t) {
            this.isStopped || (this.activeCount < this.max ? (this.activeCount++,
            this.handleSubscribe(t)) : this.q.push(t))
        }
        ,
        t.prototype.onError = function(t) {
            this.isStopped || (this.isStopped = !0,
            this.o.onError(t))
        }
        ,
        t.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0,
            this.done = !0,
            0 === this.activeCount && this.o.onCompleted())
        }
        ,
        t.prototype.dispose = function() {
            this.isStopped = !0
        }
        ,
        t.prototype.fail = function(t) {
            return this.isStopped ? !1 : (this.isStopped = !0,
            this.o.onError(t),
            !0)
        }
        ,
        n.prototype.onNext = function(t) {
            this.isStopped || this.parent.o.onNext(t)
        }
        ,
        n.prototype.onError = function(t) {
            this.isStopped || (this.isStopped = !0,
            this.parent.o.onError(t))
        }
        ,
        n.prototype.onCompleted = function() {
            if (!this.isStopped) {
                this.isStopped = !0;
                var t = this.parent;
                t.g.remove(this.sad),
                t.q.length > 0 ? t.handleSubscribe(t.q.shift()) : (t.activeCount--,
                t.done && 0 === t.activeCount && t.o.onCompleted())
            }
        }
        ,
        n.prototype.dispose = function() {
            this.isStopped = !0
        }
        ,
        n.prototype.fail = function(t) {
            return this.isStopped ? !1 : (this.isStopped = !0,
            this.parent.o.onError(t),
            !0)
        }
        ,
        t
    }
    ();
    On.merge = function(t) {
        return "number" != typeof t ? pe(this, t) : new fe(this,t)
    }
    ;
    var pe = Bn.merge = function() {
        var t, n, e = [], r = arguments.length;
        if (arguments[0])
            if (mn(arguments[0]))
                for (t = arguments[0],
                n = 1; r > n; n++)
                    e.push(arguments[n]);
            else
                for (t = bn,
                n = 0; r > n; n++)
                    e.push(arguments[n]);
        else
            for (t = bn,
            n = 1; r > n; n++)
                e.push(arguments[n]);
        return Array.isArray(e[0]) && (e = e[0]),
        N(t, e).mergeAll()
    }
      , he = J.CompositeError = function(t) {
        this.name = "NotImplementedError",
        this.innerErrors = t,
        this.message = "This contains multiple errors. Check the innerErrors",
        Error.call(this)
    }
    ;
    he.prototype = Error.prototype,
    Bn.mergeDelayError = function() {
        var t;
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else {
            var n = arguments.length;
            t = new Array(n);
            for (var e = 0; n > e; e++)
                t[e] = arguments[e]
        }
        var r = N(null , t);
        return new we(function(t) {
            function n() {
                0 === a.length ? t.onCompleted() : t.onError(1 === a.length ? a[0] : new he(a))
            }
            var e = new nn
              , i = new cn
              , o = !1
              , a = [];
            return e.add(i),
            i.setDisposable(r.subscribe(function(r) {
                var i = new cn;
                e.add(i),
                rt(r) && (r = Fn(r)),
                i.setDisposable(r.subscribe(function(n) {
                    t.onNext(n)
                }
                , function(t) {
                    a.push(t),
                    e.remove(i),
                    o && 1 === e.length && n()
                }
                , function() {
                    e.remove(i),
                    o && 1 === e.length && n()
                }
                ))
            }
            , function(t) {
                a.push(t),
                o = !0,
                1 === e.length && n()
            }
            , function() {
                o = !0,
                1 === e.length && n()
            }
            )),
            e
        }
        )
    }
    ;
    var me = function(t) {
        function n(n) {
            this.source = n,
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            var n = new nn
              , e = new cn;
            return n.add(e),
            e.setDisposable(this.source.subscribe(new ve(t,n))),
            n
        }
        ,
        n
    }
    (Wn)
      , ve = function() {
        function t(t, n) {
            this.o = t,
            this.g = n,
            this.isStopped = !1,
            this.done = !1
        }
        function n(t, n, e) {
            this.parent = t,
            this.g = n,
            this.sad = e,
            this.isStopped = !1
        }
        return t.prototype.onNext = function(t) {
            if (!this.isStopped) {
                var e = new cn;
                this.g.add(e),
                rt(t) && (t = Fn(t)),
                e.setDisposable(t.subscribe(new n(this,this.g,e)))
            }
        }
        ,
        t.prototype.onError = function(t) {
            this.isStopped || (this.isStopped = !0,
            this.o.onError(t))
        }
        ,
        t.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0,
            this.done = !0,
            1 === this.g.length && this.o.onCompleted())
        }
        ,
        t.prototype.dispose = function() {
            this.isStopped = !0
        }
        ,
        t.prototype.fail = function(t) {
            return this.isStopped ? !1 : (this.isStopped = !0,
            this.o.onError(t),
            !0)
        }
        ,
        n.prototype.onNext = function(t) {
            this.isStopped || this.parent.o.onNext(t)
        }
        ,
        n.prototype.onError = function(t) {
            this.isStopped || (this.isStopped = !0,
            this.parent.o.onError(t))
        }
        ,
        n.prototype.onCompleted = function() {
            if (!this.isStopped) {
                var t = this.parent;
                this.isStopped = !0,
                t.g.remove(this.sad),
                t.done && 1 === t.g.length && t.o.onCompleted()
            }
        }
        ,
        n.prototype.dispose = function() {
            this.isStopped = !0
        }
        ,
        n.prototype.fail = function(t) {
            return this.isStopped ? !1 : (this.isStopped = !0,
            this.parent.o.onError(t),
            !0)
        }
        ,
        t
    }
    ();
    On.mergeAll = On.mergeObservable = function() {
        return new me(this)
    }
    ,
    On.onErrorResumeNext = function(t) {
        if (!t)
            throw new Error("Second observable is required");
        return ge([this, t])
    }
    ;
    var ge = Bn.onErrorResumeNext = function() {
        var t = [];
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else
            for (var n = 0, e = arguments.length; e > n; n++)
                t.push(arguments[n]);
        return new we(function(n) {
            var e = 0
              , r = new ln
              , i = bn.scheduleRecursive(function(i) {
                var o, a;
                e < t.length ? (o = t[e++],
                rt(o) && (o = Fn(o)),
                a = new cn,
                r.setDisposable(a),
                a.setDisposable(o.subscribe(n.onNext.bind(n), i, i))) : n.onCompleted()
            }
            );
            return new nn(r,i)
        }
        )
    }
    ;
    On.skipUntil = function(t) {
        var n = this;
        return new we(function(e) {
            var r = !1
              , i = new nn(n.subscribe(function(t) {
                r && e.onNext(t)
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                r && e.onCompleted()
            }
            ));
            rt(t) && (t = Fn(t));
            var o = new cn;
            return i.add(o),
            o.setDisposable(t.subscribe(function() {
                r = !0,
                o.dispose()
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                o.dispose()
            }
            )),
            i
        }
        ,n)
    }
    ,
    On["switch"] = On.switchLatest = function() {
        var t = this;
        return new we(function(n) {
            var e = !1
              , r = new ln
              , i = !1
              , o = 0
              , a = t.subscribe(function(t) {
                var a = new cn
                  , u = ++o;
                e = !0,
                r.setDisposable(a),
                rt(t) && (t = Fn(t)),
                a.setDisposable(t.subscribe(function(t) {
                    o === u && n.onNext(t)
                }
                , function(t) {
                    o === u && n.onError(t)
                }
                , function() {
                    o === u && (e = !1,
                    i && n.onCompleted())
                }
                ))
            }
            , function(t) {
                n.onError(t)
            }
            , function() {
                i = !0,
                !e && n.onCompleted()
            }
            );
            return new nn(a,r)
        }
        ,t)
    }
    ,
    On.takeUntil = function(t) {
        var n = this;
        return new we(function(e) {
            return rt(t) && (t = Fn(t)),
            new nn(n.subscribe(e),t.subscribe(function() {
                e.onCompleted()
            }
            , function(t) {
                e.onError(t)
            }
            , K))
        }
        ,n)
    }
    ,
    On.withLatestFrom = function() {
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        var r = n.pop()
          , i = this;
        if ("undefined" == typeof i)
            throw new Error("Source observable not found for withLatestFrom().");
        if ("function" != typeof r)
            throw new Error("withLatestFrom() expects a resultSelector function.");
        return Array.isArray(n[0]) && (n = n[0]),
        new we(function(t) {
            for (var e = function() {
                return !1
            }
            , o = n.length, a = h(o, e), u = !1, s = new Array(o), c = new Array(o + 1), l = 0; o > l; l++)
                !function(e) {
                    var r = n[e]
                      , i = new cn;
                    rt(r) && (r = Fn(r)),
                    i.setDisposable(r.subscribe(function(t) {
                        s[e] = t,
                        a[e] = !0,
                        u = a.every(Z)
                    }
                    , t.onError.bind(t), function() {}
                    )),
                    c[e] = i
                }
                (l);
            var f = new cn;
            return f.setDisposable(i.subscribe(function(n) {
                var e, i = [n].concat(s);
                if (u) {
                    try {
                        e = r.apply(null , i)
                    } catch (o) {
                        return void t.onError(o)
                    }
                    t.onNext(e)
                }
            }
            , t.onError.bind(t), function() {
                t.onCompleted()
            }
            )),
            c[o] = f,
            new nn(c)
        }
        ,this)
    }
    ,
    On.zip = function() {
        if (Array.isArray(arguments[0]))
            return I.apply(this, arguments);
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        var r = this
          , i = n.pop();
        return n.unshift(r),
        new we(function(t) {
            function e(n) {
                var e, o;
                if (u.every(function(t) {
                    return t.length > 0
                }
                )) {
                    try {
                        o = u.map(function(t) {
                            return t.shift()
                        }
                        ),
                        e = i.apply(r, o)
                    } catch (a) {
                        return void t.onError(a)
                    }
                    t.onNext(e)
                } else
                    s.filter(function(t, e) {
                        return e !== n
                    }
                    ).every(Z) && t.onCompleted()
            }
            function o(n) {
                s[n] = !0,
                s.every(function(t) {
                    return t
                }
                ) && t.onCompleted()
            }
            for (var a = n.length, u = h(a, L), s = h(a, R), c = new Array(a), l = 0; a > l; l++)
                !function(r) {
                    var i = n[r]
                      , a = new cn;
                    rt(i) && (i = Fn(i)),
                    a.setDisposable(i.subscribe(function(t) {
                        u[r].push(t),
                        e(r)
                    }
                    , function(n) {
                        t.onError(n)
                    }
                    , function() {
                        o(r)
                    }
                    )),
                    c[r] = a
                }
                (l);
            return new nn(c)
        }
        ,r)
    }
    ,
    Bn.zip = function() {
        for (var t = arguments.length, n = new Array(t), e = 0; t > e; e++)
            n[e] = arguments[e];
        var r = n.shift();
        return r.zip.apply(r, n)
    }
    ,
    Bn.zipArray = function() {
        var t;
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else {
            var n = arguments.length;
            t = new Array(n);
            for (var e = 0; n > e; e++)
                t[e] = arguments[e]
        }
        return new we(function(n) {
            function e(t) {
                if (o.every(function(t) {
                    return t.length > 0
                }
                )) {
                    var e = o.map(function(t) {
                        return t.shift()
                    }
                    );
                    n.onNext(e)
                } else if (a.filter(function(n, e) {
                    return e !== t
                }
                ).every(Z))
                    return void n.onCompleted()
            }
            function r(t) {
                return a[t] = !0,
                a.every(Z) ? void n.onCompleted() : void 0
            }
            for (var i = t.length, o = h(i, function() {
                return []
            }
            ), a = h(i, function() {
                return !1
            }
            ), u = new Array(i), s = 0; i > s; s++)
                !function(i) {
                    u[i] = new cn,
                    u[i].setDisposable(t[i].subscribe(function(t) {
                        o[i].push(t),
                        e(i)
                    }
                    , function(t) {
                        n.onError(t)
                    }
                    , function() {
                        r(i)
                    }
                    ))
                }
                (s);
            return new nn(u)
        }
        )
    }
    ,
    On.asObservable = function() {
        var t = this;
        return new we(function(n) {
            return t.subscribe(n)
        }
        ,this)
    }
    ,
    On.bufferWithCount = function(t, n) {
        return "number" != typeof n && (n = t),
        this.windowWithCount(t, n).selectMany(function(t) {
            return t.toArray()
        }
        ).where(function(t) {
            return t.length > 0
        }
        )
    }
    ,
    On.dematerialize = function() {
        var t = this;
        return new we(function(n) {
            return t.subscribe(function(t) {
                return t.accept(n)
            }
            , function(t) {
                n.onError(t)
            }
            , function() {
                n.onCompleted()
            }
            )
        }
        ,this)
    }
    ,
    On.distinctUntilChanged = function(t, n) {
        var e = this;
        return n || (n = tt),
        new we(function(r) {
            var i, o = !1;
            return e.subscribe(function(e) {
                var a = e;
                if (t)
                    try {
                        a = t(e)
                    } catch (u) {
                        return void r.onError(u)
                    }
                if (o)
                    try {
                        var s = n(i, a)
                    } catch (u) {
                        return void r.onError(u)
                    }
                o && s || (o = !0,
                i = a,
                r.onNext(e))
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                r.onCompleted()
            }
            )
        }
        ,this)
    }
    ,
    On["do"] = On.tap = On.doAction = function(t, n, e) {
        var r = this;
        return new we(function(i) {
            var o = !t || it(t) ? jn(t || K, n || K, e || K) : t;
            return r.subscribe(function(t) {
                try {
                    o.onNext(t)
                } catch (n) {
                    i.onError(n)
                }
                i.onNext(t)
            }
            , function(t) {
                try {
                    o.onError(t)
                } catch (n) {
                    i.onError(n)
                }
                i.onError(t)
            }
            , function() {
                try {
                    o.onCompleted()
                } catch (t) {
                    i.onError(t)
                }
                i.onCompleted()
            }
            )
        }
        ,this)
    }
    ,
    On.doOnNext = On.tapOnNext = function(t, n) {
        return this.tap("undefined" != typeof n ? function(e) {
            t.call(n, e)
        }
         : t)
    }
    ,
    On.doOnError = On.tapOnError = function(t, n) {
        return this.tap(K, "undefined" != typeof n ? function(e) {
            t.call(n, e)
        }
         : t)
    }
    ,
    On.doOnCompleted = On.tapOnCompleted = function(t, n) {
        return this.tap(K, null , "undefined" != typeof n ? function() {
            t.call(n)
        }
         : t)
    }
    ,
    On["finally"] = On.ensure = function(t) {
        var n = this;
        return new we(function(e) {
            var r;
            try {
                r = n.subscribe(e)
            } catch (i) {
                throw t(),
                i
            }
            return on(function() {
                try {
                    r.dispose()
                } catch (n) {
                    throw n
                } finally {
                    t()
                }
            }
            )
        }
        ,this)
    }
    ,
    On.finallyAction = function(t) {
        return this.ensure(t)
    }
    ,
    On.ignoreElements = function() {
        var t = this;
        return new we(function(n) {
            return t.subscribe(K, function(t) {
                n.onError(t)
            }
            , function() {
                n.onCompleted()
            }
            )
        }
        ,t)
    }
    ,
    On.materialize = function() {
        var t = this;
        return new we(function(n) {
            return t.subscribe(function(t) {
                n.onNext(Sn(t))
            }
            , function(t) {
                n.onNext(Mn(t)),
                n.onCompleted()
            }
            , function() {
                n.onNext(kn()),
                n.onCompleted()
            }
            )
        }
        ,t)
    }
    ,
    On.repeat = function(t) {
        return Tn(this, t).concat()
    }
    ,
    On.retry = function(t) {
        return Tn(this, t).catchError()
    }
    ,
    On.retryWhen = function(t) {
        return Tn(this).catchErrorWhen(t)
    }
    ,
    On.scan = function() {
        var t, n, e = !1, r = this;
        return 2 === arguments.length ? (e = !0,
        t = arguments[0],
        n = arguments[1]) : n = arguments[0],
        new we(function(i) {
            var o, a, u;
            return r.subscribe(function(r) {
                !u && (u = !0);
                try {
                    o ? a = n(a, r) : (a = e ? n(t, r) : r,
                    o = !0)
                } catch (s) {
                    return void i.onError(s)
                }
                i.onNext(a)
            }
            , function(t) {
                i.onError(t)
            }
            , function() {
                !u && e && i.onNext(t),
                i.onCompleted()
            }
            )
        }
        ,r)
    }
    ,
    On.skipLast = function(t) {
        if (0 > t)
            throw new dt;
        var n = this;
        return new we(function(e) {
            var r = [];
            return n.subscribe(function(n) {
                r.push(n),
                r.length > t && e.onNext(r.shift())
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                e.onCompleted()
            }
            )
        }
        ,n)
    }
    ,
    On.startWith = function() {
        var t, n = 0;
        arguments.length && mn(arguments[0]) ? (t = arguments[0],
        n = 1) : t = bn;
        for (var e = [], r = n, i = arguments.length; i > r; r++)
            e.push(arguments[r]);
        return Nn([Zn(e, t), this]).concat()
    }
    ,
    On.takeLast = function(t) {
        if (0 > t)
            throw new dt;
        var n = this;
        return new we(function(e) {
            var r = [];
            return n.subscribe(function(n) {
                r.push(n),
                r.length > t && r.shift()
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                for (; r.length > 0; )
                    e.onNext(r.shift());
                e.onCompleted()
            }
            )
        }
        ,n)
    }
    ,
    On.takeLastBuffer = function(t) {
        var n = this;
        return new we(function(e) {
            var r = [];
            return n.subscribe(function(n) {
                r.push(n),
                r.length > t && r.shift()
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                e.onNext(r),
                e.onCompleted()
            }
            )
        }
        ,n)
    }
    ,
    On.windowWithCount = function(t, n) {
        var e = this;
        if (+t || (t = 0),
        Math.abs(t) === 1 / 0 && (t = 0),
        0 >= t)
            throw new dt;
        if (null  == n && (n = t),
        +n || (n = 0),
        Math.abs(n) === 1 / 0 && (n = 0),
        0 >= n)
            throw new dt;
        return new we(function(r) {
            function i() {
                var t = new _e;
                s.push(t),
                r.onNext(Kt(t, a))
            }
            var o = new cn
              , a = new fn(o)
              , u = 0
              , s = [];
            return i(),
            o.setDisposable(e.subscribe(function(e) {
                for (var r = 0, o = s.length; o > r; r++)
                    s[r].onNext(e);
                var a = u - t + 1;
                a >= 0 && a % n === 0 && s.shift().onCompleted(),
                ++u % n === 0 && i()
            }
            , function(t) {
                for (; s.length > 0; )
                    s.shift().onError(t);
                r.onError(t)
            }
            , function() {
                for (; s.length > 0; )
                    s.shift().onCompleted();
                r.onCompleted()
            }
            )),
            a
        }
        ,e)
    }
    ,
    On.selectConcat = On.concatMap = function(t, n, e) {
        return it(t) && it(n) ? this.concatMap(function(e, r) {
            var i = t(e, r);
            return rt(i) && (i = Fn(i)),
            (wt(i) || yt(i)) && (i = Jn(i)),
            i.map(function(t, i) {
                return n(e, t, r, i)
            }
            )
        }
        ) : it(t) ? z(this, t, e) : z(this, function() {
            return t
        }
        )
    }
    ,
    On.concatMapObserver = On.selectConcatObserver = function(t, n, e, r) {
        var i = this
          , o = Et(t, r, 2)
          , a = Et(n, r, 1)
          , u = Et(e, r, 0);
        return new we(function(t) {
            var n = 0;
            return i.subscribe(function(e) {
                var r;
                try {
                    r = o(e, n++)
                } catch (i) {
                    return void t.onError(i)
                }
                rt(r) && (r = Fn(r)),
                t.onNext(r)
            }
            , function(n) {
                var e;
                try {
                    e = a(n)
                } catch (r) {
                    return void t.onError(r)
                }
                rt(e) && (e = Fn(e)),
                t.onNext(e),
                t.onCompleted()
            }
            , function() {
                var n;
                try {
                    n = u()
                } catch (e) {
                    return void t.onError(e)
                }
                rt(n) && (n = Fn(n)),
                t.onNext(n),
                t.onCompleted()
            }
            )
        }
        ,this).concatAll()
    }
    ,
    On.defaultIfEmpty = function(n) {
        var e = this;
        return n === t && (n = null ),
        new we(function(t) {
            var r = !1;
            return e.subscribe(function(n) {
                r = !0,
                t.onNext(n)
            }
            , function(n) {
                t.onError(n)
            }
            , function() {
                !r && t.onNext(n),
                t.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    B.prototype.push = function(t) {
        var n = -1 === q(this.set, t, this.comparer);
        return n && this.set.push(t),
        n
    }
    ,
    On.distinct = function(t, n) {
        var e = this;
        return n || (n = tt),
        new we(function(r) {
            var i = new B(n);
            return e.subscribe(function(n) {
                var e = n;
                if (t)
                    try {
                        e = t(n)
                    } catch (o) {
                        return void r.onError(o)
                    }
                i.push(e) && r.onNext(n)
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                r.onCompleted()
            }
            )
        }
        ,this)
    }
    ;
    var be = function(t) {
        function n(n, e, r) {
            this.source = n,
            this.selector = Et(e, r, 3),
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.internalMap = function(t, e) {
            var r = this;
            return new n(this.source,function(n, e, i) {
                return t.call(this, r.selector(n, e, i), e, i)
            }
            ,e)
        }
        ,
        n.prototype.subscribeCore = function(t) {
            return this.source.subscribe(new W(t,this.selector,this))
        }
        ,
        n
    }
    (Wn);
    W.prototype.onNext = function(t) {
        if (!this.isStopped) {
            var n = v(this.selector).call(this, t, this.i++, this.source);
            return n === Zt ? this.observer.onError(n.e) : void this.observer.onNext(n)
        }
    }
    ,
    W.prototype.onError = function(t) {
        this.isStopped || (this.isStopped = !0,
        this.observer.onError(t))
    }
    ,
    W.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0,
        this.observer.onCompleted())
    }
    ,
    W.prototype.dispose = function() {
        this.isStopped = !0
    }
    ,
    W.prototype.fail = function(t) {
        return this.isStopped ? !1 : (this.isStopped = !0,
        this.observer.onError(t),
        !0)
    }
    ,
    On.map = On.select = function(t, n) {
        var e = "function" == typeof t ? t : function() {
            return t
        }
        ;
        return this instanceof be ? this.internalMap(e, n) : new be(this,e,n)
    }
    ,
    On.pluck = function() {
        var n = arguments
          , e = arguments.length;
        if (0 === e)
            throw new Error("List of properties cannot be empty.");
        return this.map(function(r) {
            for (var i = r, o = 0; e > o; o++) {
                var a = i[n[o]];
                if ("undefined" == typeof a)
                    return t;
                i = a
            }
            return i
        }
        )
    }
    ,
    On.flatMapObserver = On.selectManyObserver = function(t, n, e, r) {
        var i = this;
        return new we(function(o) {
            var a = 0;
            return i.subscribe(function(n) {
                var e;
                try {
                    e = t.call(r, n, a++)
                } catch (i) {
                    return void o.onError(i)
                }
                rt(e) && (e = Fn(e)),
                o.onNext(e)
            }
            , function(t) {
                var e;
                try {
                    e = n.call(r, t)
                } catch (i) {
                    return void o.onError(i)
                }
                rt(e) && (e = Fn(e)),
                o.onNext(e),
                o.onCompleted()
            }
            , function() {
                var t;
                try {
                    t = e.call(r)
                } catch (n) {
                    return void o.onError(n)
                }
                rt(t) && (t = Fn(t)),
                o.onNext(t),
                o.onCompleted()
            }
            )
        }
        ,i).mergeAll()
    }
    ,
    On.selectMany = On.flatMap = function(t, n, e) {
        return it(t) && it(n) ? this.flatMap(function(e, r) {
            var i = t(e, r);
            return rt(i) && (i = Fn(i)),
            (wt(i) || yt(i)) && (i = Jn(i)),
            i.map(function(t, i) {
                return n(e, t, r, i)
            }
            )
        }
        , e) : it(t) ? F(this, t, e) : F(this, function() {
            return t
        }
        )
    }
    ,
    On.selectSwitch = On.flatMapLatest = On.switchMap = function(t, n) {
        return this.select(t, n).switchLatest()
    }
    ,
    On.skip = function(t) {
        if (0 > t)
            throw new dt;
        var n = this;
        return new we(function(e) {
            var r = t;
            return n.subscribe(function(t) {
                0 >= r ? e.onNext(t) : r--
            }
            , function(t) {
                e.onError(t)
            }
            , function() {
                e.onCompleted()
            }
            )
        }
        ,n)
    }
    ,
    On.skipWhile = function(t, n) {
        var e = this
          , r = Et(t, n, 3);
        return new we(function(t) {
            var n = 0
              , i = !1;
            return e.subscribe(function(o) {
                if (!i)
                    try {
                        i = !r(o, n++, e)
                    } catch (a) {
                        return void t.onError(a)
                    }
                i && t.onNext(o)
            }
            , function(n) {
                t.onError(n)
            }
            , function() {
                t.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    On.take = function(t, n) {
        if (0 > t)
            throw new dt;
        if (0 === t)
            return Yn(n);
        var e = this;
        return new we(function(n) {
            var r = t;
            return e.subscribe(function(t) {
                r-- > 0 && (n.onNext(t),
                0 === r && n.onCompleted())
            }
            , function(t) {
                n.onError(t)
            }
            , function() {
                n.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    On.takeWhile = function(t, n) {
        var e = this
          , r = Et(t, n, 3);
        return new we(function(t) {
            var n = 0
              , i = !0;
            return e.subscribe(function(o) {
                if (i) {
                    try {
                        i = r(o, n++, e)
                    } catch (a) {
                        return void t.onError(a)
                    }
                    i ? t.onNext(o) : t.onCompleted()
                }
            }
            , function(n) {
                t.onError(n)
            }
            , function() {
                t.onCompleted()
            }
            )
        }
        ,e)
    }
    ;
    var ye = function(t) {
        function n(n, e, r) {
            this.source = n,
            this.predicate = Et(e, r, 3),
            t.call(this)
        }
        return Qt(n, t),
        n.prototype.subscribeCore = function(t) {
            return this.source.subscribe(new H(t,this.predicate,this))
        }
        ,
        n.prototype.internalFilter = function(t, e) {
            var r = this;
            return new n(this.source,function(n, e, i) {
                return r.predicate(n, e, i) && t.call(this, n, e, i)
            }
            ,e)
        }
        ,
        n
    }
    (Wn);
    H.prototype.onNext = function(t) {
        if (!this.isStopped) {
            var n = v(this.predicate).call(this, t, this.i++, this.source);
            return n === Zt ? this.observer.onError(n.e) : void (n && this.observer.onNext(t))
        }
    }
    ,
    H.prototype.onError = function(t) {
        this.isStopped || (this.isStopped = !0,
        this.observer.onError(t))
    }
    ,
    H.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0,
        this.observer.onCompleted())
    }
    ,
    H.prototype.dispose = function() {
        this.isStopped = !0
    }
    ,
    H.prototype.fail = function(t) {
        return this.isStopped ? !1 : (this.isStopped = !0,
        this.observer.onError(t),
        !0)
    }
    ,
    On.filter = On.where = function(t, n) {
        return this instanceof ye ? this.internalFilter(t, n) : new ye(this,t,n)
    }
    ,
    On.transduce = function(t) {
        function n(t) {
            return {
                "@@transducer/init": function() {
                    return t
                },
                "@@transducer/step": function(t, n) {
                    return t.onNext(n)
                },
                "@@transducer/result": function(t) {
                    return t.onCompleted()
                }
            }
        }
        var e = this;
        return new we(function(r) {
            var i = t(n(r));
            return e.subscribe(function(t) {
                try {
                    i["@@transducer/step"](r, t)
                } catch (n) {
                    r.onError(n)
                }
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                i["@@transducer/result"](r)
            }
            )
        }
        ,e)
    }
    ;
    var we = J.AnonymousObservable = function(t) {
        function n(t) {
            return t && it(t.dispose) ? t : it(t) ? on(t) : an
        }
        function e(t, e) {
            var r = e[0]
              , i = e[1]
              , o = v(i)(r);
            return o !== Zt || r.fail(Zt.e) ? void r.setDisposable(n(o)) : g(Zt.e)
        }
        function r(n, r) {
            function i(t) {
                var r = new xe(t)
                  , i = [r, n];
                return yn.scheduleRequired() ? yn.scheduleWithState(i, e) : e(null , i),
                r
            }
            this.source = r,
            t.call(this, i)
        }
        return Qt(r, t),
        r
    }
    (Bn)
      , xe = function(t) {
        function n(n) {
            t.call(this),
            this.observer = n,
            this.m = new cn
        }
        Qt(n, t);
        var e = n.prototype;
        return e.next = function(t) {
            var n = v(this.observer.onNext).call(this.observer, t);
            n === Zt && (this.dispose(),
            g(n.e))
        }
        ,
        e.error = function(t) {
            var n = v(this.observer.onError).call(this.observer, t);
            this.dispose(),
            n === Zt && g(n.e)
        }
        ,
        e.completed = function() {
            var t = v(this.observer.onCompleted).call(this.observer);
            this.dispose(),
            t === Zt && g(t.e)
        }
        ,
        e.setDisposable = function(t) {
            this.m.setDisposable(t)
        }
        ,
        e.getDisposable = function() {
            return this.m.getDisposable()
        }
        ,
        e.dispose = function() {
            t.prototype.dispose.call(this),
            this.m.dispose()
        }
        ,
        n
    }
    (In)
      , Ee = function(t, n) {
        this.subject = t,
        this.observer = n
    }
    ;
    Ee.prototype.dispose = function() {
        if (!this.subject.isDisposed && null  !== this.observer) {
            var t = this.subject.observers.indexOf(this.observer);
            this.subject.observers.splice(t, 1),
            this.observer = null 
        }
    }
    ;
    var _e = J.Subject = function(t) {
        function e(t) {
            return sn(this),
            this.isStopped ? this.hasError ? (t.onError(this.error),
            an) : (t.onCompleted(),
            an) : (this.observers.push(t),
            new Ee(this,t))
        }
        function r() {
            t.call(this, e),
            this.isDisposed = !1,
            this.isStopped = !1,
            this.observers = [],
            this.hasError = !1
        }
        return Qt(r, t),
        Jt(r.prototype, Dn.prototype, {
            hasObservers: function() {
                return this.observers.length > 0
            },
            onCompleted: function() {
                if (sn(this),
                !this.isStopped) {
                    this.isStopped = !0;
                    for (var t = 0, e = n(this.observers), r = e.length; r > t; t++)
                        e[t].onCompleted();
                    this.observers.length = 0
                }
            },
            onError: function(t) {
                if (sn(this),
                !this.isStopped) {
                    this.isStopped = !0,
                    this.error = t,
                    this.hasError = !0;
                    for (var e = 0, r = n(this.observers), i = r.length; i > e; e++)
                        r[e].onError(t);
                    this.observers.length = 0
                }
            },
            onNext: function(t) {
                if (sn(this),
                !this.isStopped)
                    for (var e = 0, r = n(this.observers), i = r.length; i > e; e++)
                        r[e].onNext(t)
            },
            dispose: function() {
                this.isDisposed = !0,
                this.observers = null ;
            }
        }),
        r.create = function(t, n) {
            return new Ce(t,n)
        }
        ,
        r
    }
    (Bn)
      , Ce = (J.AsyncSubject = function(t) {
        function e(t) {
            return sn(this),
            this.isStopped ? (this.hasError ? t.onError(this.error) : this.hasValue ? (t.onNext(this.value),
            t.onCompleted()) : t.onCompleted(),
            an) : (this.observers.push(t),
            new Ee(this,t))
        }
        function r() {
            t.call(this, e),
            this.isDisposed = !1,
            this.isStopped = !1,
            this.hasValue = !1,
            this.observers = [],
            this.hasError = !1
        }
        return Qt(r, t),
        Jt(r.prototype, Dn, {
            hasObservers: function() {
                return sn(this),
                this.observers.length > 0
            },
            onCompleted: function() {
                var t, e;
                if (sn(this),
                !this.isStopped) {
                    this.isStopped = !0;
                    var r = n(this.observers)
                      , e = r.length;
                    if (this.hasValue)
                        for (t = 0; e > t; t++) {
                            var i = r[t];
                            i.onNext(this.value),
                            i.onCompleted()
                        }
                    else
                        for (t = 0; e > t; t++)
                            r[t].onCompleted();
                    this.observers.length = 0
                }
            },
            onError: function(t) {
                if (sn(this),
                !this.isStopped) {
                    this.isStopped = !0,
                    this.hasError = !0,
                    this.error = t;
                    for (var e = 0, r = n(this.observers), i = r.length; i > e; e++)
                        r[e].onError(t);
                    this.observers.length = 0
                }
            },
            onNext: function(t) {
                sn(this),
                this.isStopped || (this.value = t,
                this.hasValue = !0)
            },
            dispose: function() {
                this.isDisposed = !0,
                this.observers = null ,
                this.exception = null ,
                this.value = null 
            }
        }),
        r
    }
    (Bn),
    J.AnonymousSubject = function(t) {
        function n(t) {
            return this.observable.subscribe(t)
        }
        function e(e, r) {
            this.observer = e,
            this.observable = r,
            t.call(this, n)
        }
        return Qt(e, t),
        Jt(e.prototype, Dn.prototype, {
            onCompleted: function() {
                this.observer.onCompleted()
            },
            onError: function(t) {
                this.observer.onError(t)
            },
            onNext: function(t) {
                this.observer.onNext(t)
            }
        }),
        e
    }
    (Bn));
    "function" == typeof define && "object" == typeof define.amd && define.amd ? (U.Rx = J,
    define("rx", [], function() {
        return J
    }
    )) : Y && X ? G ? (X.exports = J).Rx = J : Y.Rx = J : U.Rx = J;
    var Se = a()
}
.call(this),
function(t) {
    var n = {
        "boolean": !1,
        "function": !0,
        object: !0,
        number: !1,
        string: !1,
        undefined: !1
    }
      , e = n[typeof window] && window || this
      , r = n[typeof exports] && exports && !exports.nodeType && exports
      , i = n[typeof module] && module && !module.nodeType && module
      , o = (i && i.exports === r && r,
    n[typeof global] && global);
    !o || o.global !== o && o.window !== o || (e = o),
    "function" == typeof define && define.amd ? define("rx.binding", ["rx"], function(n, r) {
        return t(e, r, n)
    }
    ) : "object" == typeof module && module && module.exports === r ? module.exports = t(e, module.exports, require("./rx")) : e.Rx = t(e, {}, e.Rx)
}
.call(this, function(t, n, e) {
    function r(t) {
        for (var n = t.length, e = new Array(n), r = 0; n > r; r++)
            e[r] = t[r];
        return e
    }
    var i = e.Observable
      , o = i.prototype
      , a = e.AnonymousObservable
      , u = e.Subject
      , s = e.AsyncSubject
      , c = e.Observer
      , l = e.internals.ScheduledObserver
      , f = e.Disposable.create
      , d = e.Disposable.empty
      , p = e.CompositeDisposable
      , h = e.Scheduler.currentThread
      , m = e.helpers.isFunction
      , v = e.internals.inherits
      , g = e.internals.addProperties
      , b = e.Disposable.checkDisposed;
    o.multicast = function(t, n) {
        var e = this;
        return "function" == typeof t ? new a(function(r) {
            var i = e.multicast(t());
            return new p(n(i).subscribe(r),i.connect())
        }
        ,e) : new E(e,t)
    }
    ,
    o.publish = function(t) {
        return t && m(t) ? this.multicast(function() {
            return new u
        }
        , t) : this.multicast(new u)
    }
    ,
    o.share = function() {
        return this.publish().refCount()
    }
    ,
    o.publishLast = function(t) {
        return t && m(t) ? this.multicast(function() {
            return new s
        }
        , t) : this.multicast(new s)
    }
    ,
    o.publishValue = function(t, n) {
        return 2 === arguments.length ? this.multicast(function() {
            return new w(n)
        }
        , t) : this.multicast(new w(t))
    }
    ,
    o.shareValue = function(t) {
        return this.publishValue(t).refCount()
    }
    ,
    o.replay = function(t, n, e, r) {
        return t && m(t) ? this.multicast(function() {
            return new x(n,e,r)
        }
        , t) : this.multicast(new x(n,e,r))
    }
    ,
    o.shareReplay = function(t, n, e) {
        return this.replay(null , t, n, e).refCount()
    }
    ;
    var y = function(t, n) {
        this.subject = t,
        this.observer = n
    }
    ;
    y.prototype.dispose = function() {
        if (!this.subject.isDisposed && null  !== this.observer) {
            var t = this.subject.observers.indexOf(this.observer);
            this.subject.observers.splice(t, 1),
            this.observer = null 
        }
    }
    ;
    var w = e.BehaviorSubject = function(t) {
        function n(t) {
            return b(this),
            this.isStopped ? (this.hasError ? t.onError(this.error) : t.onCompleted(),
            d) : (this.observers.push(t),
            t.onNext(this.value),
            new y(this,t))
        }
        function e(e) {
            t.call(this, n),
            this.value = e,
            this.observers = [],
            this.isDisposed = !1,
            this.isStopped = !1,
            this.hasError = !1
        }
        return v(e, t),
        g(e.prototype, c, {
            getValue: function() {
                if (b(this),
                this.hasError)
                    throw this.error;
                return this.value
            },
            hasObservers: function() {
                return this.observers.length > 0
            },
            onCompleted: function() {
                if (b(this),
                !this.isStopped) {
                    this.isStopped = !0;
                    for (var t = 0, n = r(this.observers), e = n.length; e > t; t++)
                        n[t].onCompleted();
                    this.observers.length = 0
                }
            },
            onError: function(t) {
                if (b(this),
                !this.isStopped) {
                    this.isStopped = !0,
                    this.hasError = !0,
                    this.error = t;
                    for (var n = 0, e = r(this.observers), i = e.length; i > n; n++)
                        e[n].onError(t);
                    this.observers.length = 0
                }
            },
            onNext: function(t) {
                if (b(this),
                !this.isStopped) {
                    this.value = t;
                    for (var n = 0, e = r(this.observers), i = e.length; i > n; n++)
                        e[n].onNext(t)
                }
            },
            dispose: function() {
                this.isDisposed = !0,
                this.observers = null ,
                this.value = null ,
                this.exception = null 
            }
        }),
        e
    }
    (i)
      , x = e.ReplaySubject = function(t) {
        function n(t, n) {
            return f(function() {
                n.dispose(),
                !t.isDisposed && t.observers.splice(t.observers.indexOf(n), 1)
            }
            )
        }
        function e(t) {
            var e = new l(this.scheduler,t)
              , r = n(this, e);
            b(this),
            this._trim(this.scheduler.now()),
            this.observers.push(e);
            for (var i = 0, o = this.q.length; o > i; i++)
                e.onNext(this.q[i].value);
            return this.hasError ? e.onError(this.error) : this.isStopped && e.onCompleted(),
            e.ensureActive(),
            r
        }
        function i(n, r, i) {
            this.bufferSize = null  == n ? o : n,
            this.windowSize = null  == r ? o : r,
            this.scheduler = i || h,
            this.q = [],
            this.observers = [],
            this.isStopped = !1,
            this.isDisposed = !1,
            this.hasError = !1,
            this.error = null ,
            t.call(this, e)
        }
        var o = Math.pow(2, 53) - 1;
        return v(i, t),
        g(i.prototype, c.prototype, {
            hasObservers: function() {
                return this.observers.length > 0
            },
            _trim: function(t) {
                for (; this.q.length > this.bufferSize; )
                    this.q.shift();
                for (; this.q.length > 0 && t - this.q[0].interval > this.windowSize; )
                    this.q.shift()
            },
            onNext: function(t) {
                if (b(this),
                !this.isStopped) {
                    var n = this.scheduler.now();
                    this.q.push({
                        interval: n,
                        value: t
                    }),
                    this._trim(n);
                    for (var e = 0, i = r(this.observers), o = i.length; o > e; e++) {
                        var a = i[e];
                        a.onNext(t),
                        a.ensureActive()
                    }
                }
            },
            onError: function(t) {
                if (b(this),
                !this.isStopped) {
                    this.isStopped = !0,
                    this.error = t,
                    this.hasError = !0;
                    var n = this.scheduler.now();
                    this._trim(n);
                    for (var e = 0, i = r(this.observers), o = i.length; o > e; e++) {
                        var a = i[e];
                        a.onError(t),
                        a.ensureActive()
                    }
                    this.observers.length = 0
                }
            },
            onCompleted: function() {
                if (b(this),
                !this.isStopped) {
                    this.isStopped = !0;
                    var t = this.scheduler.now();
                    this._trim(t);
                    for (var n = 0, e = r(this.observers), i = e.length; i > n; n++) {
                        var o = e[n];
                        o.onCompleted(),
                        o.ensureActive()
                    }
                    this.observers.length = 0
                }
            },
            dispose: function() {
                this.isDisposed = !0,
                this.observers = null 
            }
        }),
        i
    }
    (i)
      , E = e.ConnectableObservable = function(t) {
        function n(n, e) {
            var r, i = !1, o = n.asObservable();
            this.connect = function() {
                return i || (i = !0,
                r = new p(o.subscribe(e),f(function() {
                    i = !1
                }
                ))),
                r
            }
            ,
            t.call(this, function(t) {
                return e.subscribe(t)
            }
            )
        }
        return v(n, t),
        n.prototype.refCount = function() {
            var t, n = 0, e = this;
            return new a(function(r) {
                var i = 1 === ++n
                  , o = e.subscribe(r);
                return i && (t = e.connect()),
                function() {
                    o.dispose(),
                    0 === --n && t.dispose()
                }
            }
            )
        }
        ,
        n
    }
    (i);
    return e
}
),
function(t) {
    var n = {
        "boolean": !1,
        "function": !0,
        object: !0,
        number: !1,
        string: !1,
        undefined: !1
    }
      , e = n[typeof window] && window || this
      , r = n[typeof exports] && exports && !exports.nodeType && exports
      , i = n[typeof module] && module && !module.nodeType && module
      , o = (i && i.exports === r && r,
    n[typeof global] && global);
    !o || o.global !== o && o.window !== o || (e = o),
    "function" == typeof define && define.amd ? define("rx.time", ["rx"], function(n, r) {
        return t(e, r, n)
    }
    ) : "object" == typeof module && module && module.exports === r ? module.exports = t(e, module.exports, require("./rx")) : e.Rx = t(e, {}, e.Rx)
}
.call(this, function(t, n, e, r) {
    function i() {
        try {
            return p.apply(this, arguments)
        } catch (t) {
            return j.e = t,
            j
        }
    }
    function o(t) {
        if (!T(t))
            throw new TypeError("fn must be a function");
        return p = t,
        i
    }
    function a(t, n) {
        return new v(function(e) {
            return n.scheduleWithAbsolute(t, function() {
                e.onNext(0),
                e.onCompleted()
            }
            )
        }
        )
    }
    function u(t, n, e) {
        return new v(function(r) {
            var i = t
              , o = k(n);
            return e.scheduleRecursiveWithAbsoluteAndState(0, i, function(t, n) {
                if (o > 0) {
                    var a = e.now();
                    i += o,
                    a >= i && (i = a + o)
                }
                r.onNext(t),
                n(t + 1, i)
            }
            )
        }
        )
    }
    function s(t, n) {
        return new v(function(e) {
            return n.scheduleWithRelative(k(t), function() {
                e.onNext(0),
                e.onCompleted()
            }
            )
        }
        )
    }
    function c(t, n, e) {
        return t === n ? new v(function(t) {
            return e.schedulePeriodicWithState(0, n, function(n) {
                return t.onNext(n),
                n + 1
            }
            )
        }
        ) : g(function() {
            return u(e.now() + t, n, e)
        }
        )
    }
    function l(t, n, e) {
        return new v(function(r) {
            var i, o = !1, a = new E, u = null , s = [], c = !1;
            return i = t.materialize().timestamp(e).subscribe(function(t) {
                var i, l;
                "E" === t.value.kind ? (s = [],
                s.push(t),
                u = t.value.exception,
                l = !c) : (s.push({
                    value: t.value,
                    timestamp: t.timestamp + n
                }),
                l = !o,
                o = !0),
                l && (null  !== u ? r.onError(u) : (i = new x,
                a.setDisposable(i),
                i.setDisposable(e.scheduleRecursiveWithRelative(n, function(t) {
                    var n, i, a, l;
                    if (null  === u) {
                        c = !0;
                        do
                            a = null ,
                            s.length > 0 && s[0].timestamp - e.now() <= 0 && (a = s.shift().value),
                            null  !== a && a.accept(r);
                        while (null  !== a);l = !1,
                        i = 0,
                        s.length > 0 ? (l = !0,
                        i = Math.max(0, s[0].timestamp - e.now())) : o = !1,
                        n = u,
                        c = !1,
                        null  !== n ? r.onError(n) : l && t(i)
                    }
                }
                ))))
            }
            ),
            new _(i,a)
        }
        ,t)
    }
    function f(t, n, e) {
        return g(function() {
            return l(t, n - e.now(), e)
        }
        )
    }
    function d(t, n) {
        return new v(function(e) {
            function r() {
                a && (a = !1,
                e.onNext(o)),
                i && e.onCompleted()
            }
            var i, o, a;
            return new _(t.subscribe(function(t) {
                a = !0,
                o = t
            }
            , e.onError.bind(e), function() {
                i = !0
            }
            ),n.subscribe(r, e.onError.bind(e), r))
        }
        ,t)
    }
    var p, h = e.Observable, m = h.prototype, v = e.AnonymousObservable, g = h.defer, b = (h.empty,
    h.never), y = h.throwException, w = (h.fromArray,
    e.Scheduler["default"]), x = e.SingleAssignmentDisposable, E = e.SerialDisposable, _ = e.CompositeDisposable, C = e.RefCountDisposable, S = e.Subject, M = e.internals.addRef, k = e.Scheduler.normalize, A = e.helpers, P = A.isPromise, T = A.isFunction, N = e.Scheduler.isScheduler, D = h.fromPromise, j = {
        e: {}
    }, O = h.interval = function(t, n) {
        return c(t, t, N(n) ? n : w)
    }
    ;
    return h.timer = function(t, n, e) {
        var i;
        return N(e) || (e = w),
        n !== r && "number" == typeof n ? i = n : N(n) && (e = n),
        t instanceof Date && i === r ? a(t.getTime(), e) : t instanceof Date && i !== r ? (i = n,
        u(t.getTime(), i, e)) : i === r ? s(t, e) : c(t, i, e)
    }
    ,
    m.delay = function(t, n) {
        return N(n) || (n = w),
        t instanceof Date ? f(this, t.getTime(), n) : l(this, t, n)
    }
    ,
    m.debounce = m.throttleWithTimeout = function(t, n) {
        N(n) || (n = w);
        var e = this;
        return new v(function(r) {
            var i, o = new E, a = !1, u = 0, s = e.subscribe(function(e) {
                a = !0,
                i = e,
                u++;
                var s = u
                  , c = new x;
                o.setDisposable(c),
                c.setDisposable(n.scheduleWithRelative(t, function() {
                    a && u === s && r.onNext(i),
                    a = !1
                }
                ))
            }
            , function(t) {
                o.dispose(),
                r.onError(t),
                a = !1,
                u++
            }
            , function() {
                o.dispose(),
                a && r.onNext(i),
                r.onCompleted(),
                a = !1,
                u++
            }
            );
            return new _(s,o)
        }
        ,this)
    }
    ,
    m.throttle = function(t, n) {
        return this.debounce(t, n)
    }
    ,
    m.windowWithTime = function(t, n, e) {
        var r, i = this;
        return null  == n && (r = t),
        N(e) || (e = w),
        "number" == typeof n ? r = n : N(n) && (r = t,
        e = n),
        new v(function(n) {
            function o() {
                var t = new x
                  , i = !1
                  , a = !1;
                f.setDisposable(t),
                c === s ? (i = !0,
                a = !0) : s > c ? i = !0 : a = !0;
                var p = i ? c : s
                  , h = p - d;
                d = p,
                i && (c += r),
                a && (s += r),
                t.setDisposable(e.scheduleWithRelative(h, function() {
                    if (a) {
                        var t = new S;
                        l.push(t),
                        n.onNext(M(t, u))
                    }
                    i && l.shift().onCompleted(),
                    o()
                }
                ))
            }
            var a, u, s = r, c = t, l = [], f = new E, d = 0;
            return a = new _(f),
            u = new C(a),
            l.push(new S),
            n.onNext(M(l[0], u)),
            o(),
            a.add(i.subscribe(function(t) {
                for (var n = 0, e = l.length; e > n; n++)
                    l[n].onNext(t)
            }
            , function(t) {
                for (var e = 0, r = l.length; r > e; e++)
                    l[e].onError(t);
                n.onError(t)
            }
            , function() {
                for (var t = 0, e = l.length; e > t; t++)
                    l[t].onCompleted();
                n.onCompleted()
            }
            )),
            u
        }
        ,i)
    }
    ,
    m.windowWithTimeOrCount = function(t, n, e) {
        var r = this;
        return N(e) || (e = w),
        new v(function(i) {
            function o(n) {
                var r = new x;
                a.setDisposable(r),
                r.setDisposable(e.scheduleWithRelative(t, function() {
                    if (n === l) {
                        c = 0;
                        var t = ++l;
                        f.onCompleted(),
                        f = new S,
                        i.onNext(M(f, s)),
                        o(t)
                    }
                }
                ))
            }
            var a = new E
              , u = new _(a)
              , s = new C(u)
              , c = 0
              , l = 0
              , f = new S;
            return i.onNext(M(f, s)),
            o(0),
            u.add(r.subscribe(function(t) {
                var e = 0
                  , r = !1;
                f.onNext(t),
                ++c === n && (r = !0,
                c = 0,
                e = ++l,
                f.onCompleted(),
                f = new S,
                i.onNext(M(f, s))),
                r && o(e)
            }
            , function(t) {
                f.onError(t),
                i.onError(t)
            }
            , function() {
                f.onCompleted(),
                i.onCompleted()
            }
            )),
            s
        }
        ,r)
    }
    ,
    m.bufferWithTime = function() {
        return this.windowWithTime.apply(this, arguments).selectMany(function(t) {
            return t.toArray()
        }
        )
    }
    ,
    m.bufferWithTimeOrCount = function(t, n, e) {
        return this.windowWithTimeOrCount(t, n, e).selectMany(function(t) {
            return t.toArray()
        }
        )
    }
    ,
    m.timeInterval = function(t) {
        var n = this;
        return N(t) || (t = w),
        g(function() {
            var e = t.now();
            return n.map(function(n) {
                var r = t.now()
                  , i = r - e;
                return e = r,
                {
                    value: n,
                    interval: i
                }
            }
            )
        }
        )
    }
    ,
    m.timestamp = function(t) {
        return N(t) || (t = w),
        this.map(function(n) {
            return {
                value: n,
                timestamp: t.now()
            }
        }
        )
    }
    ,
    m.sample = m.throttleLatest = function(t, n) {
        return N(n) || (n = w),
        "number" == typeof t ? d(this, O(t, n)) : d(this, t)
    }
    ,
    m.timeout = function(t, n, e) {
        (null  == n || "string" == typeof n) && (n = y(new Error(n || "Timeout"))),
        N(e) || (e = w);
        var r = this
          , i = t instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
        return new v(function(o) {
            function a() {
                var r = u;
                f.setDisposable(e[i](t, function() {
                    u === r && (P(n) && (n = D(n)),
                    c.setDisposable(n.subscribe(o)))
                }
                ))
            }
            var u = 0
              , s = new x
              , c = new E
              , l = !1
              , f = new E;
            return c.setDisposable(s),
            a(),
            s.setDisposable(r.subscribe(function(t) {
                l || (u++,
                o.onNext(t),
                a())
            }
            , function(t) {
                l || (u++,
                o.onError(t))
            }
            , function() {
                l || (u++,
                o.onCompleted())
            }
            )),
            new _(c,f)
        }
        ,r)
    }
    ,
    h.generateWithAbsoluteTime = function(t, n, e, r, i, o) {
        return N(o) || (o = w),
        new v(function(a) {
            var u, s, c = !0, l = !1, f = t;
            return o.scheduleRecursiveWithAbsolute(o.now(), function(t) {
                l && a.onNext(u);
                try {
                    c ? c = !1 : f = e(f),
                    l = n(f),
                    l && (u = r(f),
                    s = i(f))
                } catch (o) {
                    return void a.onError(o)
                }
                l ? t(s) : a.onCompleted()
            }
            )
        }
        )
    }
    ,
    h.generateWithRelativeTime = function(t, n, e, r, i, o) {
        return N(o) || (o = w),
        new v(function(a) {
            var u, s, c = !0, l = !1, f = t;
            return o.scheduleRecursiveWithRelative(0, function(t) {
                l && a.onNext(u);
                try {
                    c ? c = !1 : f = e(f),
                    l = n(f),
                    l && (u = r(f),
                    s = i(f))
                } catch (o) {
                    return void a.onError(o)
                }
                l ? t(s) : a.onCompleted()
            }
            )
        }
        )
    }
    ,
    m.delaySubscription = function(t, n) {
        var e = t instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative"
          , r = this;
        return N(n) || (n = w),
        new v(function(i) {
            var o = new E;
            return o.setDisposable(n[e](t, function() {
                o.setDisposable(r.subscribe(i))
            }
            )),
            o
        }
        ,this)
    }
    ,
    m.delayWithSelector = function(t, n) {
        var e, r, i = this;
        return T(t) ? r = t : (e = t,
        r = n),
        new v(function(t) {
            function n() {
                c.setDisposable(i.subscribe(function(n) {
                    var e = o(r)(n);
                    if (e === j)
                        return t.onError(e.e);
                    var i = new x;
                    u.add(i),
                    i.setDisposable(e.subscribe(function() {
                        t.onNext(n),
                        u.remove(i),
                        a()
                    }
                    , function(n) {
                        t.onError(n)
                    }
                    , function() {
                        t.onNext(n),
                        u.remove(i),
                        a()
                    }
                    ))
                }
                , function(n) {
                    t.onError(n)
                }
                , function() {
                    s = !0,
                    c.dispose(),
                    a()
                }
                ))
            }
            function a() {
                s && 0 === u.length && t.onCompleted()
            }
            var u = new _
              , s = !1
              , c = new E;
            return e ? c.setDisposable(e.subscribe(n, function(n) {
                t.onError(n)
            }
            , n)) : n(),
            new _(c,u)
        }
        ,this)
    }
    ,
    m.timeoutWithSelector = function(t, n, e) {
        1 === arguments.length && (n = t,
        t = b()),
        e || (e = y(new Error("Timeout")));
        var r = this;
        return new v(function(i) {
            function o(t) {
                function n() {
                    return l === r
                }
                var r = l
                  , o = new x;
                s.setDisposable(o),
                o.setDisposable(t.subscribe(function() {
                    n() && u.setDisposable(e.subscribe(i)),
                    o.dispose()
                }
                , function(t) {
                    n() && i.onError(t)
                }
                , function() {
                    n() && u.setDisposable(e.subscribe(i))
                }
                ))
            }
            function a() {
                var t = !f;
                return t && l++,
                t
            }
            var u = new E
              , s = new E
              , c = new x;
            u.setDisposable(c);
            var l = 0
              , f = !1;
            return o(t),
            c.setDisposable(r.subscribe(function(t) {
                if (a()) {
                    i.onNext(t);
                    var e;
                    try {
                        e = n(t)
                    } catch (r) {
                        return void i.onError(r)
                    }
                    o(P(e) ? D(e) : e)
                }
            }
            , function(t) {
                a() && i.onError(t)
            }
            , function() {
                a() && i.onCompleted()
            }
            )),
            new _(u,s)
        }
        ,r)
    }
    ,
    m.debounceWithSelector = function(t) {
        var n = this;
        return new v(function(e) {
            var r, i = !1, o = new E, a = 0, u = n.subscribe(function(n) {
                var u;
                try {
                    u = t(n)
                } catch (s) {
                    return void e.onError(s)
                }
                P(u) && (u = D(u)),
                i = !0,
                r = n,
                a++;
                var c = a
                  , l = new x;
                o.setDisposable(l),
                l.setDisposable(u.subscribe(function() {
                    i && a === c && e.onNext(r),
                    i = !1,
                    l.dispose()
                }
                , e.onError.bind(e), function() {
                    i && a === c && e.onNext(r),
                    i = !1,
                    l.dispose()
                }
                ))
            }
            , function(t) {
                o.dispose(),
                e.onError(t),
                i = !1,
                a++
            }
            , function() {
                o.dispose(),
                i && e.onNext(r),
                e.onCompleted(),
                i = !1,
                a++
            }
            );
            return new _(u,o)
        }
        ,n)
    }
    ,
    m.throttleWithSelector = function(t) {
        return this.debounceWithSelector(t)
    }
    ,
    m.skipLastWithTime = function(t, n) {
        N(n) || (n = w);
        var e = this;
        return new v(function(r) {
            var i = [];
            return e.subscribe(function(e) {
                var o = n.now();
                for (i.push({
                    interval: o,
                    value: e
                }); i.length > 0 && o - i[0].interval >= t; )
                    r.onNext(i.shift().value)
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                for (var e = n.now(); i.length > 0 && e - i[0].interval >= t; )
                    r.onNext(i.shift().value);
                r.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    m.takeLastWithTime = function(t, n) {
        var e = this;
        return N(n) || (n = w),
        new v(function(r) {
            var i = [];
            return e.subscribe(function(e) {
                var r = n.now();
                for (i.push({
                    interval: r,
                    value: e
                }); i.length > 0 && r - i[0].interval >= t; )
                    i.shift()
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                for (var e = n.now(); i.length > 0; ) {
                    var o = i.shift();
                    e - o.interval <= t && r.onNext(o.value)
                }
                r.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    m.takeLastBufferWithTime = function(t, n) {
        var e = this;
        return N(n) || (n = w),
        new v(function(r) {
            var i = [];
            return e.subscribe(function(e) {
                var r = n.now();
                for (i.push({
                    interval: r,
                    value: e
                }); i.length > 0 && r - i[0].interval >= t; )
                    i.shift()
            }
            , function(t) {
                r.onError(t)
            }
            , function() {
                for (var e = n.now(), o = []; i.length > 0; ) {
                    var a = i.shift();
                    e - a.interval <= t && o.push(a.value)
                }
                r.onNext(o),
                r.onCompleted()
            }
            )
        }
        ,e)
    }
    ,
    m.takeWithTime = function(t, n) {
        var e = this;
        return N(n) || (n = w),
        new v(function(r) {
            return new _(n.scheduleWithRelative(t, function() {
                r.onCompleted()
            }
            ),e.subscribe(r))
        }
        ,e)
    }
    ,
    m.skipWithTime = function(t, n) {
        var e = this;
        return N(n) || (n = w),
        new v(function(r) {
            var i = !1;
            return new _(n.scheduleWithRelative(t, function() {
                i = !0
            }
            ),e.subscribe(function(t) {
                i && r.onNext(t)
            }
            , r.onError.bind(r), r.onCompleted.bind(r)))
        }
        ,e)
    }
    ,
    m.skipUntilWithTime = function(t, n) {
        N(n) || (n = w);
        var e = this
          , r = t instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
        return new v(function(i) {
            var o = !1;
            return new _(n[r](t, function() {
                o = !0
            }
            ),e.subscribe(function(t) {
                o && i.onNext(t)
            }
            , function(t) {
                i.onError(t)
            }
            , function() {
                i.onCompleted()
            }
            ))
        }
        ,e)
    }
    ,
    m.takeUntilWithTime = function(t, n) {
        N(n) || (n = w);
        var e = this
          , r = t instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
        return new v(function(i) {
            return new _(n[r](t, function() {
                i.onCompleted()
            }
            ),e.subscribe(i))
        }
        ,e)
    }
    ,
    m.throttleFirst = function(t, n) {
        N(n) || (n = w);
        var e = +t || 0;
        if (0 >= e)
            throw new RangeError("windowDuration cannot be less or equal zero.");
        var r = this;
        return new v(function(t) {
            var i = 0;
            return r.subscribe(function(r) {
                var o = n.now();
                (0 === i || o - i >= e) && (i = o,
                t.onNext(r))
            }
            , function(n) {
                t.onError(n)
            }
            , function() {
                t.onCompleted()
            }
            )
        }
        ,r)
    }
    ,
    e
}
),
function(t) {
    var n = {
        "boolean": !1,
        "function": !0,
        object: !0,
        number: !1,
        string: !1,
        undefined: !1
    }
      , e = n[typeof window] && window || this
      , r = n[typeof exports] && exports && !exports.nodeType && exports
      , i = n[typeof module] && module && !module.nodeType && module
      , o = (i && i.exports === r && r,
    n[typeof global] && global);
    !o || o.global !== o && o.window !== o || (e = o),
    "function" == typeof define && define.amd ? define("rx.experimental", ["rx"], function(n, r) {
        return t(e, r, n)
    }
    ) : "object" == typeof module && module && module.exports === r ? module.exports = t(e, module.exports, require("./rx")) : e.Rx = t(e, {}, e.Rx)
}
.call(this, function(t, n, e, r) {
    function i(t, n) {
        return new v(function() {
            return new m(function() {
                return t() ? {
                    done: !1,
                    value: n
                } : {
                    done: !0,
                    value: r
                }
            }
            )
        }
        )
    }
    var o = e.Observable
      , a = o.prototype
      , u = e.AnonymousObservable
      , s = o.concat
      , c = o.defer
      , l = o.empty
      , f = e.Disposable.empty
      , d = e.CompositeDisposable
      , p = e.SerialDisposable
      , h = e.SingleAssignmentDisposable
      , m = e.internals.Enumerator
      , v = e.internals.Enumerable
      , g = v.of
      , b = e.Scheduler.immediate
      , y = e.Scheduler.currentThread
      , w = (Array.prototype.slice,
    e.AsyncSubject)
      , x = e.Observer
      , E = e.internals.inherits
      , _ = e.internals.bindCallback
      , C = e.internals.addProperties
      , S = e.helpers
      , M = S.noop
      , k = S.isPromise
      , A = e.Scheduler.isScheduler
      , P = o.fromPromise
      , T = "function" == typeof Symbol && Symbol.iterator || "_es6shim_iterator_";
    t.Set && "function" == typeof (new t.Set)["@@iterator"] && (T = "@@iterator"),
    e.doneEnumerator = {
        done: !0,
        value: r
    },
    e.helpers.isIterable = function(t) {
        return t[T] !== r
    }
    ,
    e.helpers.isArrayLike = function(t) {
        return t && t.length !== r
    }
    ,
    e.helpers.iterator = T,
    a.letBind = a.let = function(t) {
        return t(this)
    }
    ,
    o["if"] = o.ifThen = function(t, n, e) {
        return c(function() {
            return e || (e = l()),
            k(n) && (n = P(n)),
            k(e) && (e = P(e)),
            "function" == typeof e.now && (e = l(e)),
            t() ? n : e
        }
        )
    }
    ,
    o["for"] = o.forIn = function(t, n, e) {
        return g(t, n, e).concat()
    }
    ;
    var N = o["while"] = o.whileDo = function(t, n) {
        return k(n) && (n = P(n)),
        i(t, n).concat()
    }
    ;
    a.doWhile = function(t) {
        return s([this, N(t, this)])
    }
    ,
    o["case"] = o.switchCase = function(t, n, e) {
        return c(function() {
            k(e) && (e = P(e)),
            e || (e = l()),
            "function" == typeof e.now && (e = l(e));
            var r = n[t()];
            return k(r) && (r = P(r)),
            r || e
        }
        )
    }
    ,
    a.expand = function(t, n) {
        A(n) || (n = b);
        var e = this;
        return new u(function(r) {
            var i = []
              , o = new p
              , a = new d(o)
              , u = 0
              , s = !1
              , c = function() {
                var e = !1;
                i.length > 0 && (e = !s,
                s = !0),
                e && o.setDisposable(n.scheduleRecursive(function(n) {
                    var e;
                    if (!(i.length > 0))
                        return void (s = !1);
                    e = i.shift();
                    var o = new h;
                    a.add(o),
                    o.setDisposable(e.subscribe(function(n) {
                        r.onNext(n);
                        var e = null ;
                        try {
                            e = t(n)
                        } catch (o) {
                            r.onError(o)
                        }
                        i.push(e),
                        u++,
                        c()
                    }
                    , r.onError.bind(r), function() {
                        a.remove(o),
                        u--,
                        0 === u && r.onCompleted()
                    }
                    )),
                    n()
                }
                ))
            }
            ;
            return i.push(e),
            u++,
            c(),
            a
        }
        ,this)
    }
    ,
    o.forkJoin = function() {
        var t = [];
        if (Array.isArray(arguments[0]))
            t = arguments[0];
        else
            for (var n = 0, e = arguments.length; e > n; n++)
                t.push(arguments[n]);
        return new u(function(n) {
            var e = t.length;
            if (0 === e)
                return n.onCompleted(),
                f;
            for (var r = new d, i = !1, o = new Array(e), a = new Array(e), u = new Array(e), s = 0; e > s; s++)
                !function(s) {
                    var c = t[s];
                    k(c) && (c = P(c)),
                    r.add(c.subscribe(function(t) {
                        i || (o[s] = !0,
                        u[s] = t)
                    }
                    , function(t) {
                        i = !0,
                        n.onError(t),
                        r.dispose()
                    }
                    , function() {
                        if (!i) {
                            if (!o[s])
                                return void n.onCompleted();
                            a[s] = !0;
                            for (var t = 0; e > t; t++)
                                if (!a[t])
                                    return;
                            i = !0,
                            n.onNext(u),
                            n.onCompleted()
                        }
                    }
                    ))
                }
                (s);
            return r
        }
        )
    }
    ,
    a.forkJoin = function(t, n) {
        var e = this;
        return new u(function(r) {
            var i, o, a = !1, u = !1, s = !1, c = !1, l = new h, f = new h;
            return k(t) && (t = P(t)),
            l.setDisposable(e.subscribe(function(t) {
                s = !0,
                i = t
            }
            , function(t) {
                f.dispose(),
                r.onError(t)
            }
            , function() {
                if (a = !0,
                u)
                    if (s)
                        if (c) {
                            var t;
                            try {
                                t = n(i, o)
                            } catch (e) {
                                return void r.onError(e)
                            }
                            r.onNext(t),
                            r.onCompleted()
                        } else
                            r.onCompleted();
                    else
                        r.onCompleted()
            }
            )),
            f.setDisposable(t.subscribe(function(t) {
                c = !0,
                o = t
            }
            , function(t) {
                l.dispose(),
                r.onError(t)
            }
            , function() {
                if (u = !0,
                a)
                    if (s)
                        if (c) {
                            var t;
                            try {
                                t = n(i, o)
                            } catch (e) {
                                return void r.onError(e)
                            }
                            r.onNext(t),
                            r.onCompleted()
                        } else
                            r.onCompleted();
                    else
                        r.onCompleted()
            }
            )),
            new d(l,f)
        }
        ,e)
    }
    ,
    a.manySelect = function(t, n) {
        A(n) || (n = b);
        var e = this;
        return c(function() {
            var r;
            return e.map(function(t) {
                var n = new D(t);
                return r && r.onNext(t),
                r = n,
                n
            }
            ).tap(M, function(t) {
                r && r.onError(t)
            }
            , function() {
                r && r.onCompleted()
            }
            ).observeOn(n).map(t)
        }
        , e)
    }
    ;
    var D = function(t) {
        function n(t) {
            var n = this
              , e = new d;
            return e.add(y.schedule(function() {
                t.onNext(n.head),
                e.add(n.tail.mergeAll().subscribe(t))
            }
            )),
            e
        }
        function e(e) {
            t.call(this, n),
            this.head = e,
            this.tail = new w
        }
        return E(e, t),
        C(e.prototype, x, {
            onCompleted: function() {
                this.onNext(o.empty())
            },
            onError: function(t) {
                this.onNext(o.throwError(t))
            },
            onNext: function(t) {
                this.tail.onNext(t),
                this.tail.onCompleted()
            }
        }),
        e
    }
    (o);
    return a.exclusive = function() {
        var t = this;
        return new u(function(n) {
            var e = !1
              , r = !1
              , i = new h
              , o = new d;
            return o.add(i),
            i.setDisposable(t.subscribe(function(t) {
                if (!e) {
                    e = !0,
                    k(t) && (t = P(t));
                    var i = new h;
                    o.add(i),
                    i.setDisposable(t.subscribe(n.onNext.bind(n), n.onError.bind(n), function() {
                        o.remove(i),
                        e = !1,
                        r && 1 === o.length && n.onCompleted()
                    }
                    ))
                }
            }
            , n.onError.bind(n), function() {
                r = !0,
                e || 1 !== o.length || n.onCompleted()
            }
            )),
            o
        }
        ,this)
    }
    ,
    a.exclusiveMap = function(t, n) {
        var e = this
          , r = _(t, n, 3);
        return new u(function(t) {
            var n = 0
              , i = !1
              , o = !0
              , a = new h
              , u = new d;
            return u.add(a),
            a.setDisposable(e.subscribe(function(e) {
                i || (i = !0,
                innerSubscription = new h,
                u.add(innerSubscription),
                k(e) && (e = P(e)),
                innerSubscription.setDisposable(e.subscribe(function(i) {
                    var o;
                    try {
                        o = r(i, n++, e)
                    } catch (a) {
                        return void t.onError(a)
                    }
                    t.onNext(o)
                }
                , function(n) {
                    t.onError(n)
                }
                , function() {
                    u.remove(innerSubscription),
                    i = !1,
                    o && 1 === u.length && t.onCompleted()
                }
                )))
            }
            , function(n) {
                t.onError(n)
            }
            , function() {
                o = !0,
                1 !== u.length || i || t.onCompleted()
            }
            )),
            u
        }
        ,this)
    }
    ,
    e
}
),
define("scalejs.reactive/reactive", ["require", "rx", "rx.binding", "rx.time", "rx.experimental"], function(t, n) {
    "use strict";
    return n.Observable.fromRequire = function(e) {
        return n.Observable.create(function(n) {
            t(e, function() {
                n.onNext(arguments),
                n.onCompleted()
            }
            )
        }
        )
    }
    ,
    n.Observable.fromEnumerable = function(t) {
        return n.Observable.createWithDisposable(function(e) {
            var r = n.Disposable.create(function() {}
            )
              , i = t.GetEnumerator();
            return n.Scheduler.currentThread.scheduleRecursive(function(t) {
                try {
                    !r.isDisposed && i.MoveNext() ? (e.onNext(i.Current()),
                    t()) : (i.Dispose(),
                    e.onCompleted())
                } catch (n) {
                    i.Dispose(),
                    e.onError(n)
                }
            }
            ),
            r
        }
        )
    }
    ,
    n
}
),
define("scalejs.reactive/messageBus", ["scalejs!core", "rx", "rx.binding"], function(t, n) {
    "use strict";
    function e(t) {
        return s(c, t) || (c[t] = new n.Subject),
        c[t]
    }
    function r(t) {
        return s(l, t) || (l[t] = new n.BehaviorSubject),
        l[t]
    }
    function i(t, n) {
        var r = e(t);
        r.onNext(n)
    }
    function o(t, n, r) {
        var i = e(t);
        if (1 === arguments.length)
            return i.asObservable();
        if (2 === arguments.length)
            return i.subscribe(n);
        if (3 === arguments.length)
            return i.where(n).subscribe(r);
        throw {
            name: "Illegal Argument",
            message: arguments.length + " arguments have been provided. Valid arguments are subject (required), filter (optional), and receiver (optional)."
        }
    }
    function a(t, n) {
        var e = r(t);
        e.onNext(n)
    }
    function u(t, n, e) {
        var i = r(t);
        if (1 === arguments.length)
            return i.asObservable();
        if (2 === arguments.length)
            return i.subscribe(n);
        if (3 === arguments.length)
            return i.where(n).subscribe(e);
        throw {
            name: "Illegal Argument",
            message: arguments.length + " arguments have been provided. Valid arguments are subject (required), filter (optional), and receiver (optional)."
        }
    }
    var s = t.object.has
      , c = {}
      , l = {};
    return {
        notify: i,
        receive: o,
        set: a,
        get: u
    }
}
),
define("scalejs.reactive", ["scalejs!core", "./scalejs.reactive/reactive", "./scalejs.reactive/messageBus"], function(t, n, e) {
    "use strict";
    var r = t.object.merge;
    t.registerExtension({
        reactive: r(n, {
            messageBus: e
        })
    })
}
),
function(t, n) {
    "use strict";
    var e = t.History = t.History || {};
    if ("undefined" != typeof e.Adapter)
        throw new Error("History.js Adapter has already been loaded...");
    e.Adapter = {
        handlers: {},
        _uid: 1,
        uid: function(t) {
            return t._uid || (t._uid = e.Adapter._uid++)
        },
        bind: function(t, n, r) {
            var i = e.Adapter.uid(t);
            e.Adapter.handlers[i] = e.Adapter.handlers[i] || {},
            e.Adapter.handlers[i][n] = e.Adapter.handlers[i][n] || [],
            e.Adapter.handlers[i][n].push(r),
            t["on" + n] = function(t, n) {
                return function(r) {
                    e.Adapter.trigger(t, n, r)
                }
            }
            (t, n)
        },
        trigger: function(t, n, r) {
            r = r || {};
            var i, o, a = e.Adapter.uid(t);
            for (e.Adapter.handlers[a] = e.Adapter.handlers[a] || {},
            e.Adapter.handlers[a][n] = e.Adapter.handlers[a][n] || [],
            i = 0,
            o = e.Adapter.handlers[a][n].length; o > i; ++i)
                e.Adapter.handlers[a][n][i].apply(this, [r])
        },
        extractEventData: function(t, e) {
            var r = e && e[t] || n;
            return r
        },
        onDomLoad: function(n) {
            var e = t.setTimeout(function() {
                n()
            }
            , 2e3);
            t.onload = function() {
                clearTimeout(e),
                n()
            }
        }
    },
    "undefined" != typeof e.init && e.init()
}
(window),
function(t, n) {
    "use strict";
    var e = t.console || n
      , r = t.document
      , i = t.navigator
      , o = t.sessionStorage || !1
      , a = t.setTimeout
      , u = t.clearTimeout
      , s = t.setInterval
      , c = t.clearInterval
      , l = t.JSON
      , f = t.alert
      , d = t.History = t.History || {}
      , p = t.history;
    try {
        o.setItem("TEST", "1"),
        o.removeItem("TEST")
    } catch (h) {
        o = !1
    }
    if (l.stringify = l.stringify || l.encode,
    l.parse = l.parse || l.decode,
    "undefined" != typeof d.init)
        throw new Error("History.js Core has already been loaded...");
    d.init = function(t) {
        return "undefined" == typeof d.Adapter ? !1 : ("undefined" != typeof d.initCore && d.initCore(),
        "undefined" != typeof d.initHtml4 && d.initHtml4(),
        !0)
    }
    ,
    d.initCore = function(h) {
        if ("undefined" != typeof d.initCore.initialized)
            return !1;
        if (d.initCore.initialized = !0,
        d.options = d.options || {},
        d.options.hashChangeInterval = d.options.hashChangeInterval || 100,
        d.options.safariPollInterval = d.options.safariPollInterval || 500,
        d.options.doubleCheckInterval = d.options.doubleCheckInterval || 500,
        d.options.disableSuid = d.options.disableSuid || !1,
        d.options.storeInterval = d.options.storeInterval || 1e3,
        d.options.busyDelay = d.options.busyDelay || 250,
        d.options.debug = d.options.debug || !1,
        d.options.initialTitle = d.options.initialTitle || r.title,
        d.options.html4Mode = d.options.html4Mode || !1,
        d.options.delayInit = d.options.delayInit || !1,
        d.intervalList = [],
        d.clearAllIntervals = function() {
            var t, n = d.intervalList;
            if ("undefined" != typeof n && null  !== n) {
                for (t = 0; t < n.length; t++)
                    c(n[t]);
                d.intervalList = null 
            }
        }
        ,
        d.debug = function() {
            d.options.debug && d.log.apply(d, arguments)
        }
        ,
        d.log = function() {
            var t, n, i, o, a, u = !("undefined" == typeof e || "undefined" == typeof e.log || "undefined" == typeof e.log.apply), s = r.getElementById("log");
            for (u ? (o = Array.prototype.slice.call(arguments),
            t = o.shift(),
            "undefined" != typeof e.debug ? e.debug.apply(e, [t, o]) : e.log.apply(e, [t, o])) : t = "\n" + arguments[0] + "\n",
            n = 1,
            i = arguments.length; i > n; ++n) {
                if (a = arguments[n],
                "object" == typeof a && "undefined" != typeof l)
                    try {
                        a = l.stringify(a)
                    } catch (c) {}
                t += "\n" + a + "\n"
            }
            return s ? (s.value += t + "\n-----\n",
            s.scrollTop = s.scrollHeight - s.clientHeight) : u || f(t),
            !0
        }
        ,
        d.getInternetExplorerMajorVersion = function() {
            var t = d.getInternetExplorerMajorVersion.cached = "undefined" != typeof d.getInternetExplorerMajorVersion.cached ? d.getInternetExplorerMajorVersion.cached : function() {
                for (var t = 3, n = r.createElement("div"), e = n.getElementsByTagName("i"); (n.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->") && e[0]; )
                    ;
                return t > 4 ? t : !1
            }
            ();
            return t
        }
        ,
        d.isInternetExplorer = function() {
            var t = d.isInternetExplorer.cached = "undefined" != typeof d.isInternetExplorer.cached ? d.isInternetExplorer.cached : Boolean(d.getInternetExplorerMajorVersion());
            return t
        }
        ,
        d.options.html4Mode ? d.emulated = {
            pushState: !0,
            hashChange: !0
        } : d.emulated = {
            pushState: !Boolean(t.history && t.history.pushState && t.history.replaceState && !(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent) || /AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent))),
            hashChange: Boolean(!("onhashchange" in t || "onhashchange" in r) || d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 8)
        },
        d.enabled = !d.emulated.pushState,
        d.bugs = {
            setHash: Boolean(!d.emulated.pushState && "Apple Computer, Inc." === i.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),
            safariPoll: Boolean(!d.emulated.pushState && "Apple Computer, Inc." === i.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),
            ieDoubleCheck: Boolean(d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 8),
            hashEscape: Boolean(d.isInternetExplorer() && d.getInternetExplorerMajorVersion() < 7)
        },
        d.isEmptyObject = function(t) {
            for (var n in t)
                if (t.hasOwnProperty(n))
                    return !1;
            return !0
        }
        ,
        d.cloneObject = function(t) {
            var n, e;
            return t ? (n = l.stringify(t),
            e = l.parse(n)) : e = {},
            e
        }
        ,
        d.getRootUrl = function() {
            var t = r.location.protocol + "//" + (r.location.hostname || r.location.host);
            return r.location.port && (t += ":" + r.location.port),
            t += "/"
        }
        ,
        d.getBaseHref = function() {
            var t = r.getElementsByTagName("base")
              , n = null 
              , e = "";
            return 1 === t.length && (n = t[0],
            e = n.href.replace(/[^\/]+$/, "")),
            e = e.replace(/\/+$/, ""),
            e && (e += "/"),
            e
        }
        ,
        d.getBaseUrl = function() {
            var t = d.getBaseHref() || d.getBasePageUrl() || d.getRootUrl();
            return t
        }
        ,
        d.getPageUrl = function() {
            var t, n = d.getState(!1, !1), e = (n || {}).url || d.getLocationHref();
            return t = e.replace(/\/+$/, "").replace(/[^\/]+$/, function(t, n, e) {
                return /\./.test(t) ? t : t + "/"
            }
            )
        }
        ,
        d.getBasePageUrl = function() {
            var t = d.getLocationHref().replace(/[#\?].*/, "").replace(/[^\/]+$/, function(t, n, e) {
                return /[^\/]$/.test(t) ? "" : t
            }
            ).replace(/\/+$/, "") + "/";
            return t
        }
        ,
        d.getFullUrl = function(t, n) {
            var e = t
              , r = t.substring(0, 1);
            return n = "undefined" == typeof n ? !0 : n,
            /[a-z]+\:\/\//.test(t) || (e = "/" === r ? d.getRootUrl() + t.replace(/^\/+/, "") : "#" === r ? d.getPageUrl().replace(/#.*/, "") + t : "?" === r ? d.getPageUrl().replace(/[\?#].*/, "") + t : n ? d.getBaseUrl() + t.replace(/^(\.\/)+/, "") : d.getBasePageUrl() + t.replace(/^(\.\/)+/, "")),
            e.replace(/\#$/, "")
        }
        ,
        d.getShortUrl = function(t) {
            var n = t
              , e = d.getBaseUrl()
              , r = d.getRootUrl();
            return d.emulated.pushState && (n = n.replace(e, "")),
            n = n.replace(r, "/"),
            d.isTraditionalAnchor(n) && (n = "./" + n),
            n = n.replace(/^(\.\/)+/g, "./").replace(/\#$/, "")
        }
        ,
        d.getLocationHref = function(t) {
            return t = t || r,
            t.URL === t.location.href ? t.location.href : t.location.href === decodeURIComponent(t.URL) ? t.URL : t.location.hash && decodeURIComponent(t.location.href.replace(/^[^#]+/, "")) === t.location.hash ? t.location.href : -1 == t.URL.indexOf("#") && -1 != t.location.href.indexOf("#") ? t.location.href : t.URL || t.location.href
        }
        ,
        d.store = {},
        d.idToState = d.idToState || {},
        d.stateToId = d.stateToId || {},
        d.urlToId = d.urlToId || {},
        d.storedStates = d.storedStates || [],
        d.savedStates = d.savedStates || [],
        d.normalizeStore = function() {
            d.store.idToState = d.store.idToState || {},
            d.store.urlToId = d.store.urlToId || {},
            d.store.stateToId = d.store.stateToId || {}
        }
        ,
        d.getState = function(t, n) {
            "undefined" == typeof t && (t = !0),
            "undefined" == typeof n && (n = !0);
            var e = d.getLastSavedState();
            return !e && n && (e = d.createStateObject()),
            t && (e = d.cloneObject(e),
            e.url = e.cleanUrl || e.url),
            e
        }
        ,
        d.getIdByState = function(t) {
            var n, e = d.extractId(t.url);
            if (!e)
                if (n = d.getStateString(t),
                "undefined" != typeof d.stateToId[n])
                    e = d.stateToId[n];
                else if ("undefined" != typeof d.store.stateToId[n])
                    e = d.store.stateToId[n];
                else {
                    for (; ; )
                        if (e = (new Date).getTime() + String(Math.random()).replace(/\D/g, ""),
                        "undefined" == typeof d.idToState[e] && "undefined" == typeof d.store.idToState[e])
                            break;
                    d.stateToId[n] = e,
                    d.idToState[e] = t
                }
            return e
        }
        ,
        d.normalizeState = function(t) {
            var n, e;
            return t && "object" == typeof t || (t = {}),
            "undefined" != typeof t.normalized ? t : (t.data && "object" == typeof t.data || (t.data = {}),
            n = {},
            n.normalized = !0,
            n.title = t.title || "",
            n.url = d.getFullUrl(t.url ? t.url : d.getLocationHref()),
            n.hash = d.getShortUrl(n.url),
            n.data = d.cloneObject(t.data),
            n.id = d.getIdByState(n),
            n.cleanUrl = n.url.replace(/\??\&_suid.*/, ""),
            n.url = n.cleanUrl,
            e = !d.isEmptyObject(n.data),
            (n.title || e) && d.options.disableSuid !== !0 && (n.hash = d.getShortUrl(n.url).replace(/\??\&_suid.*/, ""),
            /\?/.test(n.hash) || (n.hash += "?"),
            n.hash += "&_suid=" + n.id),
            n.hashedUrl = d.getFullUrl(n.hash),
            (d.emulated.pushState || d.bugs.safariPoll) && d.hasUrlDuplicate(n) && (n.url = n.hashedUrl),
            n)
        }
        ,
        d.createStateObject = function(t, n, e) {
            var r = {
                data: t,
                title: n,
                url: e
            };
            return r = d.normalizeState(r)
        }
        ,
        d.getStateById = function(t) {
            t = String(t);
            var e = d.idToState[t] || d.store.idToState[t] || n;
            return e
        }
        ,
        d.getStateString = function(t) {
            var n, e, r;
            return n = d.normalizeState(t),
            e = {
                data: n.data,
                title: t.title,
                url: t.url
            },
            r = l.stringify(e)
        }
        ,
        d.getStateId = function(t) {
            var n, e;
            return n = d.normalizeState(t),
            e = n.id
        }
        ,
        d.getHashByState = function(t) {
            var n, e;
            return n = d.normalizeState(t),
            e = n.hash
        }
        ,
        d.extractId = function(t) {
            var n, e, r, i;
            return i = -1 != t.indexOf("#") ? t.split("#")[0] : t,
            e = /(.*)\&_suid=([0-9]+)$/.exec(i),
            r = e ? e[1] || t : t,
            n = e ? String(e[2] || "") : "",
            n || !1
        }
        ,
        d.isTraditionalAnchor = function(t) {
            var n = !/[\/\?\.]/.test(t);
            return n
        }
        ,
        d.extractState = function(t, n) {
            var e, r, i = null ;
            return n = n || !1,
            e = d.extractId(t),
            e && (i = d.getStateById(e)),
            i || (r = d.getFullUrl(t),
            e = d.getIdByUrl(r) || !1,
            e && (i = d.getStateById(e)),
            i || !n || d.isTraditionalAnchor(t) || (i = d.createStateObject(null , null , r))),
            i
        }
        ,
        d.getIdByUrl = function(t) {
            var e = d.urlToId[t] || d.store.urlToId[t] || n;
            return e
        }
        ,
        d.getLastSavedState = function() {
            return d.savedStates[d.savedStates.length - 1] || n
        }
        ,
        d.getLastStoredState = function() {
            return d.storedStates[d.storedStates.length - 1] || n
        }
        ,
        d.hasUrlDuplicate = function(t) {
            var n, e = !1;
            return n = d.extractState(t.url),
            e = n && n.id !== t.id
        }
        ,
        d.storeState = function(t) {
            return d.urlToId[t.url] = t.id,
            d.storedStates.push(d.cloneObject(t)),
            t
        }
        ,
        d.isLastSavedState = function(t) {
            var n, e, r, i = !1;
            return d.savedStates.length && (n = t.id,
            e = d.getLastSavedState(),
            r = e.id,
            i = n === r),
            i
        }
        ,
        d.saveState = function(t) {
            return d.isLastSavedState(t) ? !1 : (d.savedStates.push(d.cloneObject(t)),
            !0)
        }
        ,
        d.getStateByIndex = function(t) {
            var n = null ;
            return n = "undefined" == typeof t ? d.savedStates[d.savedStates.length - 1] : 0 > t ? d.savedStates[d.savedStates.length + t] : d.savedStates[t]
        }
        ,
        d.getCurrentIndex = function() {
            var t = null ;
            return t = d.savedStates.length < 1 ? 0 : d.savedStates.length - 1
        }
        ,
        d.getHash = function(t) {
            var n, e = d.getLocationHref(t);
            return n = d.getHashByUrl(e)
        }
        ,
        d.unescapeHash = function(t) {
            var n = d.normalizeHash(t);
            return n = decodeURIComponent(n)
        }
        ,
        d.normalizeHash = function(t) {
            var n = t.replace(/[^#]*#/, "").replace(/#.*/, "");
            return n
        }
        ,
        d.setHash = function(t, n) {
            var e, i;
            return n !== !1 && d.busy() ? (d.pushQueue({
                scope: d,
                callback: d.setHash,
                args: arguments,
                queue: n
            }),
            !1) : (d.busy(!0),
            e = d.extractState(t, !0),
            e && !d.emulated.pushState ? d.pushState(e.data, e.title, e.url, !1) : d.getHash() !== t && (d.bugs.setHash ? (i = d.getPageUrl(),
            d.pushState(null , null , i + "#" + t, !1)) : r.location.hash = t),
            d)
        }
        ,
        d.escapeHash = function(n) {
            var e = d.normalizeHash(n);
            return e = t.encodeURIComponent(e),
            d.bugs.hashEscape || (e = e.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?")),
            e
        }
        ,
        d.getHashByUrl = function(t) {
            var n = String(t).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
            return n = d.unescapeHash(n)
        }
        ,
        d.setTitle = function(t) {
            var n, e = t.title;
            e || (n = d.getStateByIndex(0),
            n && n.url === t.url && (e = n.title || d.options.initialTitle));
            try {
                r.getElementsByTagName("title")[0].innerHTML = e.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ")
            } catch (i) {}
            return r.title = e,
            d
        }
        ,
        d.queues = [],
        d.busy = function(t) {
            if ("undefined" != typeof t ? d.busy.flag = t : "undefined" == typeof d.busy.flag && (d.busy.flag = !1),
            !d.busy.flag) {
                u(d.busy.timeout);
                var n = function() {
                    var t, e, r;
                    if (!d.busy.flag)
                        for (t = d.queues.length - 1; t >= 0; --t)
                            e = d.queues[t],
                            0 !== e.length && (r = e.shift(),
                            d.fireQueueItem(r),
                            d.busy.timeout = a(n, d.options.busyDelay))
                }
                ;
                d.busy.timeout = a(n, d.options.busyDelay)
            }
            return d.busy.flag
        }
        ,
        d.busy.flag = !1,
        d.fireQueueItem = function(t) {
            return t.callback.apply(t.scope || d, t.args || [])
        }
        ,
        d.pushQueue = function(t) {
            return d.queues[t.queue || 0] = d.queues[t.queue || 0] || [],
            d.queues[t.queue || 0].push(t),
            d
        }
        ,
        d.queue = function(t, n) {
            return "function" == typeof t && (t = {
                callback: t
            }),
            "undefined" != typeof n && (t.queue = n),
            d.busy() ? d.pushQueue(t) : d.fireQueueItem(t),
            d
        }
        ,
        d.clearQueue = function() {
            return d.busy.flag = !1,
            d.queues = [],
            d
        }
        ,
        d.stateChanged = !1,
        d.doubleChecker = !1,
        d.doubleCheckComplete = function() {
            return d.stateChanged = !0,
            d.doubleCheckClear(),
            d
        }
        ,
        d.doubleCheckClear = function() {
            return d.doubleChecker && (u(d.doubleChecker),
            d.doubleChecker = !1),
            d
        }
        ,
        d.doubleCheck = function(t) {
            return d.stateChanged = !1,
            d.doubleCheckClear(),
            d.bugs.ieDoubleCheck && (d.doubleChecker = a(function() {
                return d.doubleCheckClear(),
                d.stateChanged || t(),
                !0
            }
            , d.options.doubleCheckInterval)),
            d
        }
        ,
        d.safariStatePoll = function() {
            var n, e = d.extractState(d.getLocationHref());
            if (!d.isLastSavedState(e))
                return n = e,
                n || (n = d.createStateObject()),
                d.Adapter.trigger(t, "popstate"),
                d
        }
        ,
        d.back = function(t) {
            return t !== !1 && d.busy() ? (d.pushQueue({
                scope: d,
                callback: d.back,
                args: arguments,
                queue: t
            }),
            !1) : (d.busy(!0),
            d.doubleCheck(function() {
                d.back(!1)
            }
            ),
            p.go(-1),
            !0)
        }
        ,
        d.forward = function(t) {
            return t !== !1 && d.busy() ? (d.pushQueue({
                scope: d,
                callback: d.forward,
                args: arguments,
                queue: t
            }),
            !1) : (d.busy(!0),
            d.doubleCheck(function() {
                d.forward(!1)
            }
            ),
            p.go(1),
            !0)
        }
        ,
        d.go = function(t, n) {
            var e;
            if (t > 0)
                for (e = 1; t >= e; ++e)
                    d.forward(n);
            else {
                if (!(0 > t))
                    throw new Error("History.go: History.go requires a positive or negative integer passed.");
                for (e = -1; e >= t; --e)
                    d.back(n)
            }
            return d
        }
        ,
        d.emulated.pushState) {
            var m = function() {}
            ;
            d.pushState = d.pushState || m,
            d.replaceState = d.replaceState || m
        } else
            d.onPopState = function(n, e) {
                var r, i, o = !1, a = !1;
                return d.doubleCheckComplete(),
                (r = d.getHash()) ? (i = d.extractState(r || d.getLocationHref(), !0),
                i ? d.replaceState(i.data, i.title, i.url, !1) : (d.Adapter.trigger(t, "anchorchange"),
                d.busy(!1)),
                d.expectedStateId = !1,
                !1) : (o = d.Adapter.extractEventData("state", n, e) || !1,
                a = o ? d.getStateById(o) : d.expectedStateId ? d.getStateById(d.expectedStateId) : d.extractState(d.getLocationHref()),
                a || (a = d.createStateObject(null , null , d.getLocationHref())),
                d.expectedStateId = !1,
                d.isLastSavedState(a) ? (d.busy(!1),
                !1) : (d.storeState(a),
                d.saveState(a),
                d.setTitle(a),
                d.Adapter.trigger(t, "statechange"),
                d.busy(!1),
                !0))
            }
            ,
            d.Adapter.bind(t, "popstate", d.onPopState),
            d.pushState = function(n, e, r, i) {
                if (d.getHashByUrl(r) && d.emulated.pushState)
                    throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (i !== !1 && d.busy())
                    return d.pushQueue({
                        scope: d,
                        callback: d.pushState,
                        args: arguments,
                        queue: i
                    }),
                    !1;
                d.busy(!0);
                var o = d.createStateObject(n, e, r);
                return d.isLastSavedState(o) ? d.busy(!1) : (d.storeState(o),
                d.expectedStateId = o.id,
                p.pushState(o.id, o.title, o.url),
                d.Adapter.trigger(t, "popstate")),
                !0
            }
            ,
            d.replaceState = function(n, e, r, i) {
                if (d.getHashByUrl(r) && d.emulated.pushState)
                    throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (i !== !1 && d.busy())
                    return d.pushQueue({
                        scope: d,
                        callback: d.replaceState,
                        args: arguments,
                        queue: i
                    }),
                    !1;
                d.busy(!0);
                var o = d.createStateObject(n, e, r);
                return d.isLastSavedState(o) ? d.busy(!1) : (d.storeState(o),
                d.expectedStateId = o.id,
                p.replaceState(o.id, o.title, o.url),
                d.Adapter.trigger(t, "popstate")),
                !0
            }
            ;
        if (o) {
            try {
                d.store = l.parse(o.getItem("History.store")) || {}
            } catch (v) {
                d.store = {}
            }
            d.normalizeStore()
        } else
            d.store = {},
            d.normalizeStore();
        d.Adapter.bind(t, "unload", d.clearAllIntervals),
        d.saveState(d.storeState(d.extractState(d.getLocationHref(), !0))),
        o && (d.onUnload = function() {
            var t, n, e;
            try {
                t = l.parse(o.getItem("History.store")) || {}
            } catch (r) {
                t = {}
            }
            t.idToState = t.idToState || {},
            t.urlToId = t.urlToId || {},
            t.stateToId = t.stateToId || {};
            for (n in d.idToState)
                d.idToState.hasOwnProperty(n) && (t.idToState[n] = d.idToState[n]);
            for (n in d.urlToId)
                d.urlToId.hasOwnProperty(n) && (t.urlToId[n] = d.urlToId[n]);
            for (n in d.stateToId)
                d.stateToId.hasOwnProperty(n) && (t.stateToId[n] = d.stateToId[n]);
            d.store = t,
            d.normalizeStore(),
            e = l.stringify(t);
            try {
                o.setItem("History.store", e)
            } catch (i) {
                if (i.code !== DOMException.QUOTA_EXCEEDED_ERR)
                    throw i;
                o.length && (o.removeItem("History.store"),
                o.setItem("History.store", e))
            }
        }
        ,
        d.intervalList.push(s(d.onUnload, d.options.storeInterval)),
        d.Adapter.bind(t, "beforeunload", d.onUnload),
        d.Adapter.bind(t, "unload", d.onUnload)),
        d.emulated.pushState || (d.bugs.safariPoll && d.intervalList.push(s(d.safariStatePoll, d.options.safariPollInterval)),
        ("Apple Computer, Inc." === i.vendor || "Mozilla" === (i.appCodeName || "")) && (d.Adapter.bind(t, "hashchange", function() {
            d.Adapter.trigger(t, "popstate")
        }
        ),
        d.getHash() && d.Adapter.onDomLoad(function() {
            d.Adapter.trigger(t, "hashchange")
        }
        )))
    }
    ,
    d.options && d.options.delayInit || d.init()
}
(window),
define("history", function(t) {
    return function() {
        var n;
        return n || t.History
    }
}
(this)),
define("scalejs.routing-historyjs/history", ["scalejs!core", "history", "scalejs.reactive"], function(t, n) {
    "use strict";
    function e(t) {
        return n.pushState(t.data, t.title, t.url)
    }
    function r() {
        return n.getState()
    }
    function i(t) {
        return n.replaceState(t.data, t.title, t.url)
    }
    function o() {
        var e = t.reactive.Observable
          , i = t.reactive.Disposable;
        return e.createWithDisposable(function(t) {
            return n.Adapter.bind(window, "statechange", function() {
                t.onNext(r())
            }
            ),
            i.create(function() {
                window.onstatechange = null 
            }
            )
        }
        ).publishValue(r()).refCount()
    }
    return {
        add: e,
        get: r,
        replace: i,
        observe: o
    }
}
),
define("scalejs.routing-historyjs/routing", ["scalejs!core", "./history", "scalejs.statechart-scion", "scalejs.reactive"], function(t, n) {
    "use strict";
    function e() {
        return n.observe().select(a)
    }
    function r(t) {
        return "/" === t || "?" === t || "" === t
    }
    function i(t) {
        var n = "?" + t.path.join("/");
        return p(t.parameters) && (n += "?" + Object.keys(t.parameters).map(function(n) {
            return n + "=" + t.parameters[n]
        }
        ).join("&")),
        n
    }
    function o(t) {
        var n = t.replace("/?", "")
          , e = r(n) ? [[""]] : n.split("?").filter(function(t) {
            return "" !== t
        }
        ).map(function(t, n) {
            return 0 === n ? t.split("/") : t.split("&")
        }
        );
        return {
            path: e[0],
            parameters: p(e[1]) ? e[1].reduce(function(t, n) {
                var e = n.split("=");
                return t[e[0]] = e[1],
                t
            }
            , {}) : void 0
        }
    }
    function a(t) {
        var n = t.hash.replace(f, "")
          , e = o(n);
        return m(e, {
            url: i(e),
            timestamp: (new Date).getTime()
        })
    }
    function u(t) {
        return h(t, "string") ? t.replace("{", "").replace("}", "") : t
    }
    function s(t) {
        var n = o(t);
        return E(function(t) {
            var e;
            S[t.id] = n,
            e = g("routed", function(t) {
                return t.data.path[0] === n.path[0] ? (n.path.slice(1).forEach(function(n, e) {
                    t.data[u(n)] = t.data.path[e + 1]
                }
                ),
                t.data = m(t.data, t.data.parameters),
                !0) : !1
            }
            , b(t.id)),
            d ? _(d, e) : M.push(e)
        }
        )
    }
    function c(t) {
        k ? (k = !1,
        n.replace({
            url: i(t)
        })) : n.add({
            url: i(t)
        })
    }
    function l(n, r) {
        function i() {
            function t(t) {
                return t === n
            }
            var n;
            s.add(C().subscribe(function(t) {
                var n;
                p(S, t.state) && "entry" === t.event && (n = S[t.state],
                n.path = n.path.map(function(n) {
                    var e = n.match(/[^{}]+(?=\})/);
                    return p(e) ? t.currentEvent.data[e[0]] : n
                }
                ),
                p(n.parameters) && Object.keys(n.parameters).forEach(function(e) {
                    n.parameters[e] = t.currentEvent.data[u(n.parameters[e])]
                }
                ),
                c(n))
            }
            )),
            s.add(e().subscribe(function(e) {
                t(e.url) || (n = e.url,
                x("routed", {
                    path: e.path,
                    parameters: e.parameters
                }, 0))
            }
            ))
        }
        var o, a, s = new t.reactive.CompositeDisposable;
        return d = n,
        p(r, "baseUrl") ? (f = r.baseUrl,
        a = v(arguments).slice(2, arguments.length)) : a = v(arguments).slice(1, arguments.length),
        o = w.apply(null , [n, g("router.disposing", b("router.disposed")), w("router.waiting", y(i)), w("router.disposed", y(function() {
            s.dispose(),
            S = {},
            M = []
        }
        ))].concat(M).concat(a))
    }
    var f, d, p = t.object.has, h = t.type.is, m = t.object.merge, v = t.array.toArray, g = t.state.builder.on, b = t.state.builder.gotoInternally, y = t.state.builder.onEntry, w = t.state.builder.state, x = t.state.raise, E = t.functional.builder.$yield, _ = t.state.registerTransition, C = t.state.observe, S = {}, M = [], k = !0;
    return {
        route: s,
        routerState: l
    }
}
),
define("scalejs.routing-historyjs", ["scalejs!core", "./scalejs.routing-historyjs/routing"], function(t, n) {
    "use strict";
    t.registerExtension({
        routing: n
    })
}
),
!function() {
    function t(t) {
        return t && (t.ownerDocument || t.document || t).documentElement
    }
    function n(t) {
        return t && (t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView)
    }
    function e(t, n) {
        return n > t ? -1 : t > n ? 1 : t >= n ? 0 : NaN
    }
    function r(t) {
        return null  === t ? NaN : +t
    }
    function i(t) {
        return !isNaN(t)
    }
    function o(t) {
        return {
            left: function(n, e, r, i) {
                for (arguments.length < 3 && (r = 0),
                arguments.length < 4 && (i = n.length); i > r; ) {
                    var o = r + i >>> 1;
                    t(n[o], e) < 0 ? r = o + 1 : i = o
                }
                return r
            },
            right: function(n, e, r, i) {
                for (arguments.length < 3 && (r = 0),
                arguments.length < 4 && (i = n.length); i > r; ) {
                    var o = r + i >>> 1;
                    t(n[o], e) > 0 ? i = o : r = o + 1
                }
                return r
            }
        }
    }
    function a(t) {
        return t.length
    }
    function u(t) {
        for (var n = 1; t * n % 1; )
            n *= 10;
        return n
    }
    function s(t, n) {
        for (var e in n)
            Object.defineProperty(t.prototype, e, {
                value: n[e],
                enumerable: !1
            })
    }
    function c() {
        this._ = Object.create(null )
    }
    function l(t) {
        return (t += "") === ma || t[0] === va ? va + t : t
    }
    function f(t) {
        return (t += "")[0] === va ? t.slice(1) : t
    }
    function d(t) {
        return l(t) in this._
    }
    function p(t) {
        return (t = l(t)) in this._ && delete this._[t]
    }
    function h() {
        var t = [];
        for (var n in this._)
            t.push(f(n));
        return t
    }
    function m() {
        var t = 0;
        for (var n in this._)
            ++t;
        return t
    }
    function v() {
        for (var t in this._)
            return !1;
        return !0
    }
    function g() {
        this._ = Object.create(null )
    }
    function b(t) {
        return t
    }
    function y(t, n, e) {
        return function() {
            var r = e.apply(n, arguments);
            return r === n ? t : r
        }
    }
    function w(t, n) {
        if (n in t)
            return n;
        n = n.charAt(0).toUpperCase() + n.slice(1);
        for (var e = 0, r = ga.length; r > e; ++e) {
            var i = ga[e] + n;
            if (i in t)
                return i
        }
    }
    function x() {}
    function E() {}
    function _(t) {
        function n() {
            for (var n, r = e, i = -1, o = r.length; ++i < o; )
                (n = r[i].on) && n.apply(this, arguments);
            return t
        }
        var e = []
          , r = new c;
        return n.on = function(n, i) {
            var o, a = r.get(n);
            return arguments.length < 2 ? a && a.on : (a && (a.on = null ,
            e = e.slice(0, o = e.indexOf(a)).concat(e.slice(o + 1)),
            r.remove(n)),
            i && e.push(r.set(n, {
                on: i
            })),
            t)
        }
        ,
        n
    }
    function C() {
        ea.event.preventDefault()
    }
    function S() {
        for (var t, n = ea.event; t = n.sourceEvent; )
            n = t;
        return n
    }
    function M(t) {
        for (var n = new E, e = 0, r = arguments.length; ++e < r; )
            n[arguments[e]] = _(n);
        return n.of = function(e, r) {
            return function(i) {
                try {
                    var o = i.sourceEvent = ea.event;
                    i.target = t,
                    ea.event = i,
                    n[i.type].apply(e, r)
                } finally {
                    ea.event = o
                }
            }
        }
        ,
        n
    }
    function k(t) {
        return ya(t, _a),
        t
    }
    function A(t) {
        return "function" == typeof t ? t : function() {
            return wa(t, this)
        }
    }
    function P(t) {
        return "function" == typeof t ? t : function() {
            return xa(t, this)
        }
    }
    function T(t, n) {
        function e() {
            this.removeAttribute(t)
        }
        function r() {
            this.removeAttributeNS(t.space, t.local)
        }
        function i() {
            this.setAttribute(t, n)
        }
        function o() {
            this.setAttributeNS(t.space, t.local, n)
        }
        function a() {
            var e = n.apply(this, arguments);
            null  == e ? this.removeAttribute(t) : this.setAttribute(t, e)
        }
        function u() {
            var e = n.apply(this, arguments);
            null  == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e)
        }
        return t = ea.ns.qualify(t),
        null  == n ? t.local ? r : e : "function" == typeof n ? t.local ? u : a : t.local ? o : i
    }
    function N(t) {
        return t.trim().replace(/\s+/g, " ")
    }
    function D(t) {
        return new RegExp("(?:^|\\s+)" + ea.requote(t) + "(?:\\s+|$)","g")
    }
    function j(t) {
        return (t + "").trim().split(/^|\s+/)
    }
    function O(t, n) {
        function e() {
            for (var e = -1; ++e < i; )
                t[e](this, n)
        }
        function r() {
            for (var e = -1, r = n.apply(this, arguments); ++e < i; )
                t[e](this, r)
        }
        t = j(t).map(I);
        var i = t.length;
        return "function" == typeof n ? r : e
    }
    function I(t) {
        var n = D(t);
        return function(e, r) {
            if (i = e.classList)
                return r ? i.add(t) : i.remove(t);
            var i = e.getAttribute("class") || "";
            r ? (n.lastIndex = 0,
            n.test(i) || e.setAttribute("class", N(i + " " + t))) : e.setAttribute("class", N(i.replace(n, " ")))
        }
    }
    function R(t, n, e) {
        function r() {
            this.style.removeProperty(t)
        }
        function i() {
            this.style.setProperty(t, n, e)
        }
        function o() {
            var r = n.apply(this, arguments);
            null  == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, e)
        }
        return null  == n ? r : "function" == typeof n ? o : i
    }
    function L(t, n) {
        function e() {
            delete this[t]
        }
        function r() {
            this[t] = n
        }
        function i() {
            var e = n.apply(this, arguments);
            null  == e ? delete this[t] : this[t] = e
        }
        return null  == n ? e : "function" == typeof n ? i : r
    }
    function z(t) {
        function n() {
            var n = this.ownerDocument
              , e = this.namespaceURI;
            return e ? n.createElementNS(e, t) : n.createElement(t)
        }
        function e() {
            return this.ownerDocument.createElementNS(t.space, t.local)
        }
        return "function" == typeof t ? t : (t = ea.ns.qualify(t)).local ? e : n
    }
    function q() {
        var t = this.parentNode;
        t && t.removeChild(this)
    }
    function B(t) {
        return {
            __data__: t
        }
    }
    function W(t) {
        return function() {
            return Ea(this, t)
        }
    }
    function F(t) {
        return arguments.length || (t = e),
        function(n, e) {
            return n && e ? t(n.__data__, e.__data__) : !n - !e
        }
    }
    function H(t, n) {
        for (var e = 0, r = t.length; r > e; e++)
            for (var i, o = t[e], a = 0, u = o.length; u > a; a++)
                (i = o[a]) && n(i, a, e);
        return t
    }
    function V(t) {
        return ya(t, Sa),
        t
    }
    function U(t) {
        var n, e;
        return function(r, i, o) {
            var a, u = t[o].update, s = u.length;
            for (o != e && (e = o,
            n = 0),
            i >= n && (n = i + 1); !(a = u[n]) && ++n < s; )
                ;
            return a
        }
    }
    function Y(t, n, e) {
        function r() {
            var n = this[a];
            n && (this.removeEventListener(t, n, n.$),
            delete this[a])
        }
        function i() {
            var i = s(n, ia(arguments));
            r.call(this),
            this.addEventListener(t, this[a] = i, i.$ = e),
            i._ = n
        }
        function o() {
            var n, e = new RegExp("^__on([^.]+)" + ea.requote(t) + "$");
            for (var r in this)
                if (n = r.match(e)) {
                    var i = this[r];
                    this.removeEventListener(n[1], i, i.$),
                    delete this[r]
                }
        }
        var a = "__on" + t
          , u = t.indexOf(".")
          , s = X;
        u > 0 && (t = t.slice(0, u));
        var c = Ma.get(t);
        return c && (t = c,
        s = G),
        u ? n ? i : r : n ? x : o
    }
    function X(t, n) {
        return function(e) {
            var r = ea.event;
            ea.event = e,
            n[0] = this.__data__;
            try {
                t.apply(this, n)
            } finally {
                ea.event = r
            }
        }
    }
    function G(t, n) {
        var e = X(t, n);
        return function(t) {
            var n = this
              , r = t.relatedTarget;
            r && (r === n || 8 & r.compareDocumentPosition(n)) || e.call(n, t)
        }
    }
    function Q(e) {
        var r = ".dragsuppress-" + ++Aa
          , i = "click" + r
          , o = ea.select(n(e)).on("touchmove" + r, C).on("dragstart" + r, C).on("selectstart" + r, C);
        if (null  == ka && (ka = "onselectstart" in e ? !1 : w(e.style, "userSelect")),
        ka) {
            var a = t(e).style
              , u = a[ka];
            a[ka] = "none"
        }
        return function(t) {
            if (o.on(r, null ),
            ka && (a[ka] = u),
            t) {
                var n = function() {
                    o.on(i, null )
                }
                ;
                o.on(i, function() {
                    C(),
                    n()
                }
                , !0),
                setTimeout(n, 0)
            }
        }
    }
    function J(t, e) {
        e.changedTouches && (e = e.changedTouches[0]);
        var r = t.ownerSVGElement || t;
        if (r.createSVGPoint) {
            var i = r.createSVGPoint();
            if (0 > Pa) {
                var o = n(t);
                if (o.scrollX || o.scrollY) {
                    r = ea.select("body").append("svg").style({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        margin: 0,
                        padding: 0,
                        border: "none"
                    }, "important");
                    var a = r[0][0].getScreenCTM();
                    Pa = !(a.f || a.e),
                    r.remove()
                }
            }
            return Pa ? (i.x = e.pageX,
            i.y = e.pageY) : (i.x = e.clientX,
            i.y = e.clientY),
            i = i.matrixTransform(t.getScreenCTM().inverse()),
            [i.x, i.y]
        }
        var u = t.getBoundingClientRect();
        return [e.clientX - u.left - t.clientLeft, e.clientY - u.top - t.clientTop]
    }
    function K() {
        return ea.event.changedTouches[0].identifier
    }
    function Z(t) {
        return t > 0 ? 1 : 0 > t ? -1 : 0
    }
    function $(t, n, e) {
        return (n[0] - t[0]) * (e[1] - t[1]) - (n[1] - t[1]) * (e[0] - t[0])
    }
    function tt(t) {
        return t > 1 ? 0 : -1 > t ? Da : Math.acos(t)
    }
    function nt(t) {
        return t > 1 ? Ia : -1 > t ? -Ia : Math.asin(t)
    }
    function et(t) {
        return ((t = Math.exp(t)) - 1 / t) / 2
    }
    function rt(t) {
        return ((t = Math.exp(t)) + 1 / t) / 2
    }
    function it(t) {
        return ((t = Math.exp(2 * t)) - 1) / (t + 1)
    }
    function ot(t) {
        return (t = Math.sin(t / 2)) * t
    }
    function at() {}
    function ut(t, n, e) {
        return this instanceof ut ? (this.h = +t,
        this.s = +n,
        void (this.l = +e)) : arguments.length < 2 ? t instanceof ut ? new ut(t.h,t.s,t.l) : xt("" + t, Et, ut) : new ut(t,n,e)
    }
    function st(t, n, e) {
        function r(t) {
            return t > 360 ? t -= 360 : 0 > t && (t += 360),
            60 > t ? o + (a - o) * t / 60 : 180 > t ? a : 240 > t ? o + (a - o) * (240 - t) / 60 : o
        }
        function i(t) {
            return Math.round(255 * r(t))
        }
        var o, a;
        return t = isNaN(t) ? 0 : (t %= 360) < 0 ? t + 360 : t,
        n = isNaN(n) ? 0 : 0 > n ? 0 : n > 1 ? 1 : n,
        e = 0 > e ? 0 : e > 1 ? 1 : e,
        a = .5 >= e ? e * (1 + n) : e + n - e * n,
        o = 2 * e - a,
        new gt(i(t + 120),i(t),i(t - 120))
    }
    function ct(t, n, e) {
        return this instanceof ct ? (this.h = +t,
        this.c = +n,
        void (this.l = +e)) : arguments.length < 2 ? t instanceof ct ? new ct(t.h,t.c,t.l) : t instanceof ft ? pt(t.l, t.a, t.b) : pt((t = _t((t = ea.rgb(t)).r, t.g, t.b)).l, t.a, t.b) : new ct(t,n,e)
    }
    function lt(t, n, e) {
        return isNaN(t) && (t = 0),
        isNaN(n) && (n = 0),
        new ft(e,Math.cos(t *= Ra) * n,Math.sin(t) * n)
    }
    function ft(t, n, e) {
        return this instanceof ft ? (this.l = +t,
        this.a = +n,
        void (this.b = +e)) : arguments.length < 2 ? t instanceof ft ? new ft(t.l,t.a,t.b) : t instanceof ct ? lt(t.h, t.c, t.l) : _t((t = gt(t)).r, t.g, t.b) : new ft(t,n,e)
    }
    function dt(t, n, e) {
        var r = (t + 16) / 116
          , i = r + n / 500
          , o = r - e / 200;
        return i = ht(i) * Xa,
        r = ht(r) * Ga,
        o = ht(o) * Qa,
        new gt(vt(3.2404542 * i - 1.5371385 * r - .4985314 * o),vt(-.969266 * i + 1.8760108 * r + .041556 * o),vt(.0556434 * i - .2040259 * r + 1.0572252 * o))
    }
    function pt(t, n, e) {
        return t > 0 ? new ct(Math.atan2(e, n) * La,Math.sqrt(n * n + e * e),t) : new ct(NaN,NaN,t)
    }
    function ht(t) {
        return t > .206893034 ? t * t * t : (t - 4 / 29) / 7.787037
    }
    function mt(t) {
        return t > .008856 ? Math.pow(t, 1 / 3) : 7.787037 * t + 4 / 29
    }
    function vt(t) {
        return Math.round(255 * (.00304 >= t ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055))
    }
    function gt(t, n, e) {
        return this instanceof gt ? (this.r = ~~t,
        this.g = ~~n,
        void (this.b = ~~e)) : arguments.length < 2 ? t instanceof gt ? new gt(t.r,t.g,t.b) : xt("" + t, gt, st) : new gt(t,n,e)
    }
    function bt(t) {
        return new gt(t >> 16,t >> 8 & 255,255 & t)
    }
    function yt(t) {
        return bt(t) + ""
    }
    function wt(t) {
        return 16 > t ? "0" + Math.max(0, t).toString(16) : Math.min(255, t).toString(16)
    }
    function xt(t, n, e) {
        t = t.toLowerCase();
        var r, i, o, a = 0, u = 0, s = 0;
        if (r = /([a-z]+)\((.*)\)/.exec(t))
            switch (i = r[2].split(","),
            r[1]) {
            case "hsl":
                return e(parseFloat(i[0]), parseFloat(i[1]) / 100, parseFloat(i[2]) / 100);
            case "rgb":
                return n(St(i[0]), St(i[1]), St(i[2]))
            }
        return (o = Za.get(t)) ? n(o.r, o.g, o.b) : (null  == t || "#" !== t.charAt(0) || isNaN(o = parseInt(t.slice(1), 16)) || (4 === t.length ? (a = (3840 & o) >> 4,
        a = a >> 4 | a,
        u = 240 & o,
        u = u >> 4 | u,
        s = 15 & o,
        s = s << 4 | s) : 7 === t.length && (a = (16711680 & o) >> 16,
        u = (65280 & o) >> 8,
        s = 255 & o)),
        n(a, u, s))
    }
    function Et(t, n, e) {
        var r, i, o = Math.min(t /= 255, n /= 255, e /= 255), a = Math.max(t, n, e), u = a - o, s = (a + o) / 2;
        return u ? (i = .5 > s ? u / (a + o) : u / (2 - a - o),
        r = t == a ? (n - e) / u + (e > n ? 6 : 0) : n == a ? (e - t) / u + 2 : (t - n) / u + 4,
        r *= 60) : (r = NaN,
        i = s > 0 && 1 > s ? 0 : r),
        new ut(r,i,s)
    }
    function _t(t, n, e) {
        t = Ct(t),
        n = Ct(n),
        e = Ct(e);
        var r = mt((.4124564 * t + .3575761 * n + .1804375 * e) / Xa)
          , i = mt((.2126729 * t + .7151522 * n + .072175 * e) / Ga)
          , o = mt((.0193339 * t + .119192 * n + .9503041 * e) / Qa);
        return ft(116 * i - 16, 500 * (r - i), 200 * (i - o))
    }
    function Ct(t) {
        return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
    }
    function St(t) {
        var n = parseFloat(t);
        return "%" === t.charAt(t.length - 1) ? Math.round(2.55 * n) : n
    }
    function Mt(t) {
        return "function" == typeof t ? t : function() {
            return t
        }
    }
    function kt(t) {
        return function(n, e, r) {
            return 2 === arguments.length && "function" == typeof e && (r = e,
            e = null ),
            At(n, e, t, r)
        }
    }
    function At(t, n, e, r) {
        function i() {
            var t, n = s.status;
            if (!n && Tt(s) || n >= 200 && 300 > n || 304 === n) {
                try {
                    t = e.call(o, s)
                } catch (r) {
                    return void a.error.call(o, r)
                }
                a.load.call(o, t)
            } else
                a.error.call(o, s)
        }
        var o = {}
          , a = ea.dispatch("beforesend", "progress", "load", "error")
          , u = {}
          , s = new XMLHttpRequest
          , c = null ;
        return !this.XDomainRequest || "withCredentials" in s || !/^(http(s)?:)?\/\//.test(t) || (s = new XDomainRequest),
        "onload" in s ? s.onload = s.onerror = i : s.onreadystatechange = function() {
            s.readyState > 3 && i()
        }
        ,
        s.onprogress = function(t) {
            var n = ea.event;
            ea.event = t;
            try {
                a.progress.call(o, s)
            } finally {
                ea.event = n
            }
        }
        ,
        o.header = function(t, n) {
            return t = (t + "").toLowerCase(),
            arguments.length < 2 ? u[t] : (null  == n ? delete u[t] : u[t] = n + "",
            o)
        }
        ,
        o.mimeType = function(t) {
            return arguments.length ? (n = null  == t ? null  : t + "",
            o) : n
        }
        ,
        o.responseType = function(t) {
            return arguments.length ? (c = t,
            o) : c
        }
        ,
        o.response = function(t) {
            return e = t,
            o
        }
        ,
        ["get", "post"].forEach(function(t) {
            o[t] = function() {
                return o.send.apply(o, [t].concat(ia(arguments)))
            }
        }
        ),
        o.send = function(e, r, i) {
            if (2 === arguments.length && "function" == typeof r && (i = r,
            r = null ),
            s.open(e, t, !0),
            null  == n || "accept" in u || (u.accept = n + ",*/*"),
            s.setRequestHeader)
                for (var l in u)
                    s.setRequestHeader(l, u[l]);
            return null  != n && s.overrideMimeType && s.overrideMimeType(n),
            null  != c && (s.responseType = c),
            null  != i && o.on("error", i).on("load", function(t) {
                i(null , t)
            }
            ),
            a.beforesend.call(o, s),
            s.send(null  == r ? null  : r),
            o
        }
        ,
        o.abort = function() {
            return s.abort(),
            o
        }
        ,
        ea.rebind(o, a, "on"),
        null  == r ? o : o.get(Pt(r))
    }
    function Pt(t) {
        return 1 === t.length ? function(n, e) {
            t(null  == n ? e : null )
        }
         : t
    }
    function Tt(t) {
        var n = t.responseType;
        return n && "text" !== n ? t.response : t.responseText
    }
    function Nt() {
        var t = Dt()
          , n = jt() - t;
        n > 24 ? (isFinite(n) && (clearTimeout(eu),
        eu = setTimeout(Nt, n)),
        nu = 0) : (nu = 1,
        iu(Nt))
    }
    function Dt() {
        var t = Date.now();
        for (ru = $a; ru; )
            t >= ru.t && (ru.f = ru.c(t - ru.t)),
            ru = ru.n;
        return t
    }
    function jt() {
        for (var t, n = $a, e = 1 / 0; n; )
            n.f ? n = t ? t.n = n.n : $a = n.n : (n.t < e && (e = n.t),
            n = (t = n).n);
        return tu = t,
        e
    }
    function Ot(t, n) {
        return n - (t ? Math.ceil(Math.log(t) / Math.LN10) : 1)
    }
    function It(t, n) {
        var e = Math.pow(10, 3 * ha(8 - n));
        return {
            scale: n > 8 ? function(t) {
                return t / e
            }
             : function(t) {
                return t * e
            }
            ,
            symbol: t
        }
    }
    function Rt(t) {
        var n = t.decimal
          , e = t.thousands
          , r = t.grouping
          , i = t.currency
          , o = r && e ? function(t, n) {
            for (var i = t.length, o = [], a = 0, u = r[0], s = 0; i > 0 && u > 0 && (s + u + 1 > n && (u = Math.max(1, n - s)),
            o.push(t.substring(i -= u, i + u)),
            !((s += u + 1) > n)); )
                u = r[a = (a + 1) % r.length];
            return o.reverse().join(e)
        }
         : b;
        return function(t) {
            var e = au.exec(t)
              , r = e[1] || " "
              , a = e[2] || ">"
              , u = e[3] || "-"
              , s = e[4] || ""
              , c = e[5]
              , l = +e[6]
              , f = e[7]
              , d = e[8]
              , p = e[9]
              , h = 1
              , m = ""
              , v = ""
              , g = !1
              , b = !0;
            switch (d && (d = +d.substring(1)),
            (c || "0" === r && "=" === a) && (c = r = "0",
            a = "="),
            p) {
            case "n":
                f = !0,
                p = "g";
                break;
            case "%":
                h = 100,
                v = "%",
                p = "f";
                break;
            case "p":
                h = 100,
                v = "%",
                p = "r";
                break;
            case "b":
            case "o":
            case "x":
            case "X":
                "#" === s && (m = "0" + p.toLowerCase());
            case "c":
                b = !1;
            case "d":
                g = !0,
                d = 0;
                break;
            case "s":
                h = -1,
                p = "r"
            }
            "$" === s && (m = i[0],
            v = i[1]),
            "r" != p || d || (p = "g"),
            null  != d && ("g" == p ? d = Math.max(1, Math.min(21, d)) : ("e" == p || "f" == p) && (d = Math.max(0, Math.min(20, d)))),
            p = uu.get(p) || Lt;
            var y = c && f;
            return function(t) {
                var e = v;
                if (g && t % 1)
                    return "";
                var i = 0 > t || 0 === t && 0 > 1 / t ? (t = -t,
                "-") : "-" === u ? "" : u;
                if (0 > h) {
                    var s = ea.formatPrefix(t, d);
                    t = s.scale(t),
                    e = s.symbol + v
                } else
                    t *= h;
                t = p(t, d);
                var w, x, E = t.lastIndexOf(".");
                if (0 > E) {
                    var _ = b ? t.lastIndexOf("e") : -1;
                    0 > _ ? (w = t,
                    x = "") : (w = t.substring(0, _),
                    x = t.substring(_))
                } else
                    w = t.substring(0, E),
                    x = n + t.substring(E + 1);
                !c && f && (w = o(w, 1 / 0));
                var C = m.length + w.length + x.length + (y ? 0 : i.length)
                  , S = l > C ? new Array(C = l - C + 1).join(r) : "";
                return y && (w = o(S + w, S.length ? l - x.length : 1 / 0)),
                i += m,
                t = w + x,
                ("<" === a ? i + t + S : ">" === a ? S + i + t : "^" === a ? S.substring(0, C >>= 1) + i + t + S.substring(C) : i + (y ? t : S + t)) + e
            }
        }
    }
    function Lt(t) {
        return t + ""
    }
    function zt() {
        this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
    }
    function qt(t, n, e) {
        function r(n) {
            var e = t(n)
              , r = o(e, 1);
            return r - n > n - e ? e : r
        }
        function i(e) {
            return n(e = t(new cu(e - 1)), 1),
            e
        }
        function o(t, e) {
            return n(t = new cu(+t), e),
            t
        }
        function a(t, r, o) {
            var a = i(t)
              , u = [];
            if (o > 1)
                for (; r > a; )
                    e(a) % o || u.push(new Date(+a)),
                    n(a, 1);
            else
                for (; r > a; )
                    u.push(new Date(+a)),
                    n(a, 1);
            return u
        }
        function u(t, n, e) {
            try {
                cu = zt;
                var r = new zt;
                return r._ = t,
                a(r, n, e)
            } finally {
                cu = Date
            }
        }
        t.floor = t,
        t.round = r,
        t.ceil = i,
        t.offset = o,
        t.range = a;
        var s = t.utc = Bt(t);
        return s.floor = s,
        s.round = Bt(r),
        s.ceil = Bt(i),
        s.offset = Bt(o),
        s.range = u,
        t
    }
    function Bt(t) {
        return function(n, e) {
            try {
                cu = zt;
                var r = new zt;
                return r._ = n,
                t(r, e)._
            } finally {
                cu = Date
            }
        }
    }
    function Wt(t) {
        function n(t) {
            function n(n) {
                for (var e, i, o, a = [], u = -1, s = 0; ++u < r; )
                    37 === t.charCodeAt(u) && (a.push(t.slice(s, u)),
                    null  != (i = fu[e = t.charAt(++u)]) && (e = t.charAt(++u)),
                    (o = A[e]) && (e = o(n, null  == i ? "e" === e ? " " : "0" : i)),
                    a.push(e),
                    s = u + 1);
                return a.push(t.slice(s, u)),
                a.join("")
            }
            var r = t.length;
            return n.parse = function(n) {
                var r = {
                    y: 1900,
                    m: 0,
                    d: 1,
                    H: 0,
                    M: 0,
                    S: 0,
                    L: 0,
                    Z: null 
                }
                  , i = e(r, t, n, 0);
                if (i != n.length)
                    return null ;
                "p" in r && (r.H = r.H % 12 + 12 * r.p);
                var o = null  != r.Z && cu !== zt
                  , a = new (o ? zt : cu);
                return "j" in r ? a.setFullYear(r.y, 0, r.j) : "w" in r && ("W" in r || "U" in r) ? (a.setFullYear(r.y, 0, 1),
                a.setFullYear(r.y, 0, "W" in r ? (r.w + 6) % 7 + 7 * r.W - (a.getDay() + 5) % 7 : r.w + 7 * r.U - (a.getDay() + 6) % 7)) : a.setFullYear(r.y, r.m, r.d),
                a.setHours(r.H + (r.Z / 100 | 0), r.M + r.Z % 100, r.S, r.L),
                o ? a._ : a
            }
            ,
            n.toString = function() {
                return t
            }
            ,
            n
        }
        function e(t, n, e, r) {
            for (var i, o, a, u = 0, s = n.length, c = e.length; s > u; ) {
                if (r >= c)
                    return -1;
                if (i = n.charCodeAt(u++),
                37 === i) {
                    if (a = n.charAt(u++),
                    o = P[a in fu ? n.charAt(u++) : a],
                    !o || (r = o(t, e, r)) < 0)
                        return -1
                } else if (i != e.charCodeAt(r++))
                    return -1
            }
            return r
        }
        function r(t, n, e) {
            E.lastIndex = 0;
            var r = E.exec(n.slice(e));
            return r ? (t.w = _.get(r[0].toLowerCase()),
            e + r[0].length) : -1
        }
        function i(t, n, e) {
            w.lastIndex = 0;
            var r = w.exec(n.slice(e));
            return r ? (t.w = x.get(r[0].toLowerCase()),
            e + r[0].length) : -1
        }
        function o(t, n, e) {
            M.lastIndex = 0;
            var r = M.exec(n.slice(e));
            return r ? (t.m = k.get(r[0].toLowerCase()),
            e + r[0].length) : -1
        }
        function a(t, n, e) {
            C.lastIndex = 0;
            var r = C.exec(n.slice(e));
            return r ? (t.m = S.get(r[0].toLowerCase()),
            e + r[0].length) : -1
        }
        function u(t, n, r) {
            return e(t, A.c.toString(), n, r)
        }
        function s(t, n, r) {
            return e(t, A.x.toString(), n, r)
        }
        function c(t, n, r) {
            return e(t, A.X.toString(), n, r)
        }
        function l(t, n, e) {
            var r = y.get(n.slice(e, e += 2).toLowerCase());
            return null  == r ? -1 : (t.p = r,
            e)
        }
        var f = t.dateTime
          , d = t.date
          , p = t.time
          , h = t.periods
          , m = t.days
          , v = t.shortDays
          , g = t.months
          , b = t.shortMonths;
        n.utc = function(t) {
            function e(t) {
                try {
                    cu = zt;
                    var n = new cu;
                    return n._ = t,
                    r(n)
                } finally {
                    cu = Date
                }
            }
            var r = n(t);
            return e.parse = function(t) {
                try {
                    cu = zt;
                    var n = r.parse(t);
                    return n && n._
                } finally {
                    cu = Date
                }
            }
            ,
            e.toString = r.toString,
            e
        }
        ,
        n.multi = n.utc.multi = sn;
        var y = ea.map()
          , w = Ht(m)
          , x = Vt(m)
          , E = Ht(v)
          , _ = Vt(v)
          , C = Ht(g)
          , S = Vt(g)
          , M = Ht(b)
          , k = Vt(b);
        h.forEach(function(t, n) {
            y.set(t.toLowerCase(), n)
        }
        );
        var A = {
            a: function(t) {
                return v[t.getDay()]
            },
            A: function(t) {
                return m[t.getDay()]
            },
            b: function(t) {
                return b[t.getMonth()]
            },
            B: function(t) {
                return g[t.getMonth()]
            },
            c: n(f),
            d: function(t, n) {
                return Ft(t.getDate(), n, 2)
            },
            e: function(t, n) {
                return Ft(t.getDate(), n, 2)
            },
            H: function(t, n) {
                return Ft(t.getHours(), n, 2)
            },
            I: function(t, n) {
                return Ft(t.getHours() % 12 || 12, n, 2)
            },
            j: function(t, n) {
                return Ft(1 + su.dayOfYear(t), n, 3)
            },
            L: function(t, n) {
                return Ft(t.getMilliseconds(), n, 3)
            },
            m: function(t, n) {
                return Ft(t.getMonth() + 1, n, 2)
            },
            M: function(t, n) {
                return Ft(t.getMinutes(), n, 2)
            },
            p: function(t) {
                return h[+(t.getHours() >= 12)]
            },
            S: function(t, n) {
                return Ft(t.getSeconds(), n, 2)
            },
            U: function(t, n) {
                return Ft(su.sundayOfYear(t), n, 2)
            },
            w: function(t) {
                return t.getDay()
            },
            W: function(t, n) {
                return Ft(su.mondayOfYear(t), n, 2)
            },
            x: n(d),
            X: n(p),
            y: function(t, n) {
                return Ft(t.getFullYear() % 100, n, 2)
            },
            Y: function(t, n) {
                return Ft(t.getFullYear() % 1e4, n, 4)
            },
            Z: an,
            "%": function() {
                return "%"
            }
        }
          , P = {
            a: r,
            A: i,
            b: o,
            B: a,
            c: u,
            d: $t,
            e: $t,
            H: nn,
            I: nn,
            j: tn,
            L: on,
            m: Zt,
            M: en,
            p: l,
            S: rn,
            U: Yt,
            w: Ut,
            W: Xt,
            x: s,
            X: c,
            y: Qt,
            Y: Gt,
            Z: Jt,
            "%": un
        };
        return n
    }
    function Ft(t, n, e) {
        var r = 0 > t ? "-" : ""
          , i = (r ? -t : t) + ""
          , o = i.length;
        return r + (e > o ? new Array(e - o + 1).join(n) + i : i)
    }
    function Ht(t) {
        return new RegExp("^(?:" + t.map(ea.requote).join("|") + ")","i")
    }
    function Vt(t) {
        for (var n = new c, e = -1, r = t.length; ++e < r; )
            n.set(t[e].toLowerCase(), e);
        return n
    }
    function Ut(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 1));
        return r ? (t.w = +r[0],
        e + r[0].length) : -1
    }
    function Yt(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e));
        return r ? (t.U = +r[0],
        e + r[0].length) : -1
    }
    function Xt(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e));
        return r ? (t.W = +r[0],
        e + r[0].length) : -1
    }
    function Gt(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 4));
        return r ? (t.y = +r[0],
        e + r[0].length) : -1
    }
    function Qt(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.y = Kt(+r[0]),
        e + r[0].length) : -1
    }
    function Jt(t, n, e) {
        return /^[+-]\d{4}$/.test(n = n.slice(e, e + 5)) ? (t.Z = -n,
        e + 5) : -1
    }
    function Kt(t) {
        return t + (t > 68 ? 1900 : 2e3)
    }
    function Zt(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.m = r[0] - 1,
        e + r[0].length) : -1
    }
    function $t(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.d = +r[0],
        e + r[0].length) : -1
    }
    function tn(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 3));
        return r ? (t.j = +r[0],
        e + r[0].length) : -1
    }
    function nn(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.H = +r[0],
        e + r[0].length) : -1
    }
    function en(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.M = +r[0],
        e + r[0].length) : -1
    }
    function rn(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 2));
        return r ? (t.S = +r[0],
        e + r[0].length) : -1
    }
    function on(t, n, e) {
        du.lastIndex = 0;
        var r = du.exec(n.slice(e, e + 3));
        return r ? (t.L = +r[0],
        e + r[0].length) : -1
    }
    function an(t) {
        var n = t.getTimezoneOffset()
          , e = n > 0 ? "-" : "+"
          , r = ha(n) / 60 | 0
          , i = ha(n) % 60;
        return e + Ft(r, "0", 2) + Ft(i, "0", 2)
    }
    function un(t, n, e) {
        pu.lastIndex = 0;
        var r = pu.exec(n.slice(e, e + 1));
        return r ? e + r[0].length : -1
    }
    function sn(t) {
        for (var n = t.length, e = -1; ++e < n; )
            t[e][0] = this(t[e][0]);
        return function(n) {
            for (var e = 0, r = t[e]; !r[1](n); )
                r = t[++e];
            return r[0](n)
        }
    }
    function cn() {}
    function ln(t, n, e) {
        var r = e.s = t + n
          , i = r - t
          , o = r - i;
        e.t = t - o + (n - i)
    }
    function fn(t, n) {
        t && gu.hasOwnProperty(t.type) && gu[t.type](t, n)
    }
    function dn(t, n, e) {
        var r, i = -1, o = t.length - e;
        for (n.lineStart(); ++i < o; )
            r = t[i],
            n.point(r[0], r[1], r[2]);
        n.lineEnd()
    }
    function pn(t, n) {
        var e = -1
          , r = t.length;
        for (n.polygonStart(); ++e < r; )
            dn(t[e], n, 1);
        n.polygonEnd()
    }
    function hn() {
        function t(t, n) {
            t *= Ra,
            n = n * Ra / 2 + Da / 4;
            var e = t - r
              , a = e >= 0 ? 1 : -1
              , u = a * e
              , s = Math.cos(n)
              , c = Math.sin(n)
              , l = o * c
              , f = i * s + l * Math.cos(u)
              , d = l * a * Math.sin(u);
            yu.add(Math.atan2(d, f)),
            r = t,
            i = s,
            o = c
        }
        var n, e, r, i, o;
        wu.point = function(a, u) {
            wu.point = t,
            r = (n = a) * Ra,
            i = Math.cos(u = (e = u) * Ra / 2 + Da / 4),
            o = Math.sin(u);
        }
        ,
        wu.lineEnd = function() {
            t(n, e)
        }
    }
    function mn(t) {
        var n = t[0]
          , e = t[1]
          , r = Math.cos(e);
        return [r * Math.cos(n), r * Math.sin(n), Math.sin(e)]
    }
    function vn(t, n) {
        return t[0] * n[0] + t[1] * n[1] + t[2] * n[2]
    }
    function gn(t, n) {
        return [t[1] * n[2] - t[2] * n[1], t[2] * n[0] - t[0] * n[2], t[0] * n[1] - t[1] * n[0]]
    }
    function bn(t, n) {
        t[0] += n[0],
        t[1] += n[1],
        t[2] += n[2]
    }
    function yn(t, n) {
        return [t[0] * n, t[1] * n, t[2] * n]
    }
    function wn(t) {
        var n = Math.sqrt(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]);
        t[0] /= n,
        t[1] /= n,
        t[2] /= n
    }
    function xn(t) {
        return [Math.atan2(t[1], t[0]), nt(t[2])]
    }
    function En(t, n) {
        return ha(t[0] - n[0]) < Ta && ha(t[1] - n[1]) < Ta
    }
    function _n(t, n) {
        t *= Ra;
        var e = Math.cos(n *= Ra);
        Cn(e * Math.cos(t), e * Math.sin(t), Math.sin(n))
    }
    function Cn(t, n, e) {
        ++xu,
        _u += (t - _u) / xu,
        Cu += (n - Cu) / xu,
        Su += (e - Su) / xu
    }
    function Sn() {
        function t(t, i) {
            t *= Ra;
            var o = Math.cos(i *= Ra)
              , a = o * Math.cos(t)
              , u = o * Math.sin(t)
              , s = Math.sin(i)
              , c = Math.atan2(Math.sqrt((c = e * s - r * u) * c + (c = r * a - n * s) * c + (c = n * u - e * a) * c), n * a + e * u + r * s);
            Eu += c,
            Mu += c * (n + (n = a)),
            ku += c * (e + (e = u)),
            Au += c * (r + (r = s)),
            Cn(n, e, r)
        }
        var n, e, r;
        Du.point = function(i, o) {
            i *= Ra;
            var a = Math.cos(o *= Ra);
            n = a * Math.cos(i),
            e = a * Math.sin(i),
            r = Math.sin(o),
            Du.point = t,
            Cn(n, e, r)
        }
    }
    function Mn() {
        Du.point = _n
    }
    function kn() {
        function t(t, n) {
            t *= Ra;
            var e = Math.cos(n *= Ra)
              , a = e * Math.cos(t)
              , u = e * Math.sin(t)
              , s = Math.sin(n)
              , c = i * s - o * u
              , l = o * a - r * s
              , f = r * u - i * a
              , d = Math.sqrt(c * c + l * l + f * f)
              , p = r * a + i * u + o * s
              , h = d && -tt(p) / d
              , m = Math.atan2(d, p);
            Pu += h * c,
            Tu += h * l,
            Nu += h * f,
            Eu += m,
            Mu += m * (r + (r = a)),
            ku += m * (i + (i = u)),
            Au += m * (o + (o = s)),
            Cn(r, i, o)
        }
        var n, e, r, i, o;
        Du.point = function(a, u) {
            n = a,
            e = u,
            Du.point = t,
            a *= Ra;
            var s = Math.cos(u *= Ra);
            r = s * Math.cos(a),
            i = s * Math.sin(a),
            o = Math.sin(u),
            Cn(r, i, o)
        }
        ,
        Du.lineEnd = function() {
            t(n, e),
            Du.lineEnd = Mn,
            Du.point = _n
        }
    }
    function An(t, n) {
        function e(e, r) {
            return e = t(e, r),
            n(e[0], e[1])
        }
        return t.invert && n.invert && (e.invert = function(e, r) {
            return e = n.invert(e, r),
            e && t.invert(e[0], e[1])
        }
        ),
        e
    }
    function Pn() {
        return !0
    }
    function Tn(t, n, e, r, i) {
        var o = []
          , a = [];
        if (t.forEach(function(t) {
            if (!((n = t.length - 1) <= 0)) {
                var n, e = t[0], r = t[n];
                if (En(e, r)) {
                    i.lineStart();
                    for (var u = 0; n > u; ++u)
                        i.point((e = t[u])[0], e[1]);
                    return void i.lineEnd()
                }
                var s = new Dn(e,t,null ,!0)
                  , c = new Dn(e,null ,s,!1);
                s.o = c,
                o.push(s),
                a.push(c),
                s = new Dn(r,t,null ,!1),
                c = new Dn(r,null ,s,!0),
                s.o = c,
                o.push(s),
                a.push(c)
            }
        }
        ),
        a.sort(n),
        Nn(o),
        Nn(a),
        o.length) {
            for (var u = 0, s = e, c = a.length; c > u; ++u)
                a[u].e = s = !s;
            for (var l, f, d = o[0]; ; ) {
                for (var p = d, h = !0; p.v; )
                    if ((p = p.n) === d)
                        return;
                l = p.z,
                i.lineStart();
                do {
                    if (p.v = p.o.v = !0,
                    p.e) {
                        if (h)
                            for (var u = 0, c = l.length; c > u; ++u)
                                i.point((f = l[u])[0], f[1]);
                        else
                            r(p.x, p.n.x, 1, i);
                        p = p.n
                    } else {
                        if (h) {
                            l = p.p.z;
                            for (var u = l.length - 1; u >= 0; --u)
                                i.point((f = l[u])[0], f[1])
                        } else
                            r(p.x, p.p.x, -1, i);
                        p = p.p
                    }
                    p = p.o,
                    l = p.z,
                    h = !h
                } while (!p.v);i.lineEnd()
            }
        }
    }
    function Nn(t) {
        if (n = t.length) {
            for (var n, e, r = 0, i = t[0]; ++r < n; )
                i.n = e = t[r],
                e.p = i,
                i = e;
            i.n = e = t[0],
            e.p = i
        }
    }
    function Dn(t, n, e, r) {
        this.x = t,
        this.z = n,
        this.o = e,
        this.e = r,
        this.v = !1,
        this.n = this.p = null 
    }
    function jn(t, n, e, r) {
        return function(i, o) {
            function a(n, e) {
                var r = i(n, e);
                t(n = r[0], e = r[1]) && o.point(n, e)
            }
            function u(t, n) {
                var e = i(t, n);
                v.point(e[0], e[1])
            }
            function s() {
                b.point = u,
                v.lineStart()
            }
            function c() {
                b.point = a,
                v.lineEnd()
            }
            function l(t, n) {
                m.push([t, n]);
                var e = i(t, n);
                w.point(e[0], e[1])
            }
            function f() {
                w.lineStart(),
                m = []
            }
            function d() {
                l(m[0][0], m[0][1]),
                w.lineEnd();
                var t, n = w.clean(), e = y.buffer(), r = e.length;
                if (m.pop(),
                h.push(m),
                m = null ,
                r)
                    if (1 & n) {
                        t = e[0];
                        var i, r = t.length - 1, a = -1;
                        if (r > 0) {
                            for (x || (o.polygonStart(),
                            x = !0),
                            o.lineStart(); ++a < r; )
                                o.point((i = t[a])[0], i[1]);
                            o.lineEnd()
                        }
                    } else
                        r > 1 && 2 & n && e.push(e.pop().concat(e.shift())),
                        p.push(e.filter(On))
            }
            var p, h, m, v = n(o), g = i.invert(r[0], r[1]), b = {
                point: a,
                lineStart: s,
                lineEnd: c,
                polygonStart: function() {
                    b.point = l,
                    b.lineStart = f,
                    b.lineEnd = d,
                    p = [],
                    h = []
                },
                polygonEnd: function() {
                    b.point = a,
                    b.lineStart = s,
                    b.lineEnd = c,
                    p = ea.merge(p);
                    var t = Bn(g, h);
                    p.length ? (x || (o.polygonStart(),
                    x = !0),
                    Tn(p, Rn, t, e, o)) : t && (x || (o.polygonStart(),
                    x = !0),
                    o.lineStart(),
                    e(null , null , 1, o),
                    o.lineEnd()),
                    x && (o.polygonEnd(),
                    x = !1),
                    p = h = null 
                },
                sphere: function() {
                    o.polygonStart(),
                    o.lineStart(),
                    e(null , null , 1, o),
                    o.lineEnd(),
                    o.polygonEnd()
                }
            }, y = In(), w = n(y), x = !1;
            return b
        }
    }
    function On(t) {
        return t.length > 1
    }
    function In() {
        var t, n = [];
        return {
            lineStart: function() {
                n.push(t = [])
            },
            point: function(n, e) {
                t.push([n, e])
            },
            lineEnd: x,
            buffer: function() {
                var e = n;
                return n = [],
                t = null ,
                e
            },
            rejoin: function() {
                n.length > 1 && n.push(n.pop().concat(n.shift()))
            }
        }
    }
    function Rn(t, n) {
        return ((t = t.x)[0] < 0 ? t[1] - Ia - Ta : Ia - t[1]) - ((n = n.x)[0] < 0 ? n[1] - Ia - Ta : Ia - n[1])
    }
    function Ln(t) {
        var n, e = NaN, r = NaN, i = NaN;
        return {
            lineStart: function() {
                t.lineStart(),
                n = 1
            },
            point: function(o, a) {
                var u = o > 0 ? Da : -Da
                  , s = ha(o - e);
                ha(s - Da) < Ta ? (t.point(e, r = (r + a) / 2 > 0 ? Ia : -Ia),
                t.point(i, r),
                t.lineEnd(),
                t.lineStart(),
                t.point(u, r),
                t.point(o, r),
                n = 0) : i !== u && s >= Da && (ha(e - i) < Ta && (e -= i * Ta),
                ha(o - u) < Ta && (o -= u * Ta),
                r = zn(e, r, o, a),
                t.point(i, r),
                t.lineEnd(),
                t.lineStart(),
                t.point(u, r),
                n = 0),
                t.point(e = o, r = a),
                i = u
            },
            lineEnd: function() {
                t.lineEnd(),
                e = r = NaN
            },
            clean: function() {
                return 2 - n
            }
        }
    }
    function zn(t, n, e, r) {
        var i, o, a = Math.sin(t - e);
        return ha(a) > Ta ? Math.atan((Math.sin(n) * (o = Math.cos(r)) * Math.sin(e) - Math.sin(r) * (i = Math.cos(n)) * Math.sin(t)) / (i * o * a)) : (n + r) / 2
    }
    function qn(t, n, e, r) {
        var i;
        if (null  == t)
            i = e * Ia,
            r.point(-Da, i),
            r.point(0, i),
            r.point(Da, i),
            r.point(Da, 0),
            r.point(Da, -i),
            r.point(0, -i),
            r.point(-Da, -i),
            r.point(-Da, 0),
            r.point(-Da, i);
        else if (ha(t[0] - n[0]) > Ta) {
            var o = t[0] < n[0] ? Da : -Da;
            i = e * o / 2,
            r.point(-o, i),
            r.point(0, i),
            r.point(o, i)
        } else
            r.point(n[0], n[1])
    }
    function Bn(t, n) {
        var e = t[0]
          , r = t[1]
          , i = [Math.sin(e), -Math.cos(e), 0]
          , o = 0
          , a = 0;
        yu.reset();
        for (var u = 0, s = n.length; s > u; ++u) {
            var c = n[u]
              , l = c.length;
            if (l)
                for (var f = c[0], d = f[0], p = f[1] / 2 + Da / 4, h = Math.sin(p), m = Math.cos(p), v = 1; ; ) {
                    v === l && (v = 0),
                    t = c[v];
                    var g = t[0]
                      , b = t[1] / 2 + Da / 4
                      , y = Math.sin(b)
                      , w = Math.cos(b)
                      , x = g - d
                      , E = x >= 0 ? 1 : -1
                      , _ = E * x
                      , C = _ > Da
                      , S = h * y;
                    if (yu.add(Math.atan2(S * E * Math.sin(_), m * w + S * Math.cos(_))),
                    o += C ? x + E * ja : x,
                    C ^ d >= e ^ g >= e) {
                        var M = gn(mn(f), mn(t));
                        wn(M);
                        var k = gn(i, M);
                        wn(k);
                        var A = (C ^ x >= 0 ? -1 : 1) * nt(k[2]);
                        (r > A || r === A && (M[0] || M[1])) && (a += C ^ x >= 0 ? 1 : -1)
                    }
                    if (!v++)
                        break;
                    d = g,
                    h = y,
                    m = w,
                    f = t
                }
        }
        return (-Ta > o || Ta > o && 0 > yu) ^ 1 & a
    }
    function Wn(t) {
        function n(t, n) {
            return Math.cos(t) * Math.cos(n) > o
        }
        function e(t) {
            var e, o, s, c, l;
            return {
                lineStart: function() {
                    c = s = !1,
                    l = 1
                },
                point: function(f, d) {
                    var p, h = [f, d], m = n(f, d), v = a ? m ? 0 : i(f, d) : m ? i(f + (0 > f ? Da : -Da), d) : 0;
                    if (!e && (c = s = m) && t.lineStart(),
                    m !== s && (p = r(e, h),
                    (En(e, p) || En(h, p)) && (h[0] += Ta,
                    h[1] += Ta,
                    m = n(h[0], h[1]))),
                    m !== s)
                        l = 0,
                        m ? (t.lineStart(),
                        p = r(h, e),
                        t.point(p[0], p[1])) : (p = r(e, h),
                        t.point(p[0], p[1]),
                        t.lineEnd()),
                        e = p;
                    else if (u && e && a ^ m) {
                        var g;
                        v & o || !(g = r(h, e, !0)) || (l = 0,
                        a ? (t.lineStart(),
                        t.point(g[0][0], g[0][1]),
                        t.point(g[1][0], g[1][1]),
                        t.lineEnd()) : (t.point(g[1][0], g[1][1]),
                        t.lineEnd(),
                        t.lineStart(),
                        t.point(g[0][0], g[0][1])))
                    }
                    !m || e && En(e, h) || t.point(h[0], h[1]),
                    e = h,
                    s = m,
                    o = v
                },
                lineEnd: function() {
                    s && t.lineEnd(),
                    e = null 
                },
                clean: function() {
                    return l | (c && s) << 1
                }
            }
        }
        function r(t, n, e) {
            var r = mn(t)
              , i = mn(n)
              , a = [1, 0, 0]
              , u = gn(r, i)
              , s = vn(u, u)
              , c = u[0]
              , l = s - c * c;
            if (!l)
                return !e && t;
            var f = o * s / l
              , d = -o * c / l
              , p = gn(a, u)
              , h = yn(a, f)
              , m = yn(u, d);
            bn(h, m);
            var v = p
              , g = vn(h, v)
              , b = vn(v, v)
              , y = g * g - b * (vn(h, h) - 1);
            if (!(0 > y)) {
                var w = Math.sqrt(y)
                  , x = yn(v, (-g - w) / b);
                if (bn(x, h),
                x = xn(x),
                !e)
                    return x;
                var E, _ = t[0], C = n[0], S = t[1], M = n[1];
                _ > C && (E = _,
                _ = C,
                C = E);
                var k = C - _
                  , A = ha(k - Da) < Ta
                  , P = A || Ta > k;
                if (!A && S > M && (E = S,
                S = M,
                M = E),
                P ? A ? S + M > 0 ^ x[1] < (ha(x[0] - _) < Ta ? S : M) : S <= x[1] && x[1] <= M : k > Da ^ (_ <= x[0] && x[0] <= C)) {
                    var T = yn(v, (-g + w) / b);
                    return bn(T, h),
                    [x, xn(T)]
                }
            }
        }
        function i(n, e) {
            var r = a ? t : Da - t
              , i = 0;
            return -r > n ? i |= 1 : n > r && (i |= 2),
            -r > e ? i |= 4 : e > r && (i |= 8),
            i
        }
        var o = Math.cos(t)
          , a = o > 0
          , u = ha(o) > Ta
          , s = he(t, 6 * Ra);
        return jn(n, e, s, a ? [0, -t] : [-Da, t - Da])
    }
    function Fn(t, n, e, r) {
        return function(i) {
            var o, a = i.a, u = i.b, s = a.x, c = a.y, l = u.x, f = u.y, d = 0, p = 1, h = l - s, m = f - c;
            if (o = t - s,
            h || !(o > 0)) {
                if (o /= h,
                0 > h) {
                    if (d > o)
                        return;
                    p > o && (p = o)
                } else if (h > 0) {
                    if (o > p)
                        return;
                    o > d && (d = o)
                }
                if (o = e - s,
                h || !(0 > o)) {
                    if (o /= h,
                    0 > h) {
                        if (o > p)
                            return;
                        o > d && (d = o)
                    } else if (h > 0) {
                        if (d > o)
                            return;
                        p > o && (p = o)
                    }
                    if (o = n - c,
                    m || !(o > 0)) {
                        if (o /= m,
                        0 > m) {
                            if (d > o)
                                return;
                            p > o && (p = o)
                        } else if (m > 0) {
                            if (o > p)
                                return;
                            o > d && (d = o)
                        }
                        if (o = r - c,
                        m || !(0 > o)) {
                            if (o /= m,
                            0 > m) {
                                if (o > p)
                                    return;
                                o > d && (d = o)
                            } else if (m > 0) {
                                if (d > o)
                                    return;
                                p > o && (p = o)
                            }
                            return d > 0 && (i.a = {
                                x: s + d * h,
                                y: c + d * m
                            }),
                            1 > p && (i.b = {
                                x: s + p * h,
                                y: c + p * m
                            }),
                            i
                        }
                    }
                }
            }
        }
    }
    function Hn(t, n, e, r) {
        function i(r, i) {
            return ha(r[0] - t) < Ta ? i > 0 ? 0 : 3 : ha(r[0] - e) < Ta ? i > 0 ? 2 : 1 : ha(r[1] - n) < Ta ? i > 0 ? 1 : 0 : i > 0 ? 3 : 2
        }
        function o(t, n) {
            return a(t.x, n.x)
        }
        function a(t, n) {
            var e = i(t, 1)
              , r = i(n, 1);
            return e !== r ? e - r : 0 === e ? n[1] - t[1] : 1 === e ? t[0] - n[0] : 2 === e ? t[1] - n[1] : n[0] - t[0]
        }
        return function(u) {
            function s(t) {
                for (var n = 0, e = v.length, r = t[1], i = 0; e > i; ++i)
                    for (var o, a = 1, u = v[i], s = u.length, c = u[0]; s > a; ++a)
                        o = u[a],
                        c[1] <= r ? o[1] > r && $(c, o, t) > 0 && ++n : o[1] <= r && $(c, o, t) < 0 && --n,
                        c = o;
                return 0 !== n
            }
            function c(o, u, s, c) {
                var l = 0
                  , f = 0;
                if (null  == o || (l = i(o, s)) !== (f = i(u, s)) || a(o, u) < 0 ^ s > 0) {
                    do
                        c.point(0 === l || 3 === l ? t : e, l > 1 ? r : n);
                    while ((l = (l + s + 4) % 4) !== f)
                } else
                    c.point(u[0], u[1])
            }
            function l(i, o) {
                return i >= t && e >= i && o >= n && r >= o
            }
            function f(t, n) {
                l(t, n) && u.point(t, n)
            }
            function d() {
                P.point = h,
                v && v.push(g = []),
                C = !0,
                _ = !1,
                x = E = NaN
            }
            function p() {
                m && (h(b, y),
                w && _ && k.rejoin(),
                m.push(k.buffer())),
                P.point = f,
                _ && u.lineEnd()
            }
            function h(t, n) {
                t = Math.max(-Ou, Math.min(Ou, t)),
                n = Math.max(-Ou, Math.min(Ou, n));
                var e = l(t, n);
                if (v && g.push([t, n]),
                C)
                    b = t,
                    y = n,
                    w = e,
                    C = !1,
                    e && (u.lineStart(),
                    u.point(t, n));
                else if (e && _)
                    u.point(t, n);
                else {
                    var r = {
                        a: {
                            x: x,
                            y: E
                        },
                        b: {
                            x: t,
                            y: n
                        }
                    };
                    A(r) ? (_ || (u.lineStart(),
                    u.point(r.a.x, r.a.y)),
                    u.point(r.b.x, r.b.y),
                    e || u.lineEnd(),
                    S = !1) : e && (u.lineStart(),
                    u.point(t, n),
                    S = !1)
                }
                x = t,
                E = n,
                _ = e
            }
            var m, v, g, b, y, w, x, E, _, C, S, M = u, k = In(), A = Fn(t, n, e, r), P = {
                point: f,
                lineStart: d,
                lineEnd: p,
                polygonStart: function() {
                    u = k,
                    m = [],
                    v = [],
                    S = !0
                },
                polygonEnd: function() {
                    u = M,
                    m = ea.merge(m);
                    var n = s([t, r])
                      , e = S && n
                      , i = m.length;
                    (e || i) && (u.polygonStart(),
                    e && (u.lineStart(),
                    c(null , null , 1, u),
                    u.lineEnd()),
                    i && Tn(m, o, n, c, u),
                    u.polygonEnd()),
                    m = v = g = null 
                }
            };
            return P
        }
    }
    function Vn(t) {
        var n = 0
          , e = Da / 3
          , r = ae(t)
          , i = r(n, e);
        return i.parallels = function(t) {
            return arguments.length ? r(n = t[0] * Da / 180, e = t[1] * Da / 180) : [n / Da * 180, e / Da * 180]
        }
        ,
        i
    }
    function Un(t, n) {
        function e(t, n) {
            var e = Math.sqrt(o - 2 * i * Math.sin(n)) / i;
            return [e * Math.sin(t *= i), a - e * Math.cos(t)]
        }
        var r = Math.sin(t)
          , i = (r + Math.sin(n)) / 2
          , o = 1 + r * (2 * i - r)
          , a = Math.sqrt(o) / i;
        return e.invert = function(t, n) {
            var e = a - n;
            return [Math.atan2(t, e) / i, nt((o - (t * t + e * e) * i * i) / (2 * i))]
        }
        ,
        e
    }
    function Yn() {
        function t(t, n) {
            Ru += i * t - r * n,
            r = t,
            i = n
        }
        var n, e, r, i;
        Wu.point = function(o, a) {
            Wu.point = t,
            n = r = o,
            e = i = a
        }
        ,
        Wu.lineEnd = function() {
            t(n, e)
        }
    }
    function Xn(t, n) {
        Lu > t && (Lu = t),
        t > qu && (qu = t),
        zu > n && (zu = n),
        n > Bu && (Bu = n)
    }
    function Gn() {
        function t(t, n) {
            a.push("M", t, ",", n, o)
        }
        function n(t, n) {
            a.push("M", t, ",", n),
            u.point = e
        }
        function e(t, n) {
            a.push("L", t, ",", n)
        }
        function r() {
            u.point = t
        }
        function i() {
            a.push("Z")
        }
        var o = Qn(4.5)
          , a = []
          , u = {
            point: t,
            lineStart: function() {
                u.point = n
            },
            lineEnd: r,
            polygonStart: function() {
                u.lineEnd = i
            },
            polygonEnd: function() {
                u.lineEnd = r,
                u.point = t
            },
            pointRadius: function(t) {
                return o = Qn(t),
                u
            },
            result: function() {
                if (a.length) {
                    var t = a.join("");
                    return a = [],
                    t
                }
            }
        };
        return u
    }
    function Qn(t) {
        return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z"
    }
    function Jn(t, n) {
        _u += t,
        Cu += n,
        ++Su
    }
    function Kn() {
        function t(t, r) {
            var i = t - n
              , o = r - e
              , a = Math.sqrt(i * i + o * o);
            Mu += a * (n + t) / 2,
            ku += a * (e + r) / 2,
            Au += a,
            Jn(n = t, e = r)
        }
        var n, e;
        Hu.point = function(r, i) {
            Hu.point = t,
            Jn(n = r, e = i)
        }
    }
    function Zn() {
        Hu.point = Jn
    }
    function $n() {
        function t(t, n) {
            var e = t - r
              , o = n - i
              , a = Math.sqrt(e * e + o * o);
            Mu += a * (r + t) / 2,
            ku += a * (i + n) / 2,
            Au += a,
            a = i * t - r * n,
            Pu += a * (r + t),
            Tu += a * (i + n),
            Nu += 3 * a,
            Jn(r = t, i = n)
        }
        var n, e, r, i;
        Hu.point = function(o, a) {
            Hu.point = t,
            Jn(n = r = o, e = i = a)
        }
        ,
        Hu.lineEnd = function() {
            t(n, e)
        }
    }
    function te(t) {
        function n(n, e) {
            t.moveTo(n + a, e),
            t.arc(n, e, a, 0, ja)
        }
        function e(n, e) {
            t.moveTo(n, e),
            u.point = r
        }
        function r(n, e) {
            t.lineTo(n, e)
        }
        function i() {
            u.point = n
        }
        function o() {
            t.closePath()
        }
        var a = 4.5
          , u = {
            point: n,
            lineStart: function() {
                u.point = e
            },
            lineEnd: i,
            polygonStart: function() {
                u.lineEnd = o
            },
            polygonEnd: function() {
                u.lineEnd = i,
                u.point = n
            },
            pointRadius: function(t) {
                return a = t,
                u
            },
            result: x
        };
        return u
    }
    function ne(t) {
        function n(t) {
            return (u ? r : e)(t)
        }
        function e(n) {
            return ie(n, function(e, r) {
                e = t(e, r),
                n.point(e[0], e[1])
            }
            )
        }
        function r(n) {
            function e(e, r) {
                e = t(e, r),
                n.point(e[0], e[1])
            }
            function r() {
                y = NaN,
                C.point = o,
                n.lineStart()
            }
            function o(e, r) {
                var o = mn([e, r])
                  , a = t(e, r);
                i(y, w, b, x, E, _, y = a[0], w = a[1], b = e, x = o[0], E = o[1], _ = o[2], u, n),
                n.point(y, w)
            }
            function a() {
                C.point = e,
                n.lineEnd()
            }
            function s() {
                r(),
                C.point = c,
                C.lineEnd = l
            }
            function c(t, n) {
                o(f = t, d = n),
                p = y,
                h = w,
                m = x,
                v = E,
                g = _,
                C.point = o
            }
            function l() {
                i(y, w, b, x, E, _, p, h, f, m, v, g, u, n),
                C.lineEnd = a,
                a()
            }
            var f, d, p, h, m, v, g, b, y, w, x, E, _, C = {
                point: e,
                lineStart: r,
                lineEnd: a,
                polygonStart: function() {
                    n.polygonStart(),
                    C.lineStart = s
                },
                polygonEnd: function() {
                    n.polygonEnd(),
                    C.lineStart = r
                }
            };
            return C
        }
        function i(n, e, r, u, s, c, l, f, d, p, h, m, v, g) {
            var b = l - n
              , y = f - e
              , w = b * b + y * y;
            if (w > 4 * o && v--) {
                var x = u + p
                  , E = s + h
                  , _ = c + m
                  , C = Math.sqrt(x * x + E * E + _ * _)
                  , S = Math.asin(_ /= C)
                  , M = ha(ha(_) - 1) < Ta || ha(r - d) < Ta ? (r + d) / 2 : Math.atan2(E, x)
                  , k = t(M, S)
                  , A = k[0]
                  , P = k[1]
                  , T = A - n
                  , N = P - e
                  , D = y * T - b * N;
                (D * D / w > o || ha((b * T + y * N) / w - .5) > .3 || a > u * p + s * h + c * m) && (i(n, e, r, u, s, c, A, P, M, x /= C, E /= C, _, v, g),
                g.point(A, P),
                i(A, P, M, x, E, _, l, f, d, p, h, m, v, g))
            }
        }
        var o = .5
          , a = Math.cos(30 * Ra)
          , u = 16;
        return n.precision = function(t) {
            return arguments.length ? (u = (o = t * t) > 0 && 16,
            n) : Math.sqrt(o)
        }
        ,
        n
    }
    function ee(t) {
        var n = ne(function(n, e) {
            return t([n * La, e * La])
        }
        );
        return function(t) {
            return ue(n(t))
        }
    }
    function re(t) {
        this.stream = t
    }
    function ie(t, n) {
        return {
            point: n,
            sphere: function() {
                t.sphere()
            },
            lineStart: function() {
                t.lineStart()
            },
            lineEnd: function() {
                t.lineEnd()
            },
            polygonStart: function() {
                t.polygonStart()
            },
            polygonEnd: function() {
                t.polygonEnd()
            }
        }
    }
    function oe(t) {
        return ae(function() {
            return t
        }
        )()
    }
    function ae(t) {
        function n(t) {
            return t = u(t[0] * Ra, t[1] * Ra),
            [t[0] * d + s, c - t[1] * d]
        }
        function e(t) {
            return t = u.invert((t[0] - s) / d, (c - t[1]) / d),
            t && [t[0] * La, t[1] * La]
        }
        function r() {
            u = An(a = le(g, y, w), o);
            var t = o(m, v);
            return s = p - t[0] * d,
            c = h + t[1] * d,
            i()
        }
        function i() {
            return l && (l.valid = !1,
            l = null ),
            n
        }
        var o, a, u, s, c, l, f = ne(function(t, n) {
            return t = o(t, n),
            [t[0] * d + s, c - t[1] * d]
        }
        ), d = 150, p = 480, h = 250, m = 0, v = 0, g = 0, y = 0, w = 0, x = ju, E = b, _ = null , C = null ;
        return n.stream = function(t) {
            return l && (l.valid = !1),
            l = ue(x(a, f(E(t)))),
            l.valid = !0,
            l
        }
        ,
        n.clipAngle = function(t) {
            return arguments.length ? (x = null  == t ? (_ = t,
            ju) : Wn((_ = +t) * Ra),
            i()) : _
        }
        ,
        n.clipExtent = function(t) {
            return arguments.length ? (C = t,
            E = t ? Hn(t[0][0], t[0][1], t[1][0], t[1][1]) : b,
            i()) : C
        }
        ,
        n.scale = function(t) {
            return arguments.length ? (d = +t,
            r()) : d
        }
        ,
        n.translate = function(t) {
            return arguments.length ? (p = +t[0],
            h = +t[1],
            r()) : [p, h]
        }
        ,
        n.center = function(t) {
            return arguments.length ? (m = t[0] % 360 * Ra,
            v = t[1] % 360 * Ra,
            r()) : [m * La, v * La]
        }
        ,
        n.rotate = function(t) {
            return arguments.length ? (g = t[0] % 360 * Ra,
            y = t[1] % 360 * Ra,
            w = t.length > 2 ? t[2] % 360 * Ra : 0,
            r()) : [g * La, y * La, w * La]
        }
        ,
        ea.rebind(n, f, "precision"),
        function() {
            return o = t.apply(this, arguments),
            n.invert = o.invert && e,
            r()
        }
    }
    function ue(t) {
        return ie(t, function(n, e) {
            t.point(n * Ra, e * Ra)
        }
        )
    }
    function se(t, n) {
        return [t, n]
    }
    function ce(t, n) {
        return [t > Da ? t - ja : -Da > t ? t + ja : t, n]
    }
    function le(t, n, e) {
        return t ? n || e ? An(de(t), pe(n, e)) : de(t) : n || e ? pe(n, e) : ce
    }
    function fe(t) {
        return function(n, e) {
            return n += t,
            [n > Da ? n - ja : -Da > n ? n + ja : n, e]
        }
    }
    function de(t) {
        var n = fe(t);
        return n.invert = fe(-t),
        n
    }
    function pe(t, n) {
        function e(t, n) {
            var e = Math.cos(n)
              , u = Math.cos(t) * e
              , s = Math.sin(t) * e
              , c = Math.sin(n)
              , l = c * r + u * i;
            return [Math.atan2(s * o - l * a, u * r - c * i), nt(l * o + s * a)]
        }
        var r = Math.cos(t)
          , i = Math.sin(t)
          , o = Math.cos(n)
          , a = Math.sin(n);
        return e.invert = function(t, n) {
            var e = Math.cos(n)
              , u = Math.cos(t) * e
              , s = Math.sin(t) * e
              , c = Math.sin(n)
              , l = c * o - s * a;
            return [Math.atan2(s * o + c * a, u * r + l * i), nt(l * r - u * i)]
        }
        ,
        e
    }
    function he(t, n) {
        var e = Math.cos(t)
          , r = Math.sin(t);
        return function(i, o, a, u) {
            var s = a * n;
            null  != i ? (i = me(e, i),
            o = me(e, o),
            (a > 0 ? o > i : i > o) && (i += a * ja)) : (i = t + a * ja,
            o = t - .5 * s);
            for (var c, l = i; a > 0 ? l > o : o > l; l -= s)
                u.point((c = xn([e, -r * Math.cos(l), -r * Math.sin(l)]))[0], c[1])
        }
    }
    function me(t, n) {
        var e = mn(n);
        e[0] -= t,
        wn(e);
        var r = tt(-e[1]);
        return ((-e[2] < 0 ? -r : r) + 2 * Math.PI - Ta) % (2 * Math.PI)
    }
    function ve(t, n, e) {
        var r = ea.range(t, n - Ta, e).concat(n);
        return function(t) {
            return r.map(function(n) {
                return [t, n]
            }
            )
        }
    }
    function ge(t, n, e) {
        var r = ea.range(t, n - Ta, e).concat(n);
        return function(t) {
            return r.map(function(n) {
                return [n, t]
            }
            )
        }
    }
    function be(t) {
        return t.source
    }
    function ye(t) {
        return t.target
    }
    function we(t, n, e, r) {
        var i = Math.cos(n)
          , o = Math.sin(n)
          , a = Math.cos(r)
          , u = Math.sin(r)
          , s = i * Math.cos(t)
          , c = i * Math.sin(t)
          , l = a * Math.cos(e)
          , f = a * Math.sin(e)
          , d = 2 * Math.asin(Math.sqrt(ot(r - n) + i * a * ot(e - t)))
          , p = 1 / Math.sin(d)
          , h = d ? function(t) {
            var n = Math.sin(t *= d) * p
              , e = Math.sin(d - t) * p
              , r = e * s + n * l
              , i = e * c + n * f
              , a = e * o + n * u;
            return [Math.atan2(i, r) * La, Math.atan2(a, Math.sqrt(r * r + i * i)) * La]
        }
         : function() {
            return [t * La, n * La]
        }
        ;
        return h.distance = d,
        h
    }
    function xe() {
        function t(t, i) {
            var o = Math.sin(i *= Ra)
              , a = Math.cos(i)
              , u = ha((t *= Ra) - n)
              , s = Math.cos(u);
            Vu += Math.atan2(Math.sqrt((u = a * Math.sin(u)) * u + (u = r * o - e * a * s) * u), e * o + r * a * s),
            n = t,
            e = o,
            r = a
        }
        var n, e, r;
        Uu.point = function(i, o) {
            n = i * Ra,
            e = Math.sin(o *= Ra),
            r = Math.cos(o),
            Uu.point = t
        }
        ,
        Uu.lineEnd = function() {
            Uu.point = Uu.lineEnd = x
        }
    }
    function Ee(t, n) {
        function e(n, e) {
            var r = Math.cos(n)
              , i = Math.cos(e)
              , o = t(r * i);
            return [o * i * Math.sin(n), o * Math.sin(e)]
        }
        return e.invert = function(t, e) {
            var r = Math.sqrt(t * t + e * e)
              , i = n(r)
              , o = Math.sin(i)
              , a = Math.cos(i);
            return [Math.atan2(t * o, r * a), Math.asin(r && e * o / r)]
        }
        ,
        e
    }
    function _e(t, n) {
        function e(t, n) {
            a > 0 ? -Ia + Ta > n && (n = -Ia + Ta) : n > Ia - Ta && (n = Ia - Ta);
            var e = a / Math.pow(i(n), o);
            return [e * Math.sin(o * t), a - e * Math.cos(o * t)]
        }
        var r = Math.cos(t)
          , i = function(t) {
            return Math.tan(Da / 4 + t / 2)
        }
          , o = t === n ? Math.sin(t) : Math.log(r / Math.cos(n)) / Math.log(i(n) / i(t))
          , a = r * Math.pow(i(t), o) / o;
        return o ? (e.invert = function(t, n) {
            var e = a - n
              , r = Z(o) * Math.sqrt(t * t + e * e);
            return [Math.atan2(t, e) / o, 2 * Math.atan(Math.pow(a / r, 1 / o)) - Ia]
        }
        ,
        e) : Se
    }
    function Ce(t, n) {
        function e(t, n) {
            var e = o - n;
            return [e * Math.sin(i * t), o - e * Math.cos(i * t)]
        }
        var r = Math.cos(t)
          , i = t === n ? Math.sin(t) : (r - Math.cos(n)) / (n - t)
          , o = r / i + t;
        return ha(i) < Ta ? se : (e.invert = function(t, n) {
            var e = o - n;
            return [Math.atan2(t, e) / i, o - Z(i) * Math.sqrt(t * t + e * e)]
        }
        ,
        e)
    }
    function Se(t, n) {
        return [t, Math.log(Math.tan(Da / 4 + n / 2))]
    }
    function Me(t) {
        var n, e = oe(t), r = e.scale, i = e.translate, o = e.clipExtent;
        return e.scale = function() {
            var t = r.apply(e, arguments);
            return t === e ? n ? e.clipExtent(null ) : e : t
        }
        ,
        e.translate = function() {
            var t = i.apply(e, arguments);
            return t === e ? n ? e.clipExtent(null ) : e : t
        }
        ,
        e.clipExtent = function(t) {
            var a = o.apply(e, arguments);
            if (a === e) {
                if (n = null  == t) {
                    var u = Da * r()
                      , s = i();
                    o([[s[0] - u, s[1] - u], [s[0] + u, s[1] + u]])
                }
            } else
                n && (a = null );
            return a
        }
        ,
        e.clipExtent(null )
    }
    function ke(t, n) {
        return [Math.log(Math.tan(Da / 4 + n / 2)), -t]
    }
    function Ae(t) {
        return t[0]
    }
    function Pe(t) {
        return t[1]
    }
    function Te(t) {
        for (var n = t.length, e = [0, 1], r = 2, i = 2; n > i; i++) {
            for (; r > 1 && $(t[e[r - 2]], t[e[r - 1]], t[i]) <= 0; )
                --r;
            e[r++] = i
        }
        return e.slice(0, r)
    }
    function Ne(t, n) {
        return t[0] - n[0] || t[1] - n[1]
    }
    function De(t, n, e) {
        return (e[0] - n[0]) * (t[1] - n[1]) < (e[1] - n[1]) * (t[0] - n[0])
    }
    function je(t, n, e, r) {
        var i = t[0]
          , o = e[0]
          , a = n[0] - i
          , u = r[0] - o
          , s = t[1]
          , c = e[1]
          , l = n[1] - s
          , f = r[1] - c
          , d = (u * (s - c) - f * (i - o)) / (f * a - u * l);
        return [i + d * a, s + d * l]
    }
    function Oe(t) {
        var n = t[0]
          , e = t[t.length - 1];
        return !(n[0] - e[0] || n[1] - e[1])
    }
    function Ie() {
        er(this),
        this.edge = this.site = this.circle = null 
    }
    function Re(t) {
        var n = rs.pop() || new Ie;
        return n.site = t,
        n
    }
    function Le(t) {
        Xe(t),
        ts.remove(t),
        rs.push(t),
        er(t)
    }
    function ze(t) {
        var n = t.circle
          , e = n.x
          , r = n.cy
          , i = {
            x: e,
            y: r
        }
          , o = t.P
          , a = t.N
          , u = [t];
        Le(t);
        for (var s = o; s.circle && ha(e - s.circle.x) < Ta && ha(r - s.circle.cy) < Ta; )
            o = s.P,
            u.unshift(s),
            Le(s),
            s = o;
        u.unshift(s),
        Xe(s);
        for (var c = a; c.circle && ha(e - c.circle.x) < Ta && ha(r - c.circle.cy) < Ta; )
            a = c.N,
            u.push(c),
            Le(c),
            c = a;
        u.push(c),
        Xe(c);
        var l, f = u.length;
        for (l = 1; f > l; ++l)
            c = u[l],
            s = u[l - 1],
            $e(c.edge, s.site, c.site, i);
        s = u[0],
        c = u[f - 1],
        c.edge = Ke(s.site, c.site, null , i),
        Ye(s),
        Ye(c)
    }
    function qe(t) {
        for (var n, e, r, i, o = t.x, a = t.y, u = ts._; u; )
            if (r = Be(u, a) - o,
            r > Ta)
                u = u.L;
            else {
                if (i = o - We(u, a),
                !(i > Ta)) {
                    r > -Ta ? (n = u.P,
                    e = u) : i > -Ta ? (n = u,
                    e = u.N) : n = e = u;
                    break
                }
                if (!u.R) {
                    n = u;
                    break
                }
                u = u.R
            }
        var s = Re(t);
        if (ts.insert(n, s),
        n || e) {
            if (n === e)
                return Xe(n),
                e = Re(n.site),
                ts.insert(s, e),
                s.edge = e.edge = Ke(n.site, s.site),
                Ye(n),
                void Ye(e);
            if (!e)
                return void (s.edge = Ke(n.site, s.site));
            Xe(n),
            Xe(e);
            var c = n.site
              , l = c.x
              , f = c.y
              , d = t.x - l
              , p = t.y - f
              , h = e.site
              , m = h.x - l
              , v = h.y - f
              , g = 2 * (d * v - p * m)
              , b = d * d + p * p
              , y = m * m + v * v
              , w = {
                x: (v * b - p * y) / g + l,
                y: (d * y - m * b) / g + f
            };
            $e(e.edge, c, h, w),
            s.edge = Ke(c, t, null , w),
            e.edge = Ke(t, h, null , w),
            Ye(n),
            Ye(e)
        }
    }
    function Be(t, n) {
        var e = t.site
          , r = e.x
          , i = e.y
          , o = i - n;
        if (!o)
            return r;
        var a = t.P;
        if (!a)
            return -(1 / 0);
        e = a.site;
        var u = e.x
          , s = e.y
          , c = s - n;
        if (!c)
            return u;
        var l = u - r
          , f = 1 / o - 1 / c
          , d = l / c;
        return f ? (-d + Math.sqrt(d * d - 2 * f * (l * l / (-2 * c) - s + c / 2 + i - o / 2))) / f + r : (r + u) / 2
    }
    function We(t, n) {
        var e = t.N;
        if (e)
            return Be(e, n);
        var r = t.site;
        return r.y === n ? r.x : 1 / 0
    }
    function Fe(t) {
        this.site = t,
        this.edges = []
    }
    function He(t) {
        for (var n, e, r, i, o, a, u, s, c, l, f = t[0][0], d = t[1][0], p = t[0][1], h = t[1][1], m = $u, v = m.length; v--; )
            if (o = m[v],
            o && o.prepare())
                for (u = o.edges,
                s = u.length,
                a = 0; s > a; )
                    l = u[a].end(),
                    r = l.x,
                    i = l.y,
                    c = u[++a % s].start(),
                    n = c.x,
                    e = c.y,
                    (ha(r - n) > Ta || ha(i - e) > Ta) && (u.splice(a, 0, new tr(Ze(o.site, l, ha(r - f) < Ta && h - i > Ta ? {
                        x: f,
                        y: ha(n - f) < Ta ? e : h
                    } : ha(i - h) < Ta && d - r > Ta ? {
                        x: ha(e - h) < Ta ? n : d,
                        y: h
                    } : ha(r - d) < Ta && i - p > Ta ? {
                        x: d,
                        y: ha(n - d) < Ta ? e : p
                    } : ha(i - p) < Ta && r - f > Ta ? {
                        x: ha(e - p) < Ta ? n : f,
                        y: p
                    } : null ),o.site,null )),
                    ++s)
    }
    function Ve(t, n) {
        return n.angle - t.angle
    }
    function Ue() {
        er(this),
        this.x = this.y = this.arc = this.site = this.cy = null 
    }
    function Ye(t) {
        var n = t.P
          , e = t.N;
        if (n && e) {
            var r = n.site
              , i = t.site
              , o = e.site;
            if (r !== o) {
                var a = i.x
                  , u = i.y
                  , s = r.x - a
                  , c = r.y - u
                  , l = o.x - a
                  , f = o.y - u
                  , d = 2 * (s * f - c * l);
                if (!(d >= -Na)) {
                    var p = s * s + c * c
                      , h = l * l + f * f
                      , m = (f * p - c * h) / d
                      , v = (s * h - l * p) / d
                      , f = v + u
                      , g = is.pop() || new Ue;
                    g.arc = t,
                    g.site = i,
                    g.x = m + a,
                    g.y = f + Math.sqrt(m * m + v * v),
                    g.cy = f,
                    t.circle = g;
                    for (var b = null , y = es._; y; )
                        if (g.y < y.y || g.y === y.y && g.x <= y.x) {
                            if (!y.L) {
                                b = y.P;
                                break
                            }
                            y = y.L
                        } else {
                            if (!y.R) {
                                b = y;
                                break
                            }
                            y = y.R
                        }
                    es.insert(b, g),
                    b || (ns = g)
                }
            }
        }
    }
    function Xe(t) {
        var n = t.circle;
        n && (n.P || (ns = n.N),
        es.remove(n),
        is.push(n),
        er(n),
        t.circle = null )
    }
    function Ge(t) {
        for (var n, e = Zu, r = Fn(t[0][0], t[0][1], t[1][0], t[1][1]), i = e.length; i--; )
            n = e[i],
            (!Qe(n, t) || !r(n) || ha(n.a.x - n.b.x) < Ta && ha(n.a.y - n.b.y) < Ta) && (n.a = n.b = null ,
            e.splice(i, 1))
    }
    function Qe(t, n) {
        var e = t.b;
        if (e)
            return !0;
        var r, i, o = t.a, a = n[0][0], u = n[1][0], s = n[0][1], c = n[1][1], l = t.l, f = t.r, d = l.x, p = l.y, h = f.x, m = f.y, v = (d + h) / 2, g = (p + m) / 2;
        if (m === p) {
            if (a > v || v >= u)
                return;
            if (d > h) {
                if (o) {
                    if (o.y >= c)
                        return
                } else
                    o = {
                        x: v,
                        y: s
                    };
                e = {
                    x: v,
                    y: c
                }
            } else {
                if (o) {
                    if (o.y < s)
                        return
                } else
                    o = {
                        x: v,
                        y: c
                    };
                e = {
                    x: v,
                    y: s
                }
            }
        } else if (r = (d - h) / (m - p),
        i = g - r * v,
        -1 > r || r > 1)
            if (d > h) {
                if (o) {
                    if (o.y >= c)
                        return
                } else
                    o = {
                        x: (s - i) / r,
                        y: s
                    };
                e = {
                    x: (c - i) / r,
                    y: c
                }
            } else {
                if (o) {
                    if (o.y < s)
                        return
                } else
                    o = {
                        x: (c - i) / r,
                        y: c
                    };
                e = {
                    x: (s - i) / r,
                    y: s
                }
            }
        else if (m > p) {
            if (o) {
                if (o.x >= u)
                    return
            } else
                o = {
                    x: a,
                    y: r * a + i
                };
            e = {
                x: u,
                y: r * u + i
            }
        } else {
            if (o) {
                if (o.x < a)
                    return
            } else
                o = {
                    x: u,
                    y: r * u + i
                };
            e = {
                x: a,
                y: r * a + i
            }
        }
        return t.a = o,
        t.b = e,
        !0
    }
    function Je(t, n) {
        this.l = t,
        this.r = n,
        this.a = this.b = null 
    }
    function Ke(t, n, e, r) {
        var i = new Je(t,n);
        return Zu.push(i),
        e && $e(i, t, n, e),
        r && $e(i, n, t, r),
        $u[t.i].edges.push(new tr(i,t,n)),
        $u[n.i].edges.push(new tr(i,n,t)),
        i
    }
    function Ze(t, n, e) {
        var r = new Je(t,null );
        return r.a = n,
        r.b = e,
        Zu.push(r),
        r
    }
    function $e(t, n, e, r) {
        t.a || t.b ? t.l === e ? t.b = r : t.a = r : (t.a = r,
        t.l = n,
        t.r = e)
    }
    function tr(t, n, e) {
        var r = t.a
          , i = t.b;
        this.edge = t,
        this.site = n,
        this.angle = e ? Math.atan2(e.y - n.y, e.x - n.x) : t.l === n ? Math.atan2(i.x - r.x, r.y - i.y) : Math.atan2(r.x - i.x, i.y - r.y)
    }
    function nr() {
        this._ = null 
    }
    function er(t) {
        t.U = t.C = t.L = t.R = t.P = t.N = null 
    }
    function rr(t, n) {
        var e = n
          , r = n.R
          , i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : t._ = r,
        r.U = i,
        e.U = r,
        e.R = r.L,
        e.R && (e.R.U = e),
        r.L = e
    }
    function ir(t, n) {
        var e = n
          , r = n.L
          , i = e.U;
        i ? i.L === e ? i.L = r : i.R = r : t._ = r,
        r.U = i,
        e.U = r,
        e.L = r.R,
        e.L && (e.L.U = e),
        r.R = e
    }
    function or(t) {
        for (; t.L; )
            t = t.L;
        return t
    }
    function ar(t, n) {
        var e, r, i, o = t.sort(ur).pop();
        for (Zu = [],
        $u = new Array(t.length),
        ts = new nr,
        es = new nr; ; )
            if (i = ns,
            o && (!i || o.y < i.y || o.y === i.y && o.x < i.x))
                (o.x !== e || o.y !== r) && ($u[o.i] = new Fe(o),
                qe(o),
                e = o.x,
                r = o.y),
                o = t.pop();
            else {
                if (!i)
                    break;
                ze(i.arc)
            }
        n && (Ge(n),
        He(n));
        var a = {
            cells: $u,
            edges: Zu
        };
        return ts = es = Zu = $u = null ,
        a
    }
    function ur(t, n) {
        return n.y - t.y || n.x - t.x
    }
    function sr(t, n, e) {
        return (t.x - e.x) * (n.y - t.y) - (t.x - n.x) * (e.y - t.y)
    }
    function cr(t) {
        return t.x
    }
    function lr(t) {
        return t.y
    }
    function fr() {
        return {
            leaf: !0,
            nodes: [],
            point: null ,
            x: null ,
            y: null 
        }
    }
    function dr(t, n, e, r, i, o) {
        if (!t(n, e, r, i, o)) {
            var a = .5 * (e + i)
              , u = .5 * (r + o)
              , s = n.nodes;
            s[0] && dr(t, s[0], e, r, a, u),
            s[1] && dr(t, s[1], a, r, i, u),
            s[2] && dr(t, s[2], e, u, a, o),
            s[3] && dr(t, s[3], a, u, i, o)
        }
    }
    function pr(t, n, e, r, i, o, a) {
        var u, s = 1 / 0;
        return function c(t, l, f, d, p) {
            if (!(l > o || f > a || r > d || i > p)) {
                if (h = t.point) {
                    var h, m = n - t.x, v = e - t.y, g = m * m + v * v;
                    if (s > g) {
                        var b = Math.sqrt(s = g);
                        r = n - b,
                        i = e - b,
                        o = n + b,
                        a = e + b,
                        u = h
                    }
                }
                for (var y = t.nodes, w = .5 * (l + d), x = .5 * (f + p), E = n >= w, _ = e >= x, C = _ << 1 | E, S = C + 4; S > C; ++C)
                    if (t = y[3 & C])
                        switch (3 & C) {
                        case 0:
                            c(t, l, f, w, x);
                            break;
                        case 1:
                            c(t, w, f, d, x);
                            break;
                        case 2:
                            c(t, l, x, w, p);
                            break;
                        case 3:
                            c(t, w, x, d, p)
                        }
            }
        }
        (t, r, i, o, a),
        u
    }
    function hr(t, n) {
        t = ea.rgb(t),
        n = ea.rgb(n);
        var e = t.r
          , r = t.g
          , i = t.b
          , o = n.r - e
          , a = n.g - r
          , u = n.b - i;
        return function(t) {
            return "#" + wt(Math.round(e + o * t)) + wt(Math.round(r + a * t)) + wt(Math.round(i + u * t))
        }
    }
    function mr(t, n) {
        var e, r = {}, i = {};
        for (e in t)
            e in n ? r[e] = br(t[e], n[e]) : i[e] = t[e];
        for (e in n)
            e in t || (i[e] = n[e]);
        return function(t) {
            for (e in r)
                i[e] = r[e](t);
            return i
        }
    }
    function vr(t, n) {
        return t = +t,
        n = +n,
        function(e) {
            return t * (1 - e) + n * e
        }
    }
    function gr(t, n) {
        var e, r, i, o = as.lastIndex = us.lastIndex = 0, a = -1, u = [], s = [];
        for (t += "",
        n += ""; (e = as.exec(t)) && (r = us.exec(n)); )
            (i = r.index) > o && (i = n.slice(o, i),
            u[a] ? u[a] += i : u[++a] = i),
            (e = e[0]) === (r = r[0]) ? u[a] ? u[a] += r : u[++a] = r : (u[++a] = null ,
            s.push({
                i: a,
                x: vr(e, r)
            })),
            o = us.lastIndex;
        return o < n.length && (i = n.slice(o),
        u[a] ? u[a] += i : u[++a] = i),
        u.length < 2 ? s[0] ? (n = s[0].x,
        function(t) {
            return n(t) + ""
        }
        ) : function() {
            return n
        }
         : (n = s.length,
        function(t) {
            for (var e, r = 0; n > r; ++r)
                u[(e = s[r]).i] = e.x(t);
            return u.join("")
        }
        )
    }
    function br(t, n) {
        for (var e, r = ea.interpolators.length; --r >= 0 && !(e = ea.interpolators[r](t, n)); )
            ;
        return e
    }
    function yr(t, n) {
        var e, r = [], i = [], o = t.length, a = n.length, u = Math.min(t.length, n.length);
        for (e = 0; u > e; ++e)
            r.push(br(t[e], n[e]));
        for (; o > e; ++e)
            i[e] = t[e];
        for (; a > e; ++e)
            i[e] = n[e];
        return function(t) {
            for (e = 0; u > e; ++e)
                i[e] = r[e](t);
            return i
        }
    }
    function wr(t) {
        return function(n) {
            return 0 >= n ? 0 : n >= 1 ? 1 : t(n)
        }
    }
    function xr(t) {
        return function(n) {
            return 1 - t(1 - n)
        }
    }
    function Er(t) {
        return function(n) {
            return .5 * (.5 > n ? t(2 * n) : 2 - t(2 - 2 * n))
        }
    }
    function _r(t) {
        return t * t
    }
    function Cr(t) {
        return t * t * t
    }
    function Sr(t) {
        if (0 >= t)
            return 0;
        if (t >= 1)
            return 1;
        var n = t * t
          , e = n * t;
        return 4 * (.5 > t ? e : 3 * (t - n) + e - .75)
    }
    function Mr(t) {
        return function(n) {
            return Math.pow(n, t)
        }
    }
    function kr(t) {
        return 1 - Math.cos(t * Ia)
    }
    function Ar(t) {
        return Math.pow(2, 10 * (t - 1))
    }
    function Pr(t) {
        return 1 - Math.sqrt(1 - t * t)
    }
    function Tr(t, n) {
        var e;
        return arguments.length < 2 && (n = .45),
        arguments.length ? e = n / ja * Math.asin(1 / t) : (t = 1,
        e = n / 4),
        function(r) {
            return 1 + t * Math.pow(2, -10 * r) * Math.sin((r - e) * ja / n)
        }
    }
    function Nr(t) {
        return t || (t = 1.70158),
        function(n) {
            return n * n * ((t + 1) * n - t)
        }
    }
    function Dr(t) {
        return 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
    }
    function jr(t, n) {
        t = ea.hcl(t),
        n = ea.hcl(n);
        var e = t.h
          , r = t.c
          , i = t.l
          , o = n.h - e
          , a = n.c - r
          , u = n.l - i;
        return isNaN(a) && (a = 0,
        r = isNaN(r) ? n.c : r),
        isNaN(o) ? (o = 0,
        e = isNaN(e) ? n.h : e) : o > 180 ? o -= 360 : -180 > o && (o += 360),
        function(t) {
            return lt(e + o * t, r + a * t, i + u * t) + ""
        }
    }
    function Or(t, n) {
        t = ea.hsl(t),
        n = ea.hsl(n);
        var e = t.h
          , r = t.s
          , i = t.l
          , o = n.h - e
          , a = n.s - r
          , u = n.l - i;
        return isNaN(a) && (a = 0,
        r = isNaN(r) ? n.s : r),
        isNaN(o) ? (o = 0,
        e = isNaN(e) ? n.h : e) : o > 180 ? o -= 360 : -180 > o && (o += 360),
        function(t) {
            return st(e + o * t, r + a * t, i + u * t) + ""
        }
    }
    function Ir(t, n) {
        t = ea.lab(t),
        n = ea.lab(n);
        var e = t.l
          , r = t.a
          , i = t.b
          , o = n.l - e
          , a = n.a - r
          , u = n.b - i;
        return function(t) {
            return dt(e + o * t, r + a * t, i + u * t) + ""
        }
    }
    function Rr(t, n) {
        return n -= t,
        function(e) {
            return Math.round(t + n * e)
        }
    }
    function Lr(t) {
        var n = [t.a, t.b]
          , e = [t.c, t.d]
          , r = qr(n)
          , i = zr(n, e)
          , o = qr(Br(e, n, -i)) || 0;
        n[0] * e[1] < e[0] * n[1] && (n[0] *= -1,
        n[1] *= -1,
        r *= -1,
        i *= -1),
        this.rotate = (r ? Math.atan2(n[1], n[0]) : Math.atan2(-e[0], e[1])) * La,
        this.translate = [t.e, t.f],
        this.scale = [r, o],
        this.skew = o ? Math.atan2(i, o) * La : 0
    }
    function zr(t, n) {
        return t[0] * n[0] + t[1] * n[1]
    }
    function qr(t) {
        var n = Math.sqrt(zr(t, t));
        return n && (t[0] /= n,
        t[1] /= n),
        n
    }
    function Br(t, n, e) {
        return t[0] += e * n[0],
        t[1] += e * n[1],
        t
    }
    function Wr(t, n) {
        var e, r = [], i = [], o = ea.transform(t), a = ea.transform(n), u = o.translate, s = a.translate, c = o.rotate, l = a.rotate, f = o.skew, d = a.skew, p = o.scale, h = a.scale;
        return u[0] != s[0] || u[1] != s[1] ? (r.push("translate(", null , ",", null , ")"),
        i.push({
            i: 1,
            x: vr(u[0], s[0])
        }, {
            i: 3,
            x: vr(u[1], s[1])
        })) : s[0] || s[1] ? r.push("translate(" + s + ")") : r.push(""),
        c != l ? (c - l > 180 ? l += 360 : l - c > 180 && (c += 360),
        i.push({
            i: r.push(r.pop() + "rotate(", null , ")") - 2,
            x: vr(c, l)
        })) : l && r.push(r.pop() + "rotate(" + l + ")"),
        f != d ? i.push({
            i: r.push(r.pop() + "skewX(", null , ")") - 2,
            x: vr(f, d)
        }) : d && r.push(r.pop() + "skewX(" + d + ")"),
        p[0] != h[0] || p[1] != h[1] ? (e = r.push(r.pop() + "scale(", null , ",", null , ")"),
        i.push({
            i: e - 4,
            x: vr(p[0], h[0])
        }, {
            i: e - 2,
            x: vr(p[1], h[1])
        })) : (1 != h[0] || 1 != h[1]) && r.push(r.pop() + "scale(" + h + ")"),
        e = i.length,
        function(t) {
            for (var n, o = -1; ++o < e; )
                r[(n = i[o]).i] = n.x(t);
            return r.join("")
        }
    }
    function Fr(t, n) {
        return n = (n -= t = +t) || 1 / n,
        function(e) {
            return (e - t) / n
        }
    }
    function Hr(t, n) {
        return n = (n -= t = +t) || 1 / n,
        function(e) {
            return Math.max(0, Math.min(1, (e - t) / n))
        }
    }
    function Vr(t) {
        for (var n = t.source, e = t.target, r = Yr(n, e), i = [n]; n !== r; )
            n = n.parent,
            i.push(n);
        for (var o = i.length; e !== r; )
            i.splice(o, 0, e),
            e = e.parent;
        return i
    }
    function Ur(t) {
        for (var n = [], e = t.parent; null  != e; )
            n.push(t),
            t = e,
            e = e.parent;
        return n.push(t),
        n
    }
    function Yr(t, n) {
        if (t === n)
            return t;
        for (var e = Ur(t), r = Ur(n), i = e.pop(), o = r.pop(), a = null ; i === o; )
            a = i,
            i = e.pop(),
            o = r.pop();
        return a
    }
    function Xr(t) {
        t.fixed |= 2
    }
    function Gr(t) {
        t.fixed &= -7
    }
    function Qr(t) {
        t.fixed |= 4,
        t.px = t.x,
        t.py = t.y
    }
    function Jr(t) {
        t.fixed &= -5
    }
    function Kr(t, n, e) {
        var r = 0
          , i = 0;
        if (t.charge = 0,
        !t.leaf)
            for (var o, a = t.nodes, u = a.length, s = -1; ++s < u; )
                o = a[s],
                null  != o && (Kr(o, n, e),
                t.charge += o.charge,
                r += o.charge * o.cx,
                i += o.charge * o.cy);
        if (t.point) {
            t.leaf || (t.point.x += Math.random() - .5,
            t.point.y += Math.random() - .5);
            var c = n * e[t.point.index];
            t.charge += t.pointCharge = c,
            r += c * t.point.x,
            i += c * t.point.y
        }
        t.cx = r / t.charge,
        t.cy = i / t.charge
    }
    function Zr(t, n) {
        return ea.rebind(t, n, "sort", "children", "value"),
        t.nodes = t,
        t.links = ii,
        t
    }
    function $r(t, n) {
        for (var e = [t]; null  != (t = e.pop()); )
            if (n(t),
            (i = t.children) && (r = i.length))
                for (var r, i; --r >= 0; )
                    e.push(i[r])
    }
    function ti(t, n) {
        for (var e = [t], r = []; null  != (t = e.pop()); )
            if (r.push(t),
            (o = t.children) && (i = o.length))
                for (var i, o, a = -1; ++a < i; )
                    e.push(o[a]);
        for (; null  != (t = r.pop()); )
            n(t)
    }
    function ni(t) {
        return t.children
    }
    function ei(t) {
        return t.value
    }
    function ri(t, n) {
        return n.value - t.value
    }
    function ii(t) {
        return ea.merge(t.map(function(t) {
            return (t.children || []).map(function(n) {
                return {
                    source: t,
                    target: n
                }
            }
            )
        }
        ))
    }
    function oi(t) {
        return t.x
    }
    function ai(t) {
        return t.y
    }
    function ui(t, n, e) {
        t.y0 = n,
        t.y = e
    }
    function si(t) {
        return ea.range(t.length)
    }
    function ci(t) {
        for (var n = -1, e = t[0].length, r = []; ++n < e; )
            r[n] = 0;
        return r
    }
    function li(t) {
        for (var n, e = 1, r = 0, i = t[0][1], o = t.length; o > e; ++e)
            (n = t[e][1]) > i && (r = e,
            i = n);
        return r
    }
    function fi(t) {
        return t.reduce(di, 0)
    }
    function di(t, n) {
        return t + n[1]
    }
    function pi(t, n) {
        return hi(t, Math.ceil(Math.log(n.length) / Math.LN2 + 1))
    }
    function hi(t, n) {
        for (var e = -1, r = +t[0], i = (t[1] - r) / n, o = []; ++e <= n; )
            o[e] = i * e + r;
        return o
    }
    function mi(t) {
        return [ea.min(t), ea.max(t)]
    }
    function vi(t, n) {
        return t.value - n.value
    }
    function gi(t, n) {
        var e = t._pack_next;
        t._pack_next = n,
        n._pack_prev = t,
        n._pack_next = e,
        e._pack_prev = n
    }
    function bi(t, n) {
        t._pack_next = n,
        n._pack_prev = t
    }
    function yi(t, n) {
        var e = n.x - t.x
          , r = n.y - t.y
          , i = t.r + n.r;
        return .999 * i * i > e * e + r * r
    }
    function wi(t) {
        function n(t) {
            l = Math.min(t.x - t.r, l),
            f = Math.max(t.x + t.r, f),
            d = Math.min(t.y - t.r, d),
            p = Math.max(t.y + t.r, p)
        }
        if ((e = t.children) && (c = e.length)) {
            var e, r, i, o, a, u, s, c, l = 1 / 0, f = -(1 / 0), d = 1 / 0, p = -(1 / 0);
            if (e.forEach(xi),
            r = e[0],
            r.x = -r.r,
            r.y = 0,
            n(r),
            c > 1 && (i = e[1],
            i.x = i.r,
            i.y = 0,
            n(i),
            c > 2))
                for (o = e[2],
                Ci(r, i, o),
                n(o),
                gi(r, o),
                r._pack_prev = o,
                gi(o, i),
                i = r._pack_next,
                a = 3; c > a; a++) {
                    Ci(r, i, o = e[a]);
                    var h = 0
                      , m = 1
                      , v = 1;
                    for (u = i._pack_next; u !== i; u = u._pack_next,
                    m++)
                        if (yi(u, o)) {
                            h = 1;
                            break
                        }
                    if (1 == h)
                        for (s = r._pack_prev; s !== u._pack_prev && !yi(s, o); s = s._pack_prev,
                        v++)
                            ;
                    h ? (v > m || m == v && i.r < r.r ? bi(r, i = u) : bi(r = s, i),
                    a--) : (gi(r, o),
                    i = o,
                    n(o))
                }
            var g = (l + f) / 2
              , b = (d + p) / 2
              , y = 0;
            for (a = 0; c > a; a++)
                o = e[a],
                o.x -= g,
                o.y -= b,
                y = Math.max(y, o.r + Math.sqrt(o.x * o.x + o.y * o.y));
            t.r = y,
            e.forEach(Ei)
        }
    }
    function xi(t) {
        t._pack_next = t._pack_prev = t
    }
    function Ei(t) {
        delete t._pack_next,
        delete t._pack_prev
    }
    function _i(t, n, e, r) {
        var i = t.children;
        if (t.x = n += r * t.x,
        t.y = e += r * t.y,
        t.r *= r,
        i)
            for (var o = -1, a = i.length; ++o < a; )
                _i(i[o], n, e, r)
    }
    function Ci(t, n, e) {
        var r = t.r + e.r
          , i = n.x - t.x
          , o = n.y - t.y;
        if (r && (i || o)) {
            var a = n.r + e.r
              , u = i * i + o * o;
            a *= a,
            r *= r;
            var s = .5 + (r - a) / (2 * u)
              , c = Math.sqrt(Math.max(0, 2 * a * (r + u) - (r -= u) * r - a * a)) / (2 * u);
            e.x = t.x + s * i + c * o,
            e.y = t.y + s * o - c * i
        } else
            e.x = t.x + r,
            e.y = t.y
    }
    function Si(t, n) {
        return t.parent == n.parent ? 1 : 2
    }
    function Mi(t) {
        var n = t.children;
        return n.length ? n[0] : t.t
    }
    function ki(t) {
        var n, e = t.children;
        return (n = e.length) ? e[n - 1] : t.t
    }
    function Ai(t, n, e) {
        var r = e / (n.i - t.i);
        n.c -= r,
        n.s += e,
        t.c += r,
        n.z += e,
        n.m += e
    }
    function Pi(t) {
        for (var n, e = 0, r = 0, i = t.children, o = i.length; --o >= 0; )
            n = i[o],
            n.z += e,
            n.m += e,
            e += n.s + (r += n.c)
    }
    function Ti(t, n, e) {
        return t.a.parent === n.parent ? t.a : e
    }
    function Ni(t) {
        return 1 + ea.max(t, function(t) {
            return t.y
        }
        )
    }
    function Di(t) {
        return t.reduce(function(t, n) {
            return t + n.x
        }
        , 0) / t.length
    }
    function ji(t) {
        var n = t.children;
        return n && n.length ? ji(n[0]) : t
    }
    function Oi(t) {
        var n, e = t.children;
        return e && (n = e.length) ? Oi(e[n - 1]) : t
    }
    function Ii(t) {
        return {
            x: t.x,
            y: t.y,
            dx: t.dx,
            dy: t.dy
        }
    }
    function Ri(t, n) {
        var e = t.x + n[3]
          , r = t.y + n[0]
          , i = t.dx - n[1] - n[3]
          , o = t.dy - n[0] - n[2];
        return 0 > i && (e += i / 2,
        i = 0),
        0 > o && (r += o / 2,
        o = 0),
        {
            x: e,
            y: r,
            dx: i,
            dy: o
        }
    }
    function Li(t) {
        var n = t[0]
          , e = t[t.length - 1];
        return e > n ? [n, e] : [e, n]
    }
    function zi(t) {
        return t.rangeExtent ? t.rangeExtent() : Li(t.range())
    }
    function qi(t, n, e, r) {
        var i = e(t[0], t[1])
          , o = r(n[0], n[1]);
        return function(t) {
            return o(i(t))
        }
    }
    function Bi(t, n) {
        var e, r = 0, i = t.length - 1, o = t[r], a = t[i];
        return o > a && (e = r,
        r = i,
        i = e,
        e = o,
        o = a,
        a = e),
        t[r] = n.floor(o),
        t[i] = n.ceil(a),
        t
    }
    function Wi(t) {
        return t ? {
            floor: function(n) {
                return Math.floor(n / t) * t
            },
            ceil: function(n) {
                return Math.ceil(n / t) * t
            }
        } : bs
    }
    function Fi(t, n, e, r) {
        var i = []
          , o = []
          , a = 0
          , u = Math.min(t.length, n.length) - 1;
        for (t[u] < t[0] && (t = t.slice().reverse(),
        n = n.slice().reverse()); ++a <= u; )
            i.push(e(t[a - 1], t[a])),
            o.push(r(n[a - 1], n[a]));
        return function(n) {
            var e = ea.bisect(t, n, 1, u) - 1;
            return o[e](i[e](n))
        }
    }
    function Hi(t, n, e, r) {
        function i() {
            var i = Math.min(t.length, n.length) > 2 ? Fi : qi
              , s = r ? Hr : Fr;
            return a = i(t, n, s, e),
            u = i(n, t, s, br),
            o
        }
        function o(t) {
            return a(t)
        }
        var a, u;
        return o.invert = function(t) {
            return u(t)
        }
        ,
        o.domain = function(n) {
            return arguments.length ? (t = n.map(Number),
            i()) : t
        }
        ,
        o.range = function(t) {
            return arguments.length ? (n = t,
            i()) : n
        }
        ,
        o.rangeRound = function(t) {
            return o.range(t).interpolate(Rr)
        }
        ,
        o.clamp = function(t) {
            return arguments.length ? (r = t,
            i()) : r
        }
        ,
        o.interpolate = function(t) {
            return arguments.length ? (e = t,
            i()) : e
        }
        ,
        o.ticks = function(n) {
            return Xi(t, n)
        }
        ,
        o.tickFormat = function(n, e) {
            return Gi(t, n, e)
        }
        ,
        o.nice = function(n) {
            return Ui(t, n),
            i()
        }
        ,
        o.copy = function() {
            return Hi(t, n, e, r)
        }
        ,
        i()
    }
    function Vi(t, n) {
        return ea.rebind(t, n, "range", "rangeRound", "interpolate", "clamp")
    }
    function Ui(t, n) {
        return Bi(t, Wi(Yi(t, n)[2]))
    }
    function Yi(t, n) {
        null  == n && (n = 10);
        var e = Li(t)
          , r = e[1] - e[0]
          , i = Math.pow(10, Math.floor(Math.log(r / n) / Math.LN10))
          , o = n / r * i;
        return .15 >= o ? i *= 10 : .35 >= o ? i *= 5 : .75 >= o && (i *= 2),
        e[0] = Math.ceil(e[0] / i) * i,
        e[1] = Math.floor(e[1] / i) * i + .5 * i,
        e[2] = i,
        e
    }
    function Xi(t, n) {
        return ea.range.apply(ea, Yi(t, n))
    }
    function Gi(t, n, e) {
        var r = Yi(t, n);
        if (e) {
            var i = au.exec(e);
            if (i.shift(),
            "s" === i[8]) {
                var o = ea.formatPrefix(Math.max(ha(r[0]), ha(r[1])));
                return i[7] || (i[7] = "." + Qi(o.scale(r[2]))),
                i[8] = "f",
                e = ea.format(i.join("")),
                function(t) {
                    return e(o.scale(t)) + o.symbol
                }
            }
            i[7] || (i[7] = "." + Ji(i[8], r)),
            e = i.join("")
        } else
            e = ",." + Qi(r[2]) + "f";
        return ea.format(e)
    }
    function Qi(t) {
        return -Math.floor(Math.log(t) / Math.LN10 + .01)
    }
    function Ji(t, n) {
        var e = Qi(n[2]);
        return t in ys ? Math.abs(e - Qi(Math.max(ha(n[0]), ha(n[1])))) + +("e" !== t) : e - 2 * ("%" === t)
    }
    function Ki(t, n, e, r) {
        function i(t) {
            return (e ? Math.log(0 > t ? 0 : t) : -Math.log(t > 0 ? 0 : -t)) / Math.log(n)
        }
        function o(t) {
            return e ? Math.pow(n, t) : -Math.pow(n, -t)
        }
        function a(n) {
            return t(i(n))
        }
        return a.invert = function(n) {
            return o(t.invert(n))
        }
        ,
        a.domain = function(n) {
            return arguments.length ? (e = n[0] >= 0,
            t.domain((r = n.map(Number)).map(i)),
            a) : r
        }
        ,
        a.base = function(e) {
            return arguments.length ? (n = +e,
            t.domain(r.map(i)),
            a) : n
        }
        ,
        a.nice = function() {
            var n = Bi(r.map(i), e ? Math : xs);
            return t.domain(n),
            r = n.map(o),
            a
        }
        ,
        a.ticks = function() {
            var t = Li(r)
              , a = []
              , u = t[0]
              , s = t[1]
              , c = Math.floor(i(u))
              , l = Math.ceil(i(s))
              , f = n % 1 ? 2 : n;
            if (isFinite(l - c)) {
                if (e) {
                    for (; l > c; c++)
                        for (var d = 1; f > d; d++)
                            a.push(o(c) * d);
                    a.push(o(c))
                } else
                    for (a.push(o(c)); c++ < l; )
                        for (var d = f - 1; d > 0; d--)
                            a.push(o(c) * d);
                for (c = 0; a[c] < u; c++)
                    ;
                for (l = a.length; a[l - 1] > s; l--)
                    ;
                a = a.slice(c, l)
            }
            return a
        }
        ,
        a.tickFormat = function(t, n) {
            if (!arguments.length)
                return ws;
            arguments.length < 2 ? n = ws : "function" != typeof n && (n = ea.format(n));
            var r, u = Math.max(.1, t / a.ticks().length), s = e ? (r = 1e-12,
            Math.ceil) : (r = -1e-12,
            Math.floor);
            return function(t) {
                return t / o(s(i(t) + r)) <= u ? n(t) : ""
            }
        }
        ,
        a.copy = function() {
            return Ki(t.copy(), n, e, r)
        }
        ,
        Vi(a, t)
    }
    function Zi(t, n, e) {
        function r(n) {
            return t(i(n))
        }
        var i = $i(n)
          , o = $i(1 / n);
        return r.invert = function(n) {
            return o(t.invert(n))
        }
        ,
        r.domain = function(n) {
            return arguments.length ? (t.domain((e = n.map(Number)).map(i)),
            r) : e
        }
        ,
        r.ticks = function(t) {
            return Xi(e, t)
        }
        ,
        r.tickFormat = function(t, n) {
            return Gi(e, t, n)
        }
        ,
        r.nice = function(t) {
            return r.domain(Ui(e, t))
        }
        ,
        r.exponent = function(a) {
            return arguments.length ? (i = $i(n = a),
            o = $i(1 / n),
            t.domain(e.map(i)),
            r) : n
        }
        ,
        r.copy = function() {
            return Zi(t.copy(), n, e)
        }
        ,
        Vi(r, t)
    }
    function $i(t) {
        return function(n) {
            return 0 > n ? -Math.pow(-n, t) : Math.pow(n, t)
        }
    }
    function to(t, n) {
        function e(e) {
            return o[((i.get(e) || ("range" === n.t ? i.set(e, t.push(e)) : NaN)) - 1) % o.length]
        }
        function r(n, e) {
            return ea.range(t.length).map(function(t) {
                return n + e * t
            }
            )
        }
        var i, o, a;
        return e.domain = function(r) {
            if (!arguments.length)
                return t;
            t = [],
            i = new c;
            for (var o, a = -1, u = r.length; ++a < u; )
                i.has(o = r[a]) || i.set(o, t.push(o));
            return e[n.t].apply(e, n.a)
        }
        ,
        e.range = function(t) {
            return arguments.length ? (o = t,
            a = 0,
            n = {
                t: "range",
                a: arguments
            },
            e) : o
        }
        ,
        e.rangePoints = function(i, u) {
            arguments.length < 2 && (u = 0);
            var s = i[0]
              , c = i[1]
              , l = t.length < 2 ? (s = (s + c) / 2,
            0) : (c - s) / (t.length - 1 + u);
            return o = r(s + l * u / 2, l),
            a = 0,
            n = {
                t: "rangePoints",
                a: arguments
            },
            e
        }
        ,
        e.rangeRoundPoints = function(i, u) {
            arguments.length < 2 && (u = 0);
            var s = i[0]
              , c = i[1]
              , l = t.length < 2 ? (s = c = Math.round((s + c) / 2),
            0) : (c - s) / (t.length - 1 + u) | 0;
            return o = r(s + Math.round(l * u / 2 + (c - s - (t.length - 1 + u) * l) / 2), l),
            a = 0,
            n = {
                t: "rangeRoundPoints",
                a: arguments
            },
            e
        }
        ,
        e.rangeBands = function(i, u, s) {
            arguments.length < 2 && (u = 0),
            arguments.length < 3 && (s = u);
            var c = i[1] < i[0]
              , l = i[c - 0]
              , f = i[1 - c]
              , d = (f - l) / (t.length - u + 2 * s);
            return o = r(l + d * s, d),
            c && o.reverse(),
            a = d * (1 - u),
            n = {
                t: "rangeBands",
                a: arguments
            },
            e
        }
        ,
        e.rangeRoundBands = function(i, u, s) {
            arguments.length < 2 && (u = 0),
            arguments.length < 3 && (s = u);
            var c = i[1] < i[0]
              , l = i[c - 0]
              , f = i[1 - c]
              , d = Math.floor((f - l) / (t.length - u + 2 * s));
            return o = r(l + Math.round((f - l - (t.length - u) * d) / 2), d),
            c && o.reverse(),
            a = Math.round(d * (1 - u)),
            n = {
                t: "rangeRoundBands",
                a: arguments
            },
            e
        }
        ,
        e.rangeBand = function() {
            return a
        }
        ,
        e.rangeExtent = function() {
            return Li(n.a[0])
        }
        ,
        e.copy = function() {
            return to(t, n)
        }
        ,
        e.domain(t)
    }
    function no(t, n) {
        function o() {
            var e = 0
              , r = n.length;
            for (u = []; ++e < r; )
                u[e - 1] = ea.quantile(t, e / r);
            return a
        }
        function a(t) {
            return isNaN(t = +t) ? void 0 : n[ea.bisect(u, t)]
        }
        var u;
        return a.domain = function(n) {
            return arguments.length ? (t = n.map(r).filter(i).sort(e),
            o()) : t
        }
        ,
        a.range = function(t) {
            return arguments.length ? (n = t,
            o()) : n
        }
        ,
        a.quantiles = function() {
            return u
        }
        ,
        a.invertExtent = function(e) {
            return e = n.indexOf(e),
            0 > e ? [NaN, NaN] : [e > 0 ? u[e - 1] : t[0], e < u.length ? u[e] : t[t.length - 1]]
        }
        ,
        a.copy = function() {
            return no(t, n)
        }
        ,
        o()
    }
    function eo(t, n, e) {
        function r(n) {
            return e[Math.max(0, Math.min(a, Math.floor(o * (n - t))))]
        }
        function i() {
            return o = e.length / (n - t),
            a = e.length - 1,
            r
        }
        var o, a;
        return r.domain = function(e) {
            return arguments.length ? (t = +e[0],
            n = +e[e.length - 1],
            i()) : [t, n]
        }
        ,
        r.range = function(t) {
            return arguments.length ? (e = t,
            i()) : e
        }
        ,
        r.invertExtent = function(n) {
            return n = e.indexOf(n),
            n = 0 > n ? NaN : n / o + t,
            [n, n + 1 / o]
        }
        ,
        r.copy = function() {
            return eo(t, n, e)
        }
        ,
        i()
    }
    function ro(t, n) {
        function e(e) {
            return e >= e ? n[ea.bisect(t, e)] : void 0
        }
        return e.domain = function(n) {
            return arguments.length ? (t = n,
            e) : t
        }
        ,
        e.range = function(t) {
            return arguments.length ? (n = t,
            e) : n
        }
        ,
        e.invertExtent = function(e) {
            return e = n.indexOf(e),
            [t[e - 1], t[e]]
        }
        ,
        e.copy = function() {
            return ro(t, n)
        }
        ,
        e
    }
    function io(t) {
        function n(t) {
            return +t
        }
        return n.invert = n,
        n.domain = n.range = function(e) {
            return arguments.length ? (t = e.map(n),
            n) : t
        }
        ,
        n.ticks = function(n) {
            return Xi(t, n)
        }
        ,
        n.tickFormat = function(n, e) {
            return Gi(t, n, e)
        }
        ,
        n.copy = function() {
            return io(t)
        }
        ,
        n
    }
    function oo() {
        return 0
    }
    function ao(t) {
        return t.innerRadius
    }
    function uo(t) {
        return t.outerRadius
    }
    function so(t) {
        return t.startAngle
    }
    function co(t) {
        return t.endAngle
    }
    function lo(t) {
        return t && t.padAngle
    }
    function fo(t, n, e, r) {
        return (t - e) * n - (n - r) * t > 0 ? 0 : 1
    }
    function po(t, n, e, r, i) {
        var o = t[0] - n[0]
          , a = t[1] - n[1]
          , u = (i ? r : -r) / Math.sqrt(o * o + a * a)
          , s = u * a
          , c = -u * o
          , l = t[0] + s
          , f = t[1] + c
          , d = n[0] + s
          , p = n[1] + c
          , h = (l + d) / 2
          , m = (f + p) / 2
          , v = d - l
          , g = p - f
          , b = v * v + g * g
          , y = e - r
          , w = l * p - d * f
          , x = (0 > g ? -1 : 1) * Math.sqrt(y * y * b - w * w)
          , E = (w * g - v * x) / b
          , _ = (-w * v - g * x) / b
          , C = (w * g + v * x) / b
          , S = (-w * v + g * x) / b
          , M = E - h
          , k = _ - m
          , A = C - h
          , P = S - m;
        return M * M + k * k > A * A + P * P && (E = C,
        _ = S),
        [[E - s, _ - c], [E * e / y, _ * e / y]]
    }
    function ho(t) {
        function n(n) {
            function a() {
                c.push("M", o(t(l), u))
            }
            for (var s, c = [], l = [], f = -1, d = n.length, p = Mt(e), h = Mt(r); ++f < d; )
                i.call(this, s = n[f], f) ? l.push([+p.call(this, s, f), +h.call(this, s, f)]) : l.length && (a(),
                l = []);
            return l.length && a(),
            c.length ? c.join("") : null 
        }
        var e = Ae
          , r = Pe
          , i = Pn
          , o = mo
          , a = o.key
          , u = .7;
        return n.x = function(t) {
            return arguments.length ? (e = t,
            n) : e
        }
        ,
        n.y = function(t) {
            return arguments.length ? (r = t,
            n) : r
        }
        ,
        n.defined = function(t) {
            return arguments.length ? (i = t,
            n) : i
        }
        ,
        n.interpolate = function(t) {
            return arguments.length ? (a = "function" == typeof t ? o = t : (o = ks.get(t) || mo).key,
            n) : a
        }
        ,
        n.tension = function(t) {
            return arguments.length ? (u = t,
            n) : u
        }
        ,
        n
    }
    function mo(t) {
        return t.join("L")
    }
    function vo(t) {
        return mo(t) + "Z"
    }
    function go(t) {
        for (var n = 0, e = t.length, r = t[0], i = [r[0], ",", r[1]]; ++n < e; )
            i.push("H", (r[0] + (r = t[n])[0]) / 2, "V", r[1]);
        return e > 1 && i.push("H", r[0]),
        i.join("")
    }
    function bo(t) {
        for (var n = 0, e = t.length, r = t[0], i = [r[0], ",", r[1]]; ++n < e; )
            i.push("V", (r = t[n])[1], "H", r[0]);
        return i.join("")
    }
    function yo(t) {
        for (var n = 0, e = t.length, r = t[0], i = [r[0], ",", r[1]]; ++n < e; )
            i.push("H", (r = t[n])[0], "V", r[1]);
        return i.join("")
    }
    function wo(t, n) {
        return t.length < 4 ? mo(t) : t[1] + _o(t.slice(1, -1), Co(t, n))
    }
    function xo(t, n) {
        return t.length < 3 ? mo(t) : t[0] + _o((t.push(t[0]),
        t), Co([t[t.length - 2]].concat(t, [t[1]]), n))
    }
    function Eo(t, n) {
        return t.length < 3 ? mo(t) : t[0] + _o(t, Co(t, n))
    }
    function _o(t, n) {
        if (n.length < 1 || t.length != n.length && t.length != n.length + 2)
            return mo(t);
        var e = t.length != n.length
          , r = ""
          , i = t[0]
          , o = t[1]
          , a = n[0]
          , u = a
          , s = 1;
        if (e && (r += "Q" + (o[0] - 2 * a[0] / 3) + "," + (o[1] - 2 * a[1] / 3) + "," + o[0] + "," + o[1],
        i = t[1],
        s = 2),
        n.length > 1) {
            u = n[1],
            o = t[s],
            s++,
            r += "C" + (i[0] + a[0]) + "," + (i[1] + a[1]) + "," + (o[0] - u[0]) + "," + (o[1] - u[1]) + "," + o[0] + "," + o[1];
            for (var c = 2; c < n.length; c++,
            s++)
                o = t[s],
                u = n[c],
                r += "S" + (o[0] - u[0]) + "," + (o[1] - u[1]) + "," + o[0] + "," + o[1]
        }
        if (e) {
            var l = t[s];
            r += "Q" + (o[0] + 2 * u[0] / 3) + "," + (o[1] + 2 * u[1] / 3) + "," + l[0] + "," + l[1]
        }
        return r
    }
    function Co(t, n) {
        for (var e, r = [], i = (1 - n) / 2, o = t[0], a = t[1], u = 1, s = t.length; ++u < s; )
            e = o,
            o = a,
            a = t[u],
            r.push([i * (a[0] - e[0]), i * (a[1] - e[1])]);
        return r
    }
    function So(t) {
        if (t.length < 3)
            return mo(t);
        var n = 1
          , e = t.length
          , r = t[0]
          , i = r[0]
          , o = r[1]
          , a = [i, i, i, (r = t[1])[0]]
          , u = [o, o, o, r[1]]
          , s = [i, ",", o, "L", Po(Ts, a), ",", Po(Ts, u)];
        for (t.push(t[e - 1]); ++n <= e; )
            r = t[n],
            a.shift(),
            a.push(r[0]),
            u.shift(),
            u.push(r[1]),
            To(s, a, u);
        return t.pop(),
        s.push("L", r),
        s.join("")
    }
    function Mo(t) {
        if (t.length < 4)
            return mo(t);
        for (var n, e = [], r = -1, i = t.length, o = [0], a = [0]; ++r < 3; )
            n = t[r],
            o.push(n[0]),
            a.push(n[1]);
        for (e.push(Po(Ts, o) + "," + Po(Ts, a)),
        --r; ++r < i; )
            n = t[r],
            o.shift(),
            o.push(n[0]),
            a.shift(),
            a.push(n[1]),
            To(e, o, a);
        return e.join("")
    }
    function ko(t) {
        for (var n, e, r = -1, i = t.length, o = i + 4, a = [], u = []; ++r < 4; )
            e = t[r % i],
            a.push(e[0]),
            u.push(e[1]);
        for (n = [Po(Ts, a), ",", Po(Ts, u)],
        --r; ++r < o; )
            e = t[r % i],
            a.shift(),
            a.push(e[0]),
            u.shift(),
            u.push(e[1]),
            To(n, a, u);
        return n.join("")
    }
    function Ao(t, n) {
        var e = t.length - 1;
        if (e)
            for (var r, i, o = t[0][0], a = t[0][1], u = t[e][0] - o, s = t[e][1] - a, c = -1; ++c <= e; )
                r = t[c],
                i = c / e,
                r[0] = n * r[0] + (1 - n) * (o + i * u),
                r[1] = n * r[1] + (1 - n) * (a + i * s);
        return So(t)
    }
    function Po(t, n) {
        return t[0] * n[0] + t[1] * n[1] + t[2] * n[2] + t[3] * n[3]
    }
    function To(t, n, e) {
        t.push("C", Po(As, n), ",", Po(As, e), ",", Po(Ps, n), ",", Po(Ps, e), ",", Po(Ts, n), ",", Po(Ts, e))
    }
    function No(t, n) {
        return (n[1] - t[1]) / (n[0] - t[0])
    }
    function Do(t) {
        for (var n = 0, e = t.length - 1, r = [], i = t[0], o = t[1], a = r[0] = No(i, o); ++n < e; )
            r[n] = (a + (a = No(i = o, o = t[n + 1]))) / 2;
        return r[n] = a,
        r
    }
    function jo(t) {
        for (var n, e, r, i, o = [], a = Do(t), u = -1, s = t.length - 1; ++u < s; )
            n = No(t[u], t[u + 1]),
            ha(n) < Ta ? a[u] = a[u + 1] = 0 : (e = a[u] / n,
            r = a[u + 1] / n,
            i = e * e + r * r,
            i > 9 && (i = 3 * n / Math.sqrt(i),
            a[u] = i * e,
            a[u + 1] = i * r));
        for (u = -1; ++u <= s; )
            i = (t[Math.min(s, u + 1)][0] - t[Math.max(0, u - 1)][0]) / (6 * (1 + a[u] * a[u])),
            o.push([i || 0, a[u] * i || 0]);
        return o
    }
    function Oo(t) {
        return t.length < 3 ? mo(t) : t[0] + _o(t, jo(t))
    }
    function Io(t) {
        for (var n, e, r, i = -1, o = t.length; ++i < o; )
            n = t[i],
            e = n[0],
            r = n[1] - Ia,
            n[0] = e * Math.cos(r),
            n[1] = e * Math.sin(r);
        return t
    }
    function Ro(t) {
        function n(n) {
            function s() {
                m.push("M", u(t(g), f), l, c(t(v.reverse()), f), "Z")
            }
            for (var d, p, h, m = [], v = [], g = [], b = -1, y = n.length, w = Mt(e), x = Mt(i), E = e === r ? function() {
                return p
            }
             : Mt(r), _ = i === o ? function() {
                return h
            }
             : Mt(o); ++b < y; )
                a.call(this, d = n[b], b) ? (v.push([p = +w.call(this, d, b), h = +x.call(this, d, b)]),
                g.push([+E.call(this, d, b), +_.call(this, d, b)])) : v.length && (s(),
                v = [],
                g = []);
            return v.length && s(),
            m.length ? m.join("") : null 
        }
        var e = Ae
          , r = Ae
          , i = 0
          , o = Pe
          , a = Pn
          , u = mo
          , s = u.key
          , c = u
          , l = "L"
          , f = .7;
        return n.x = function(t) {
            return arguments.length ? (e = r = t,
            n) : r
        }
        ,
        n.x0 = function(t) {
            return arguments.length ? (e = t,
            n) : e
        }
        ,
        n.x1 = function(t) {
            return arguments.length ? (r = t,
            n) : r
        }
        ,
        n.y = function(t) {
            return arguments.length ? (i = o = t,
            n) : o
        }
        ,
        n.y0 = function(t) {
            return arguments.length ? (i = t,
            n) : i
        }
        ,
        n.y1 = function(t) {
            return arguments.length ? (o = t,
            n) : o
        }
        ,
        n.defined = function(t) {
            return arguments.length ? (a = t,
            n) : a
        }
        ,
        n.interpolate = function(t) {
            return arguments.length ? (s = "function" == typeof t ? u = t : (u = ks.get(t) || mo).key,
            c = u.reverse || u,
            l = u.closed ? "M" : "L",
            n) : s
        }
        ,
        n.tension = function(t) {
            return arguments.length ? (f = t,
            n) : f
        }
        ,
        n
    }
    function Lo(t) {
        return t.radius
    }
    function zo(t) {
        return [t.x, t.y]
    }
    function qo(t) {
        return function() {
            var n = t.apply(this, arguments)
              , e = n[0]
              , r = n[1] - Ia;
            return [e * Math.cos(r), e * Math.sin(r)]
        }
    }
    function Bo() {
        return 64
    }
    function Wo() {
        return "circle"
    }
    function Fo(t) {
        var n = Math.sqrt(t / Da);
        return "M0," + n + "A" + n + "," + n + " 0 1,1 0," + -n + "A" + n + "," + n + " 0 1,1 0," + n + "Z"
    }
    function Ho(t) {
        return function() {
            var n, e;
            (n = this[t]) && (e = n[n.active]) && (--n.count ? delete n[n.active] : delete this[t],
            n.active += .5,
            e.event && e.event.interrupt.call(this, this.__data__, e.index))
        }
    }
    function Vo(t, n, e) {
        return ya(t, Ls),
        t.namespace = n,
        t.id = e,
        t
    }
    function Uo(t, n, e, r) {
        var i = t.id
          , o = t.namespace;
        return H(t, "function" == typeof e ? function(t, a, u) {
            t[o][i].tween.set(n, r(e.call(t, t.__data__, a, u)))
        }
         : (e = r(e),
        function(t) {
            t[o][i].tween.set(n, e)
        }
        ))
    }
    function Yo(t) {
        return null  == t && (t = ""),
        function() {
            this.textContent = t
        }
    }
    function Xo(t) {
        return null  == t ? "__transition__" : "__transition_" + t + "__"
    }
    function Go(t, n, e, r, i) {
        var o = t[e] || (t[e] = {
            active: 0,
            count: 0
        })
          , a = o[r];
        if (!a) {
            var u = i.time;
            a = o[r] = {
                tween: new c,
                time: u,
                delay: i.delay,
                duration: i.duration,
                ease: i.ease,
                index: n
            },
            i = null ,
            ++o.count,
            ea.timer(function(i) {
                function s(e) {
                    if (o.active > r)
                        return l();
                    var i = o[o.active];
                    i && (--o.count,
                    delete o[o.active],
                    i.event && i.event.interrupt.call(t, t.__data__, i.index)),
                    o.active = r,
                    a.event && a.event.start.call(t, t.__data__, n),
                    a.tween.forEach(function(e, r) {
                        (r = r.call(t, t.__data__, n)) && m.push(r)
                    }
                    ),
                    d = a.ease,
                    f = a.duration,
                    ea.timer(function() {
                        return h.c = c(e || 1) ? Pn : c,
                        1
                    }
                    , 0, u)
                }
                function c(e) {
                    if (o.active !== r)
                        return 1;
                    for (var i = e / f, u = d(i), s = m.length; s > 0; )
                        m[--s].call(t, u);
                    return i >= 1 ? (a.event && a.event.end.call(t, t.__data__, n),
                    l()) : void 0
                }
                function l() {
                    return --o.count ? delete o[r] : delete t[e],
                    1
                }
                var f, d, p = a.delay, h = ru, m = [];
                return h.t = p + u,
                i >= p ? s(i - p) : void (h.c = s)
            }
            , 0, u)
        }
    }
    function Qo(t, n, e) {
        t.attr("transform", function(t) {
            var r = n(t);
            return "translate(" + (isFinite(r) ? r : e(t)) + ",0)"
        }
        )
    }
    function Jo(t, n, e) {
        t.attr("transform", function(t) {
            var r = n(t);
            return "translate(0," + (isFinite(r) ? r : e(t)) + ")"
        }
        )
    }
    function Ko(t) {
        return t.toISOString()
    }
    function Zo(t, n, e) {
        function r(n) {
            return t(n)
        }
        function i(t, e) {
            var r = t[1] - t[0]
              , i = r / e
              , o = ea.bisect(Ys, i);
            return o == Ys.length ? [n.year, Yi(t.map(function(t) {
                return t / 31536e6
            }
            ), e)[2]] : o ? n[i / Ys[o - 1] < Ys[o] / i ? o - 1 : o] : [Qs, Yi(t, e)[2]]
        }
        return r.invert = function(n) {
            return $o(t.invert(n))
        }
        ,
        r.domain = function(n) {
            return arguments.length ? (t.domain(n),
            r) : t.domain().map($o)
        }
        ,
        r.nice = function(t, n) {
            function e(e) {
                return !isNaN(e) && !t.range(e, $o(+e + 1), n).length
            }
            var o = r.domain()
              , a = Li(o)
              , u = null  == t ? i(a, 10) : "number" == typeof t && i(a, t);
            return u && (t = u[0],
            n = u[1]),
            r.domain(Bi(o, n > 1 ? {
                floor: function(n) {
                    for (; e(n = t.floor(n)); )
                        n = $o(n - 1);
                    return n
                },
                ceil: function(n) {
                    for (; e(n = t.ceil(n)); )
                        n = $o(+n + 1);
                    return n
                }
            } : t))
        }
        ,
        r.ticks = function(t, n) {
            var e = Li(r.domain())
              , o = null  == t ? i(e, 10) : "number" == typeof t ? i(e, t) : !t.range && [{
                range: t
            }, n];
            return o && (t = o[0],
            n = o[1]),
            t.range(e[0], $o(+e[1] + 1), 1 > n ? 1 : n)
        }
        ,
        r.tickFormat = function() {
            return e
        }
        ,
        r.copy = function() {
            return Zo(t.copy(), n, e)
        }
        ,
        Vi(r, t)
    }
    function $o(t) {
        return new Date(t)
    }
    function ta(t) {
        return JSON.parse(t.responseText)
    }
    function na(t) {
        var n = oa.createRange();
        return n.selectNode(oa.body),
        n.createContextualFragment(t.responseText)
    }
    var ea = {
        version: "3.5.6"
    }
      , ra = [].slice
      , ia = function(t) {
        return ra.call(t)
    }
      , oa = this.document;
    if (oa)
        try {
            ia(oa.documentElement.childNodes)[0].nodeType
        } catch (aa) {
            ia = function(t) {
                for (var n = t.length, e = new Array(n); n--; )
                    e[n] = t[n];
                return e
            }
        }
    if (Date.now || (Date.now = function() {
        return +new Date
    }
    ),
    oa)
        try {
            oa.createElement("DIV").style.setProperty("opacity", 0, "")
        } catch (ua) {
            var sa = this.Element.prototype
              , ca = sa.setAttribute
              , la = sa.setAttributeNS
              , fa = this.CSSStyleDeclaration.prototype
              , da = fa.setProperty;
            sa.setAttribute = function(t, n) {
                ca.call(this, t, n + "")
            }
            ,
            sa.setAttributeNS = function(t, n, e) {
                la.call(this, t, n, e + "")
            }
            ,
            fa.setProperty = function(t, n, e) {
                da.call(this, t, n + "", e)
            }
        }
    ea.ascending = e,
    ea.descending = function(t, n) {
        return t > n ? -1 : n > t ? 1 : n >= t ? 0 : NaN
    }
    ,
    ea.min = function(t, n) {
        var e, r, i = -1, o = t.length;
        if (1 === arguments.length) {
            for (; ++i < o; )
                if (null  != (r = t[i]) && r >= r) {
                    e = r;
                    break
                }
            for (; ++i < o; )
                null  != (r = t[i]) && e > r && (e = r)
        } else {
            for (; ++i < o; )
                if (null  != (r = n.call(t, t[i], i)) && r >= r) {
                    e = r;
                    break
                }
            for (; ++i < o; )
                null  != (r = n.call(t, t[i], i)) && e > r && (e = r)
        }
        return e
    }
    ,
    ea.max = function(t, n) {
        var e, r, i = -1, o = t.length;
        if (1 === arguments.length) {
            for (; ++i < o; )
                if (null  != (r = t[i]) && r >= r) {
                    e = r;
                    break
                }
            for (; ++i < o; )
                null  != (r = t[i]) && r > e && (e = r)
        } else {
            for (; ++i < o; )
                if (null  != (r = n.call(t, t[i], i)) && r >= r) {
                    e = r;
                    break
                }
            for (; ++i < o; )
                null  != (r = n.call(t, t[i], i)) && r > e && (e = r)
        }
        return e
    }
    ,
    ea.extent = function(t, n) {
        var e, r, i, o = -1, a = t.length;
        if (1 === arguments.length) {
            for (; ++o < a; )
                if (null  != (r = t[o]) && r >= r) {
                    e = i = r;
                    break
                }
            for (; ++o < a; )
                null  != (r = t[o]) && (e > r && (e = r),
                r > i && (i = r))
        } else {
            for (; ++o < a; )
                if (null  != (r = n.call(t, t[o], o)) && r >= r) {
                    e = i = r;
                    break
                }
            for (; ++o < a; )
                null  != (r = n.call(t, t[o], o)) && (e > r && (e = r),
                r > i && (i = r))
        }
        return [e, i]
    }
    ,
    ea.sum = function(t, n) {
        var e, r = 0, o = t.length, a = -1;
        if (1 === arguments.length)
            for (; ++a < o; )
                i(e = +t[a]) && (r += e);
        else
            for (; ++a < o; )
                i(e = +n.call(t, t[a], a)) && (r += e);
        return r
    }
    ,
    ea.mean = function(t, n) {
        var e, o = 0, a = t.length, u = -1, s = a;
        if (1 === arguments.length)
            for (; ++u < a; )
                i(e = r(t[u])) ? o += e : --s;
        else
            for (; ++u < a; )
                i(e = r(n.call(t, t[u], u))) ? o += e : --s;
        return s ? o / s : void 0
    }
    ,
    ea.quantile = function(t, n) {
        var e = (t.length - 1) * n + 1
          , r = Math.floor(e)
          , i = +t[r - 1]
          , o = e - r;
        return o ? i + o * (t[r] - i) : i
    }
    ,
    ea.median = function(t, n) {
        var o, a = [], u = t.length, s = -1;
        if (1 === arguments.length)
            for (; ++s < u; )
                i(o = r(t[s])) && a.push(o);
        else
            for (; ++s < u; )
                i(o = r(n.call(t, t[s], s))) && a.push(o);
        return a.length ? ea.quantile(a.sort(e), .5) : void 0
    }
    ,
    ea.variance = function(t, n) {
        var e, o, a = t.length, u = 0, s = 0, c = -1, l = 0;
        if (1 === arguments.length)
            for (; ++c < a; )
                i(e = r(t[c])) && (o = e - u,
                u += o / ++l,
                s += o * (e - u));
        else
            for (; ++c < a; )
                i(e = r(n.call(t, t[c], c))) && (o = e - u,
                u += o / ++l,
                s += o * (e - u));
        return l > 1 ? s / (l - 1) : void 0
    }
    ,
    ea.deviation = function() {
        var t = ea.variance.apply(this, arguments);
        return t ? Math.sqrt(t) : t
    }
    ;
    var pa = o(e);
    ea.bisectLeft = pa.left,
    ea.bisect = ea.bisectRight = pa.right,
    ea.bisector = function(t) {
        return o(1 === t.length ? function(n, r) {
            return e(t(n), r)
        }
         : t)
    }
    ,
    ea.shuffle = function(t, n, e) {
        (o = arguments.length) < 3 && (e = t.length,
        2 > o && (n = 0));
        for (var r, i, o = e - n; o; )
            i = Math.random() * o-- | 0,
            r = t[o + n],
            t[o + n] = t[i + n],
            t[i + n] = r;
        return t
    }
    ,
    ea.permute = function(t, n) {
        for (var e = n.length, r = new Array(e); e--; )
            r[e] = t[n[e]];
        return r
    }
    ,
    ea.pairs = function(t) {
        for (var n, e = 0, r = t.length - 1, i = t[0], o = new Array(0 > r ? 0 : r); r > e; )
            o[e] = [n = i, i = t[++e]];
        return o
    }
    ,
    ea.zip = function() {
        if (!(r = arguments.length))
            return [];
        for (var t = -1, n = ea.min(arguments, a), e = new Array(n); ++t < n; )
            for (var r, i = -1, o = e[t] = new Array(r); ++i < r; )
                o[i] = arguments[i][t];
        return e
    }
    ,
    ea.transpose = function(t) {
        return ea.zip.apply(ea, t)
    }
    ,
    ea.keys = function(t) {
        var n = [];
        for (var e in t)
            n.push(e);
        return n
    }
    ,
    ea.values = function(t) {
        var n = [];
        for (var e in t)
            n.push(t[e]);
        return n
    }
    ,
    ea.entries = function(t) {
        var n = [];
        for (var e in t)
            n.push({
                key: e,
                value: t[e]
            });
        return n
    }
    ,
    ea.merge = function(t) {
        for (var n, e, r, i = t.length, o = -1, a = 0; ++o < i; )
            a += t[o].length;
        for (e = new Array(a); --i >= 0; )
            for (r = t[i],
            n = r.length; --n >= 0; )
                e[--a] = r[n];
        return e
    }
    ;
    var ha = Math.abs;
    ea.range = function(t, n, e) {
        if (arguments.length < 3 && (e = 1,
        arguments.length < 2 && (n = t,
        t = 0)),
        (n - t) / e === 1 / 0)
            throw new Error("infinite range");
        var r, i = [], o = u(ha(e)), a = -1;
        if (t *= o,
        n *= o,
        e *= o,
        0 > e)
            for (; (r = t + e * ++a) > n; )
                i.push(r / o);
        else
            for (; (r = t + e * ++a) < n; )
                i.push(r / o);
        return i
    }
    ,
    ea.map = function(t, n) {
        var e = new c;
        if (t instanceof c)
            t.forEach(function(t, n) {
                e.set(t, n)
            }
            );
        else if (Array.isArray(t)) {
            var r, i = -1, o = t.length;
            if (1 === arguments.length)
                for (; ++i < o; )
                    e.set(i, t[i]);
            else
                for (; ++i < o; )
                    e.set(n.call(t, r = t[i], i), r)
        } else
            for (var a in t)
                e.set(a, t[a]);
        return e
    }
    ;
    var ma = "__proto__"
      , va = "\x00";
    s(c, {
        has: d,
        get: function(t) {
            return this._[l(t)]
        },
        set: function(t, n) {
            return this._[l(t)] = n
        },
        remove: p,
        keys: h,
        values: function() {
            var t = [];
            for (var n in this._)
                t.push(this._[n]);
            return t
        },
        entries: function() {
            var t = [];
            for (var n in this._)
                t.push({
                    key: f(n),
                    value: this._[n]
                });
            return t
        },
        size: m,
        empty: v,
        forEach: function(t) {
            for (var n in this._)
                t.call(this, f(n), this._[n])
        }
    }),
    ea.nest = function() {
        function t(n, a, u) {
            if (u >= o.length)
                return r ? r.call(i, a) : e ? a.sort(e) : a;
            for (var s, l, f, d, p = -1, h = a.length, m = o[u++], v = new c; ++p < h; )
                (d = v.get(s = m(l = a[p]))) ? d.push(l) : v.set(s, [l]);
            return n ? (l = n(),
            f = function(e, r) {
                l.set(e, t(n, r, u))
            }
            ) : (l = {},
            f = function(e, r) {
                l[e] = t(n, r, u)
            }
            ),
            v.forEach(f),
            l
        }
        function n(t, e) {
            if (e >= o.length)
                return t;
            var r = []
              , i = a[e++];
            return t.forEach(function(t, i) {
                r.push({
                    key: t,
                    values: n(i, e)
                })
            }
            ),
            i ? r.sort(function(t, n) {
                return i(t.key, n.key)
            }
            ) : r
        }
        var e, r, i = {}, o = [], a = [];
        return i.map = function(n, e) {
            return t(e, n, 0)
        }
        ,
        i.entries = function(e) {
            return n(t(ea.map, e, 0), 0)
        }
        ,
        i.key = function(t) {
            return o.push(t),
            i
        }
        ,
        i.sortKeys = function(t) {
            return a[o.length - 1] = t,
            i
        }
        ,
        i.sortValues = function(t) {
            return e = t,
            i
        }
        ,
        i.rollup = function(t) {
            return r = t,
            i
        }
        ,
        i
    }
    ,
    ea.set = function(t) {
        var n = new g;
        if (t)
            for (var e = 0, r = t.length; r > e; ++e)
                n.add(t[e]);
        return n
    }
    ,
    s(g, {
        has: d,
        add: function(t) {
            return this._[l(t += "")] = !0,
            t
        },
        remove: p,
        values: h,
        size: m,
        empty: v,
        forEach: function(t) {
            for (var n in this._)
                t.call(this, f(n))
        }
    }),
    ea.behavior = {},
    ea.rebind = function(t, n) {
        for (var e, r = 1, i = arguments.length; ++r < i; )
            t[e = arguments[r]] = y(t, n, n[e]);
        return t
    }
    ;
    var ga = ["webkit", "ms", "moz", "Moz", "o", "O"];
    ea.dispatch = function() {
        for (var t = new E, n = -1, e = arguments.length; ++n < e; )
            t[arguments[n]] = _(t);
        return t
    }
    ,
    E.prototype.on = function(t, n) {
        var e = t.indexOf(".")
          , r = "";
        if (e >= 0 && (r = t.slice(e + 1),
        t = t.slice(0, e)),
        t)
            return arguments.length < 2 ? this[t].on(r) : this[t].on(r, n);
        if (2 === arguments.length) {
            if (null  == n)
                for (t in this)
                    this.hasOwnProperty(t) && this[t].on(r, null );
            return this
        }
    }
    ,
    ea.event = null ,
    ea.requote = function(t) {
        return t.replace(ba, "\\$&")
    }
    ;
    var ba = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g
      , ya = {}.__proto__ ? function(t, n) {
        t.__proto__ = n
    }
     : function(t, n) {
        for (var e in n)
            t[e] = n[e]
    }
      , wa = function(t, n) {
        return n.querySelector(t)
    }
      , xa = function(t, n) {
        return n.querySelectorAll(t)
    }
      , Ea = function(t, n) {
        var e = t.matches || t[w(t, "matchesSelector")];
        return (Ea = function(t, n) {
            return e.call(t, n)
        }
        )(t, n)
    }
    ;
    "function" == typeof Sizzle && (wa = function(t, n) {
        return Sizzle(t, n)[0] || null 
    }
    ,
    xa = Sizzle,
    Ea = Sizzle.matchesSelector),
    ea.selection = function() {
        return ea.select(oa.documentElement)
    }
    ;
    var _a = ea.selection.prototype = [];
    _a.select = function(t) {
        var n, e, r, i, o = [];
        t = A(t);
        for (var a = -1, u = this.length; ++a < u; ) {
            o.push(n = []),
            n.parentNode = (r = this[a]).parentNode;
            for (var s = -1, c = r.length; ++s < c; )
                (i = r[s]) ? (n.push(e = t.call(i, i.__data__, s, a)),
                e && "__data__" in i && (e.__data__ = i.__data__)) : n.push(null )
        }
        return k(o)
    }
    ,
    _a.selectAll = function(t) {
        var n, e, r = [];
        t = P(t);
        for (var i = -1, o = this.length; ++i < o; )
            for (var a = this[i], u = -1, s = a.length; ++u < s; )
                (e = a[u]) && (r.push(n = ia(t.call(e, e.__data__, u, i))),
                n.parentNode = e);
        return k(r)
    }
    ;
    var Ca = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: "http://www.w3.org/1999/xhtml",
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    };
    ea.ns = {
        prefix: Ca,
        qualify: function(t) {
            var n = t.indexOf(":")
              , e = t;
            return n >= 0 && (e = t.slice(0, n),
            t = t.slice(n + 1)),
            Ca.hasOwnProperty(e) ? {
                space: Ca[e],
                local: t
            } : t
        }
    },
    _a.attr = function(t, n) {
        if (arguments.length < 2) {
            if ("string" == typeof t) {
                var e = this.node();
                return t = ea.ns.qualify(t),
                t.local ? e.getAttributeNS(t.space, t.local) : e.getAttribute(t)
            }
            for (n in t)
                this.each(T(n, t[n]));
            return this
        }
        return this.each(T(t, n))
    }
    ,
    _a.classed = function(t, n) {
        if (arguments.length < 2) {
            if ("string" == typeof t) {
                var e = this.node()
                  , r = (t = j(t)).length
                  , i = -1;
                if (n = e.classList) {
                    for (; ++i < r; )
                        if (!n.contains(t[i]))
                            return !1
                } else
                    for (n = e.getAttribute("class"); ++i < r; )
                        if (!D(t[i]).test(n))
                            return !1;
                return !0
            }
            for (n in t)
                this.each(O(n, t[n]));
            return this
        }
        return this.each(O(t, n))
    }
    ,
    _a.style = function(t, e, r) {
        var i = arguments.length;
        if (3 > i) {
            if ("string" != typeof t) {
                2 > i && (e = "");
                for (r in t)
                    this.each(R(r, t[r], e));
                return this
            }
            if (2 > i) {
                var o = this.node();
                return n(o).getComputedStyle(o, null ).getPropertyValue(t)
            }
            r = ""
        }
        return this.each(R(t, e, r))
    }
    ,
    _a.property = function(t, n) {
        if (arguments.length < 2) {
            if ("string" == typeof t)
                return this.node()[t];
            for (n in t)
                this.each(L(n, t[n]));
            return this
        }
        return this.each(L(t, n))
    }
    ,
    _a.text = function(t) {
        return arguments.length ? this.each("function" == typeof t ? function() {
            var n = t.apply(this, arguments);
            this.textContent = null  == n ? "" : n
        }
         : null  == t ? function() {
            this.textContent = ""
        }
         : function() {
            this.textContent = t
        }
        ) : this.node().textContent
    }
    ,
    _a.html = function(t) {
        return arguments.length ? this.each("function" == typeof t ? function() {
            var n = t.apply(this, arguments);
            this.innerHTML = null  == n ? "" : n
        }
         : null  == t ? function() {
            this.innerHTML = ""
        }
         : function() {
            this.innerHTML = t
        }
        ) : this.node().innerHTML
    }
    ,
    _a.append = function(t) {
        return t = z(t),
        this.select(function() {
            return this.appendChild(t.apply(this, arguments))
        }
        )
    }
    ,
    _a.insert = function(t, n) {
        return t = z(t),
        n = A(n),
        this.select(function() {
            return this.insertBefore(t.apply(this, arguments), n.apply(this, arguments) || null )
        }
        )
    }
    ,
    _a.remove = function() {
        return this.each(q)
    }
    ,
    _a.data = function(t, n) {
        function e(t, e) {
            var r, i, o, a = t.length, f = e.length, d = Math.min(a, f), p = new Array(f), h = new Array(f), m = new Array(a);
            if (n) {
                var v, g = new c, b = new Array(a);
                for (r = -1; ++r < a; )
                    g.has(v = n.call(i = t[r], i.__data__, r)) ? m[r] = i : g.set(v, i),
                    b[r] = v;
                for (r = -1; ++r < f; )
                    (i = g.get(v = n.call(e, o = e[r], r))) ? i !== !0 && (p[r] = i,
                    i.__data__ = o) : h[r] = B(o),
                    g.set(v, !0);
                for (r = -1; ++r < a; )
                    g.get(b[r]) !== !0 && (m[r] = t[r])
            } else {
                for (r = -1; ++r < d; )
                    i = t[r],
                    o = e[r],
                    i ? (i.__data__ = o,
                    p[r] = i) : h[r] = B(o);
                for (; f > r; ++r)
                    h[r] = B(e[r]);
                for (; a > r; ++r)
                    m[r] = t[r]
            }
            h.update = p,
            h.parentNode = p.parentNode = m.parentNode = t.parentNode,
            u.push(h),
            s.push(p),
            l.push(m)
        }
        var r, i, o = -1, a = this.length;
        if (!arguments.length) {
            for (t = new Array(a = (r = this[0]).length); ++o < a; )
                (i = r[o]) && (t[o] = i.__data__);
            return t
        }
        var u = V([])
          , s = k([])
          , l = k([]);
        if ("function" == typeof t)
            for (; ++o < a; )
                e(r = this[o], t.call(r, r.parentNode.__data__, o));
        else
            for (; ++o < a; )
                e(r = this[o], t);
        return s.enter = function() {
            return u
        }
        ,
        s.exit = function() {
            return l
        }
        ,
        s
    }
    ,
    _a.datum = function(t) {
        return arguments.length ? this.property("__data__", t) : this.property("__data__")
    }
    ,
    _a.filter = function(t) {
        var n, e, r, i = [];
        "function" != typeof t && (t = W(t));
        for (var o = 0, a = this.length; a > o; o++) {
            i.push(n = []),
            n.parentNode = (e = this[o]).parentNode;
            for (var u = 0, s = e.length; s > u; u++)
                (r = e[u]) && t.call(r, r.__data__, u, o) && n.push(r)
        }
        return k(i)
    }
    ,
    _a.order = function() {
        for (var t = -1, n = this.length; ++t < n; )
            for (var e, r = this[t], i = r.length - 1, o = r[i]; --i >= 0; )
                (e = r[i]) && (o && o !== e.nextSibling && o.parentNode.insertBefore(e, o),
                o = e);
        return this
    }
    ,
    _a.sort = function(t) {
        t = F.apply(this, arguments);
        for (var n = -1, e = this.length; ++n < e; )
            this[n].sort(t);
        return this.order()
    }
    ,
    _a.each = function(t) {
        return H(this, function(n, e, r) {
            t.call(n, n.__data__, e, r)
        }
        )
    }
    ,
    _a.call = function(t) {
        var n = ia(arguments);
        return t.apply(n[0] = this, n),
        this
    }
    ,
    _a.empty = function() {
        return !this.node()
    }
    ,
    _a.node = function() {
        for (var t = 0, n = this.length; n > t; t++)
            for (var e = this[t], r = 0, i = e.length; i > r; r++) {
                var o = e[r];
                if (o)
                    return o
            }
        return null 
    }
    ,
    _a.size = function() {
        var t = 0;
        return H(this, function() {
            ++t
        }
        ),
        t
    }
    ;
    var Sa = [];
    ea.selection.enter = V,
    ea.selection.enter.prototype = Sa,
    Sa.append = _a.append,
    Sa.empty = _a.empty,
    Sa.node = _a.node,
    Sa.call = _a.call,
    Sa.size = _a.size,
    Sa.select = function(t) {
        for (var n, e, r, i, o, a = [], u = -1, s = this.length; ++u < s; ) {
            r = (i = this[u]).update,
            a.push(n = []),
            n.parentNode = i.parentNode;
            for (var c = -1, l = i.length; ++c < l; )
                (o = i[c]) ? (n.push(r[c] = e = t.call(i.parentNode, o.__data__, c, u)),
                e.__data__ = o.__data__) : n.push(null )
        }
        return k(a)
    }
    ,
    Sa.insert = function(t, n) {
        return arguments.length < 2 && (n = U(this)),
        _a.insert.call(this, t, n)
    }
    ,
    ea.select = function(n) {
        var e;
        return "string" == typeof n ? (e = [wa(n, oa)],
        e.parentNode = oa.documentElement) : (e = [n],
        e.parentNode = t(n)),
        k([e])
    }
    ,
    ea.selectAll = function(t) {
        var n;
        return "string" == typeof t ? (n = ia(xa(t, oa)),
        n.parentNode = oa.documentElement) : (n = t,
        n.parentNode = null ),
        k([n])
    }
    ,
    _a.on = function(t, n, e) {
        var r = arguments.length;
        if (3 > r) {
            if ("string" != typeof t) {
                2 > r && (n = !1);
                for (e in t)
                    this.each(Y(e, t[e], n));
                return this
            }
            if (2 > r)
                return (r = this.node()["__on" + t]) && r._;
            e = !1
        }
        return this.each(Y(t, n, e))
    }
    ;
    var Ma = ea.map({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    });
    oa && Ma.forEach(function(t) {
        "on" + t in oa && Ma.remove(t)
    }
    );
    var ka, Aa = 0;
    ea.mouse = function(t) {
        return J(t, S())
    }
    ;
    var Pa = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
    ea.touch = function(t, n, e) {
        if (arguments.length < 3 && (e = n,
        n = S().changedTouches),
        n)
            for (var r, i = 0, o = n.length; o > i; ++i)
                if ((r = n[i]).identifier === e)
                    return J(t, r)
    }
    ,
    ea.behavior.drag = function() {
        function t() {
            this.on("mousedown.drag", o).on("touchstart.drag", a)
        }
        function e(t, n, e, o, a) {
            return function() {
                function u() {
                    var t, e, r = n(d, m);
                    r && (t = r[0] - y[0],
                    e = r[1] - y[1],
                    h |= t | e,
                    y = r,
                    p({
                        type: "drag",
                        x: r[0] + c[0],
                        y: r[1] + c[1],
                        dx: t,
                        dy: e
                    }))
                }
                function s() {
                    n(d, m) && (g.on(o + v, null ).on(a + v, null ),
                    b(h && ea.event.target === f),
                    p({
                        type: "dragend"
                    }))
                }
                var c, l = this, f = ea.event.target, d = l.parentNode, p = r.of(l, arguments), h = 0, m = t(), v = ".drag" + (null  == m ? "" : "-" + m), g = ea.select(e(f)).on(o + v, u).on(a + v, s), b = Q(f), y = n(d, m);
                i ? (c = i.apply(l, arguments),
                c = [c.x - y[0], c.y - y[1]]) : c = [0, 0],
                p({
                    type: "dragstart"
                })
            }
        }
        var r = M(t, "drag", "dragstart", "dragend")
          , i = null 
          , o = e(x, ea.mouse, n, "mousemove", "mouseup")
          , a = e(K, ea.touch, b, "touchmove", "touchend");
        return t.origin = function(n) {
            return arguments.length ? (i = n,
            t) : i
        }
        ,
        ea.rebind(t, r, "on")
    }
    ,
    ea.touches = function(t, n) {
        return arguments.length < 2 && (n = S().touches),
        n ? ia(n).map(function(n) {
            var e = J(t, n);
            return e.identifier = n.identifier,
            e
        }
        ) : []
    }
    ;
    var Ta = 1e-6
      , Na = Ta * Ta
      , Da = Math.PI
      , ja = 2 * Da
      , Oa = ja - Ta
      , Ia = Da / 2
      , Ra = Da / 180
      , La = 180 / Da
      , za = Math.SQRT2
      , qa = 2
      , Ba = 4;
    ea.interpolateZoom = function(t, n) {
        function e(t) {
            var n = t * b;
            if (g) {
                var e = rt(m)
                  , a = o / (qa * d) * (e * it(za * n + m) - et(m));
                return [r + a * c, i + a * l, o * e / rt(za * n + m)]
            }
            return [r + t * c, i + t * l, o * Math.exp(za * n)]
        }
        var r = t[0]
          , i = t[1]
          , o = t[2]
          , a = n[0]
          , u = n[1]
          , s = n[2]
          , c = a - r
          , l = u - i
          , f = c * c + l * l
          , d = Math.sqrt(f)
          , p = (s * s - o * o + Ba * f) / (2 * o * qa * d)
          , h = (s * s - o * o - Ba * f) / (2 * s * qa * d)
          , m = Math.log(Math.sqrt(p * p + 1) - p)
          , v = Math.log(Math.sqrt(h * h + 1) - h)
          , g = v - m
          , b = (g || Math.log(s / o)) / za;
        return e.duration = 1e3 * b,
        e
    }
    ,
    ea.behavior.zoom = function() {
        function t(t) {
            t.on(N, f).on(Fa + ".zoom", p).on("dblclick.zoom", h).on(O, d)
        }
        function e(t) {
            return [(t[0] - S.x) / S.k, (t[1] - S.y) / S.k]
        }
        function r(t) {
            return [t[0] * S.k + S.x, t[1] * S.k + S.y]
        }
        function i(t) {
            S.k = Math.max(A[0], Math.min(A[1], t))
        }
        function o(t, n) {
            n = r(n),
            S.x += t[0] - n[0],
            S.y += t[1] - n[1]
        }
        function a(n, e, r, a) {
            n.__chart__ = {
                x: S.x,
                y: S.y,
                k: S.k
            },
            i(Math.pow(2, a)),
            o(v = e, r),
            n = ea.select(n),
            P > 0 && (n = n.transition().duration(P)),
            n.call(t.event)
        }
        function u() {
            x && x.domain(w.range().map(function(t) {
                return (t - S.x) / S.k
            }
            ).map(w.invert)),
            _ && _.domain(E.range().map(function(t) {
                return (t - S.y) / S.k
            }
            ).map(E.invert))
        }
        function s(t) {
            T++ || t({
                type: "zoomstart"
            })
        }
        function c(t) {
            u(),
            t({
                type: "zoom",
                scale: S.k,
                translate: [S.x, S.y]
            })
        }
        function l(t) {
            --T || (t({
                type: "zoomend"
            }),
            v = null )
        }
        function f() {
            function t() {
                f = 1,
                o(ea.mouse(i), p),
                c(u)
            }
            function r() {
                d.on(D, null ).on(j, null ),
                h(f && ea.event.target === a),
                l(u)
            }
            var i = this
              , a = ea.event.target
              , u = I.of(i, arguments)
              , f = 0
              , d = ea.select(n(i)).on(D, t).on(j, r)
              , p = e(ea.mouse(i))
              , h = Q(i);
            Rs.call(i),
            s(u)
        }
        function d() {
            function t() {
                var t = ea.touches(h);
                return p = S.k,
                t.forEach(function(t) {
                    t.identifier in v && (v[t.identifier] = e(t))
                }
                ),
                t
            }
            function n() {
                var n = ea.event.target;
                ea.select(n).on(w, r).on(x, u),
                E.push(n);
                for (var e = ea.event.changedTouches, i = 0, o = e.length; o > i; ++i)
                    v[e[i].identifier] = null ;
                var s = t()
                  , c = Date.now();
                if (1 === s.length) {
                    if (500 > c - y) {
                        var l = s[0];
                        a(h, l, v[l.identifier], Math.floor(Math.log(S.k) / Math.LN2) + 1),
                        C()
                    }
                    y = c
                } else if (s.length > 1) {
                    var l = s[0]
                      , f = s[1]
                      , d = l[0] - f[0]
                      , p = l[1] - f[1];
                    g = d * d + p * p
                }
            }
            function r() {
                var t, n, e, r, a = ea.touches(h);
                Rs.call(h);
                for (var u = 0, s = a.length; s > u; ++u,
                r = null )
                    if (e = a[u],
                    r = v[e.identifier]) {
                        if (n)
                            break;
                        t = e,
                        n = r
                    }
                if (r) {
                    var l = (l = e[0] - t[0]) * l + (l = e[1] - t[1]) * l
                      , f = g && Math.sqrt(l / g);
                    t = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2],
                    n = [(n[0] + r[0]) / 2, (n[1] + r[1]) / 2],
                    i(f * p)
                }
                y = null ,
                o(t, n),
                c(m)
            }
            function u() {
                if (ea.event.touches.length) {
                    for (var n = ea.event.changedTouches, e = 0, r = n.length; r > e; ++e)
                        delete v[n[e].identifier];
                    for (var i in v)
                        return void t()
                }
                ea.selectAll(E).on(b, null ),
                _.on(N, f).on(O, d),
                M(),
                l(m)
            }
            var p, h = this, m = I.of(h, arguments), v = {}, g = 0, b = ".zoom-" + ea.event.changedTouches[0].identifier, w = "touchmove" + b, x = "touchend" + b, E = [], _ = ea.select(h), M = Q(h);
            n(),
            s(m),
            _.on(N, null ).on(O, n)
        }
        function p() {
            var t = I.of(this, arguments);
            b ? clearTimeout(b) : (Rs.call(this),
            m = e(v = g || ea.mouse(this)),
            s(t)),
            b = setTimeout(function() {
                b = null ,
                l(t)
            }
            , 50),
            C(),
            i(Math.pow(2, .002 * Wa()) * S.k),
            o(v, m),
            c(t)
        }
        function h() {
            var t = ea.mouse(this)
              , n = Math.log(S.k) / Math.LN2;
            a(this, t, e(t), ea.event.shiftKey ? Math.ceil(n) - 1 : Math.floor(n) + 1)
        }
        var m, v, g, b, y, w, x, E, _, S = {
            x: 0,
            y: 0,
            k: 1
        }, k = [960, 500], A = Ha, P = 250, T = 0, N = "mousedown.zoom", D = "mousemove.zoom", j = "mouseup.zoom", O = "touchstart.zoom", I = M(t, "zoomstart", "zoom", "zoomend");
        return Fa || (Fa = "onwheel" in oa ? (Wa = function() {
            return -ea.event.deltaY * (ea.event.deltaMode ? 120 : 1)
        }
        ,
        "wheel") : "onmousewheel" in oa ? (Wa = function() {
            return ea.event.wheelDelta
        }
        ,
        "mousewheel") : (Wa = function() {
            return -ea.event.detail
        }
        ,
        "MozMousePixelScroll")),
        t.event = function(t) {
            t.each(function() {
                var t = I.of(this, arguments)
                  , n = S;
                Os ? ea.select(this).transition().each("start.zoom", function() {
                    S = this.__chart__ || {
                        x: 0,
                        y: 0,
                        k: 1
                    },
                    s(t)
                }
                ).tween("zoom:zoom", function() {
                    var e = k[0]
                      , r = k[1]
                      , i = v ? v[0] : e / 2
                      , o = v ? v[1] : r / 2
                      , a = ea.interpolateZoom([(i - S.x) / S.k, (o - S.y) / S.k, e / S.k], [(i - n.x) / n.k, (o - n.y) / n.k, e / n.k]);
                    return function(n) {
                        var r = a(n)
                          , u = e / r[2];
                        this.__chart__ = S = {
                            x: i - r[0] * u,
                            y: o - r[1] * u,
                            k: u
                        },
                        c(t)
                    }
                }
                ).each("interrupt.zoom", function() {
                    l(t)
                }
                ).each("end.zoom", function() {
                    l(t)
                }
                ) : (this.__chart__ = S,
                s(t),
                c(t),
                l(t))
            }
            )
        }
        ,
        t.translate = function(n) {
            return arguments.length ? (S = {
                x: +n[0],
                y: +n[1],
                k: S.k
            },
            u(),
            t) : [S.x, S.y]
        }
        ,
        t.scale = function(n) {
            return arguments.length ? (S = {
                x: S.x,
                y: S.y,
                k: +n
            },
            u(),
            t) : S.k
        }
        ,
        t.scaleExtent = function(n) {
            return arguments.length ? (A = null  == n ? Ha : [+n[0], +n[1]],
            t) : A
        }
        ,
        t.center = function(n) {
            return arguments.length ? (g = n && [+n[0], +n[1]],
            t) : g
        }
        ,
        t.size = function(n) {
            return arguments.length ? (k = n && [+n[0], +n[1]],
            t) : k
        }
        ,
        t.duration = function(n) {
            return arguments.length ? (P = +n,
            t) : P
        }
        ,
        t.x = function(n) {
            return arguments.length ? (x = n,
            w = n.copy(),
            S = {
                x: 0,
                y: 0,
                k: 1
            },
            t) : x
        }
        ,
        t.y = function(n) {
            return arguments.length ? (_ = n,
            E = n.copy(),
            S = {
                x: 0,
                y: 0,
                k: 1
            },
            t) : _
        }
        ,
        ea.rebind(t, I, "on")
    }
    ;
    var Wa, Fa, Ha = [0, 1 / 0];
    ea.color = at,
    at.prototype.toString = function() {
        return this.rgb() + ""
    }
    ,
    ea.hsl = ut;
    var Va = ut.prototype = new at;
    Va.brighter = function(t) {
        return t = Math.pow(.7, arguments.length ? t : 1),
        new ut(this.h,this.s,this.l / t)
    }
    ,
    Va.darker = function(t) {
        return t = Math.pow(.7, arguments.length ? t : 1),
        new ut(this.h,this.s,t * this.l)
    }
    ,
    Va.rgb = function() {
        return st(this.h, this.s, this.l)
    }
    ,
    ea.hcl = ct;
    var Ua = ct.prototype = new at;
    Ua.brighter = function(t) {
        return new ct(this.h,this.c,Math.min(100, this.l + Ya * (arguments.length ? t : 1)))
    }
    ,
    Ua.darker = function(t) {
        return new ct(this.h,this.c,Math.max(0, this.l - Ya * (arguments.length ? t : 1)))
    }
    ,
    Ua.rgb = function() {
        return lt(this.h, this.c, this.l).rgb()
    }
    ,
    ea.lab = ft;
    var Ya = 18
      , Xa = .95047
      , Ga = 1
      , Qa = 1.08883
      , Ja = ft.prototype = new at;
    Ja.brighter = function(t) {
        return new ft(Math.min(100, this.l + Ya * (arguments.length ? t : 1)),this.a,this.b)
    }
    ,
    Ja.darker = function(t) {
        return new ft(Math.max(0, this.l - Ya * (arguments.length ? t : 1)),this.a,this.b)
    }
    ,
    Ja.rgb = function() {
        return dt(this.l, this.a, this.b)
    }
    ,
    ea.rgb = gt;
    var Ka = gt.prototype = new at;
    Ka.brighter = function(t) {
        t = Math.pow(.7, arguments.length ? t : 1);
        var n = this.r
          , e = this.g
          , r = this.b
          , i = 30;
        return n || e || r ? (n && i > n && (n = i),
        e && i > e && (e = i),
        r && i > r && (r = i),
        new gt(Math.min(255, n / t),Math.min(255, e / t),Math.min(255, r / t))) : new gt(i,i,i)
    }
    ,
    Ka.darker = function(t) {
        return t = Math.pow(.7, arguments.length ? t : 1),
        new gt(t * this.r,t * this.g,t * this.b)
    }
    ,
    Ka.hsl = function() {
        return Et(this.r, this.g, this.b)
    }
    ,
    Ka.toString = function() {
        return "#" + wt(this.r) + wt(this.g) + wt(this.b)
    }
    ;
    var Za = ea.map({
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    });
    Za.forEach(function(t, n) {
        Za.set(t, bt(n))
    }
    ),
    ea.functor = Mt,
    ea.xhr = kt(b),
    ea.dsv = function(t, n) {
        function e(t, e, o) {
            arguments.length < 3 && (o = e,
            e = null );
            var a = At(t, n, null  == e ? r : i(e), o);
            return a.row = function(t) {
                return arguments.length ? a.response(null  == (e = t) ? r : i(t)) : e
            }
            ,
            a
        }
        function r(t) {
            return e.parse(t.responseText)
        }
        function i(t) {
            return function(n) {
                return e.parse(n.responseText, t)
            }
        }
        function o(n) {
            return n.map(a).join(t)
        }
        function a(t) {
            return u.test(t) ? '"' + t.replace(/\"/g, '""') + '"' : t
        }
        var u = new RegExp('["' + t + "\n]")
          , s = t.charCodeAt(0);
        return e.parse = function(t, n) {
            var r;
            return e.parseRows(t, function(t, e) {
                if (r)
                    return r(t, e - 1);
                var i = new Function("d","return {" + t.map(function(t, n) {
                    return JSON.stringify(t) + ": d[" + n + "]"
                }
                ).join(",") + "}");
                r = n ? function(t, e) {
                    return n(i(t), e)
                }
                 : i
            }
            )
        }
        ,
        e.parseRows = function(t, n) {
            function e() {
                if (l >= c)
                    return a;
                if (i)
                    return i = !1,
                    o;
                var n = l;
                if (34 === t.charCodeAt(n)) {
                    for (var e = n; e++ < c; )
                        if (34 === t.charCodeAt(e)) {
                            if (34 !== t.charCodeAt(e + 1))
                                break;
                            ++e
                        }
                    l = e + 2;
                    var r = t.charCodeAt(e + 1);
                    return 13 === r ? (i = !0,
                    10 === t.charCodeAt(e + 2) && ++l) : 10 === r && (i = !0),
                    t.slice(n + 1, e).replace(/""/g, '"')
                }
                for (; c > l; ) {
                    var r = t.charCodeAt(l++)
                      , u = 1;
                    if (10 === r)
                        i = !0;
                    else if (13 === r)
                        i = !0,
                        10 === t.charCodeAt(l) && (++l,
                        ++u);
                    else if (r !== s)
                        continue;return t.slice(n, l - u)
                }
                return t.slice(n)
            }
            for (var r, i, o = {}, a = {}, u = [], c = t.length, l = 0, f = 0; (r = e()) !== a; ) {
                for (var d = []; r !== o && r !== a; )
                    d.push(r),
                    r = e();
                n && null  == (d = n(d, f++)) || u.push(d)
            }
            return u
        }
        ,
        e.format = function(n) {
            if (Array.isArray(n[0]))
                return e.formatRows(n);
            var r = new g
              , i = [];
            return n.forEach(function(t) {
                for (var n in t)
                    r.has(n) || i.push(r.add(n))
            }
            ),
            [i.map(a).join(t)].concat(n.map(function(n) {
                return i.map(function(t) {
                    return a(n[t])
                }
                ).join(t)
            }
            )).join("\n")
        }
        ,
        e.formatRows = function(t) {
            return t.map(o).join("\n")
        }
        ,
        e
    }
    ,
    ea.csv = ea.dsv(",", "text/csv"),
    ea.tsv = ea.dsv("	", "text/tab-separated-values");
    var $a, tu, nu, eu, ru, iu = this[w(this, "requestAnimationFrame")] || function(t) {
        setTimeout(t, 17)
    }
    ;
    ea.timer = function(t, n, e) {
        var r = arguments.length;
        2 > r && (n = 0),
        3 > r && (e = Date.now());
        var i = e + n
          , o = {
            c: t,
            t: i,
            f: !1,
            n: null 
        };
        tu ? tu.n = o : $a = o,
        tu = o,
        nu || (eu = clearTimeout(eu),
        nu = 1,
        iu(Nt))
    }
    ,
    ea.timer.flush = function() {
        Dt(),
        jt()
    }
    ,
    ea.round = function(t, n) {
        return n ? Math.round(t * (n = Math.pow(10, n))) / n : Math.round(t)
    }
    ;
    var ou = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(It);
    ea.formatPrefix = function(t, n) {
        var e = 0;
        return t && (0 > t && (t *= -1),
        n && (t = ea.round(t, Ot(t, n))),
        e = 1 + Math.floor(1e-12 + Math.log(t) / Math.LN10),
        e = Math.max(-24, Math.min(24, 3 * Math.floor((e - 1) / 3)))),
        ou[8 + e / 3]
    }
    ;
    var au = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i
      , uu = ea.map({
        b: function(t) {
            return t.toString(2)
        },
        c: function(t) {
            return String.fromCharCode(t)
        },
        o: function(t) {
            return t.toString(8)
        },
        x: function(t) {
            return t.toString(16)
        },
        X: function(t) {
            return t.toString(16).toUpperCase()
        },
        g: function(t, n) {
            return t.toPrecision(n)
        },
        e: function(t, n) {
            return t.toExponential(n)
        },
        f: function(t, n) {
            return t.toFixed(n)
        },
        r: function(t, n) {
            return (t = ea.round(t, Ot(t, n))).toFixed(Math.max(0, Math.min(20, Ot(t * (1 + 1e-15), n))))
        }
    })
      , su = ea.time = {}
      , cu = Date;
    zt.prototype = {
        getDate: function() {
            return this._.getUTCDate()
        },
        getDay: function() {
            return this._.getUTCDay()
        },
        getFullYear: function() {
            return this._.getUTCFullYear()
        },
        getHours: function() {
            return this._.getUTCHours()
        },
        getMilliseconds: function() {
            return this._.getUTCMilliseconds()
        },
        getMinutes: function() {
            return this._.getUTCMinutes()
        },
        getMonth: function() {
            return this._.getUTCMonth()
        },
        getSeconds: function() {
            return this._.getUTCSeconds()
        },
        getTime: function() {
            return this._.getTime()
        },
        getTimezoneOffset: function() {
            return 0
        },
        valueOf: function() {
            return this._.valueOf()
        },
        setDate: function() {
            lu.setUTCDate.apply(this._, arguments)
        },
        setDay: function() {
            lu.setUTCDay.apply(this._, arguments)
        },
        setFullYear: function() {
            lu.setUTCFullYear.apply(this._, arguments)
        },
        setHours: function() {
            lu.setUTCHours.apply(this._, arguments)
        },
        setMilliseconds: function() {
            lu.setUTCMilliseconds.apply(this._, arguments)
        },
        setMinutes: function() {
            lu.setUTCMinutes.apply(this._, arguments)
        },
        setMonth: function() {
            lu.setUTCMonth.apply(this._, arguments)
        },
        setSeconds: function() {
            lu.setUTCSeconds.apply(this._, arguments)
        },
        setTime: function() {
            lu.setTime.apply(this._, arguments)
        }
    };
    var lu = Date.prototype;
    su.year = qt(function(t) {
        return t = su.day(t),
        t.setMonth(0, 1),
        t
    }
    , function(t, n) {
        t.setFullYear(t.getFullYear() + n)
    }
    , function(t) {
        return t.getFullYear()
    }
    ),
    su.years = su.year.range,
    su.years.utc = su.year.utc.range,
    su.day = qt(function(t) {
        var n = new cu(2e3,0);
        return n.setFullYear(t.getFullYear(), t.getMonth(), t.getDate()),
        n
    }
    , function(t, n) {
        t.setDate(t.getDate() + n)
    }
    , function(t) {
        return t.getDate() - 1
    }
    ),
    su.days = su.day.range,
    su.days.utc = su.day.utc.range,
    su.dayOfYear = function(t) {
        var n = su.year(t);
        return Math.floor((t - n - 6e4 * (t.getTimezoneOffset() - n.getTimezoneOffset())) / 864e5)
    }
    ,
    ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach(function(t, n) {
        n = 7 - n;
        var e = su[t] = qt(function(t) {
            return (t = su.day(t)).setDate(t.getDate() - (t.getDay() + n) % 7),
            t
        }
        , function(t, n) {
            t.setDate(t.getDate() + 7 * Math.floor(n))
        }
        , function(t) {
            var e = su.year(t).getDay();
            return Math.floor((su.dayOfYear(t) + (e + n) % 7) / 7) - (e !== n)
        }
        );
        su[t + "s"] = e.range,
        su[t + "s"].utc = e.utc.range,
        su[t + "OfYear"] = function(t) {
            var e = su.year(t).getDay();
            return Math.floor((su.dayOfYear(t) + (e + n) % 7) / 7)
        }
    }
    ),
    su.week = su.sunday,
    su.weeks = su.sunday.range,
    su.weeks.utc = su.sunday.utc.range,
    su.weekOfYear = su.sundayOfYear;
    var fu = {
        "-": "",
        _: " ",
        0: "0"
    }
      , du = /^\s*\d+/
      , pu = /^%/;
    ea.locale = function(t) {
        return {
            numberFormat: Rt(t),
            timeFormat: Wt(t)
        }
    }
    ;
    var hu = ea.locale({
        decimal: ".",
        thousands: ",",
        grouping: [3],
        currency: ["$", ""],
        dateTime: "%a %b %e %X %Y",
        date: "%m/%d/%Y",
        time: "%H:%M:%S",
        periods: ["AM", "PM"],
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    });
    ea.format = hu.numberFormat,
    ea.geo = {},
    cn.prototype = {
        s: 0,
        t: 0,
        add: function(t) {
            ln(t, this.t, mu),
            ln(mu.s, this.s, this),
            this.s ? this.t += mu.t : this.s = mu.t
        },
        reset: function() {
            this.s = this.t = 0
        },
        valueOf: function() {
            return this.s
        }
    };
    var mu = new cn;
    ea.geo.stream = function(t, n) {
        t && vu.hasOwnProperty(t.type) ? vu[t.type](t, n) : fn(t, n)
    }
    ;
    var vu = {
        Feature: function(t, n) {
            fn(t.geometry, n)
        },
        FeatureCollection: function(t, n) {
            for (var e = t.features, r = -1, i = e.length; ++r < i; )
                fn(e[r].geometry, n)
        }
    }
      , gu = {
        Sphere: function(t, n) {
            n.sphere()
        },
        Point: function(t, n) {
            t = t.coordinates,
            n.point(t[0], t[1], t[2])
        },
        MultiPoint: function(t, n) {
            for (var e = t.coordinates, r = -1, i = e.length; ++r < i; )
                t = e[r],
                n.point(t[0], t[1], t[2])
        },
        LineString: function(t, n) {
            dn(t.coordinates, n, 0)
        },
        MultiLineString: function(t, n) {
            for (var e = t.coordinates, r = -1, i = e.length; ++r < i; )
                dn(e[r], n, 0)
        },
        Polygon: function(t, n) {
            pn(t.coordinates, n)
        },
        MultiPolygon: function(t, n) {
            for (var e = t.coordinates, r = -1, i = e.length; ++r < i; )
                pn(e[r], n)
        },
        GeometryCollection: function(t, n) {
            for (var e = t.geometries, r = -1, i = e.length; ++r < i; )
                fn(e[r], n)
        }
    };
    ea.geo.area = function(t) {
        return bu = 0,
        ea.geo.stream(t, wu),
        bu
    }
    ;
    var bu, yu = new cn, wu = {
        sphere: function() {
            bu += 4 * Da
        },
        point: x,
        lineStart: x,
        lineEnd: x,
        polygonStart: function() {
            yu.reset(),
            wu.lineStart = hn
        },
        polygonEnd: function() {
            var t = 2 * yu;
            bu += 0 > t ? 4 * Da + t : t,
            wu.lineStart = wu.lineEnd = wu.point = x
        }
    };
    ea.geo.bounds = function() {
        function t(t, n) {
            y.push(w = [l = t, d = t]),
            f > n && (f = n),
            n > p && (p = n)
        }
        function n(n, e) {
            var r = mn([n * Ra, e * Ra]);
            if (g) {
                var i = gn(g, r)
                  , o = [i[1], -i[0], 0]
                  , a = gn(o, i);
                wn(a),
                a = xn(a);
                var s = n - h
                  , c = s > 0 ? 1 : -1
                  , m = a[0] * La * c
                  , v = ha(s) > 180;
                if (v ^ (m > c * h && c * n > m)) {
                    var b = a[1] * La;
                    b > p && (p = b)
                } else if (m = (m + 360) % 360 - 180,
                v ^ (m > c * h && c * n > m)) {
                    var b = -a[1] * La;
                    f > b && (f = b)
                } else
                    f > e && (f = e),
                    e > p && (p = e);
                v ? h > n ? u(l, n) > u(l, d) && (d = n) : u(n, d) > u(l, d) && (l = n) : d >= l ? (l > n && (l = n),
                n > d && (d = n)) : n > h ? u(l, n) > u(l, d) && (d = n) : u(n, d) > u(l, d) && (l = n)
            } else
                t(n, e);
            g = r,
            h = n
        }
        function e() {
            x.point = n
        }
        function r() {
            w[0] = l,
            w[1] = d,
            x.point = t,
            g = null 
        }
        function i(t, e) {
            if (g) {
                var r = t - h;
                b += ha(r) > 180 ? r + (r > 0 ? 360 : -360) : r
            } else
                m = t,
                v = e;
            wu.point(t, e),
            n(t, e)
        }
        function o() {
            wu.lineStart()
        }
        function a() {
            i(m, v),
            wu.lineEnd(),
            ha(b) > Ta && (l = -(d = 180)),
            w[0] = l,
            w[1] = d,
            g = null 
        }
        function u(t, n) {
            return (n -= t) < 0 ? n + 360 : n
        }
        function s(t, n) {
            return t[0] - n[0]
        }
        function c(t, n) {
            return n[0] <= n[1] ? n[0] <= t && t <= n[1] : t < n[0] || n[1] < t
        }
        var l, f, d, p, h, m, v, g, b, y, w, x = {
            point: t,
            lineStart: e,
            lineEnd: r,
            polygonStart: function() {
                x.point = i,
                x.lineStart = o,
                x.lineEnd = a,
                b = 0,
                wu.polygonStart()
            },
            polygonEnd: function() {
                wu.polygonEnd(),
                x.point = t,
                x.lineStart = e,
                x.lineEnd = r,
                0 > yu ? (l = -(d = 180),
                f = -(p = 90)) : b > Ta ? p = 90 : -Ta > b && (f = -90),
                w[0] = l,
                w[1] = d
            }
        };
        return function(t) {
            p = d = -(l = f = 1 / 0),
            y = [],
            ea.geo.stream(t, x);
            var n = y.length;
            if (n) {
                y.sort(s);
                for (var e, r = 1, i = y[0], o = [i]; n > r; ++r)
                    e = y[r],
                    c(e[0], i) || c(e[1], i) ? (u(i[0], e[1]) > u(i[0], i[1]) && (i[1] = e[1]),
                    u(e[0], i[1]) > u(i[0], i[1]) && (i[0] = e[0])) : o.push(i = e);
                for (var a, e, h = -(1 / 0), n = o.length - 1, r = 0, i = o[n]; n >= r; i = e,
                ++r)
                    e = o[r],
                    (a = u(i[1], e[0])) > h && (h = a,
                    l = e[0],
                    d = i[1])
            }
            return y = w = null ,
            l === 1 / 0 || f === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[l, f], [d, p]]
        }
    }
    (),
    ea.geo.centroid = function(t) {
        xu = Eu = _u = Cu = Su = Mu = ku = Au = Pu = Tu = Nu = 0,
        ea.geo.stream(t, Du);
        var n = Pu
          , e = Tu
          , r = Nu
          , i = n * n + e * e + r * r;
        return Na > i && (n = Mu,
        e = ku,
        r = Au,
        Ta > Eu && (n = _u,
        e = Cu,
        r = Su),
        i = n * n + e * e + r * r,
        Na > i) ? [NaN, NaN] : [Math.atan2(e, n) * La, nt(r / Math.sqrt(i)) * La]
    }
    ;
    var xu, Eu, _u, Cu, Su, Mu, ku, Au, Pu, Tu, Nu, Du = {
        sphere: x,
        point: _n,
        lineStart: Sn,
        lineEnd: Mn,
        polygonStart: function() {
            Du.lineStart = kn
        },
        polygonEnd: function() {
            Du.lineStart = Sn
        }
    }, ju = jn(Pn, Ln, qn, [-Da, -Da / 2]), Ou = 1e9;
    ea.geo.clipExtent = function() {
        var t, n, e, r, i, o, a = {
            stream: function(t) {
                return i && (i.valid = !1),
                i = o(t),
                i.valid = !0,
                i
            },
            extent: function(u) {
                return arguments.length ? (o = Hn(t = +u[0][0], n = +u[0][1], e = +u[1][0], r = +u[1][1]),
                i && (i.valid = !1,
                i = null ),
                a) : [[t, n], [e, r]]
            }
        };
        return a.extent([[0, 0], [960, 500]])
    }
    ,
    (ea.geo.conicEqualArea = function() {
        return Vn(Un)
    }
    ).raw = Un,
    ea.geo.albers = function() {
        return ea.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070)
    }
    ,
    ea.geo.albersUsa = function() {
        function t(t) {
            var o = t[0]
              , a = t[1];
            return n = null ,
            e(o, a),
            n || (r(o, a),
            n) || i(o, a),
            n
        }
        var n, e, r, i, o = ea.geo.albers(), a = ea.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), u = ea.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), s = {
            point: function(t, e) {
                n = [t, e]
            }
        };
        return t.invert = function(t) {
            var n = o.scale()
              , e = o.translate()
              , r = (t[0] - e[0]) / n
              , i = (t[1] - e[1]) / n;
            return (i >= .12 && .234 > i && r >= -.425 && -.214 > r ? a : i >= .166 && .234 > i && r >= -.214 && -.115 > r ? u : o).invert(t)
        }
        ,
        t.stream = function(t) {
            var n = o.stream(t)
              , e = a.stream(t)
              , r = u.stream(t);
            return {
                point: function(t, i) {
                    n.point(t, i),
                    e.point(t, i),
                    r.point(t, i)
                },
                sphere: function() {
                    n.sphere(),
                    e.sphere(),
                    r.sphere()
                },
                lineStart: function() {
                    n.lineStart(),
                    e.lineStart(),
                    r.lineStart()
                },
                lineEnd: function() {
                    n.lineEnd(),
                    e.lineEnd(),
                    r.lineEnd()
                },
                polygonStart: function() {
                    n.polygonStart(),
                    e.polygonStart(),
                    r.polygonStart()
                },
                polygonEnd: function() {
                    n.polygonEnd(),
                    e.polygonEnd(),
                    r.polygonEnd()
                }
            }
        }
        ,
        t.precision = function(n) {
            return arguments.length ? (o.precision(n),
            a.precision(n),
            u.precision(n),
            t) : o.precision()
        }
        ,
        t.scale = function(n) {
            return arguments.length ? (o.scale(n),
            a.scale(.35 * n),
            u.scale(n),
            t.translate(o.translate())) : o.scale()
        }
        ,
        t.translate = function(n) {
            if (!arguments.length)
                return o.translate();
            var c = o.scale()
              , l = +n[0]
              , f = +n[1];
            return e = o.translate(n).clipExtent([[l - .455 * c, f - .238 * c], [l + .455 * c, f + .238 * c]]).stream(s).point,
            r = a.translate([l - .307 * c, f + .201 * c]).clipExtent([[l - .425 * c + Ta, f + .12 * c + Ta], [l - .214 * c - Ta, f + .234 * c - Ta]]).stream(s).point,
            i = u.translate([l - .205 * c, f + .212 * c]).clipExtent([[l - .214 * c + Ta, f + .166 * c + Ta], [l - .115 * c - Ta, f + .234 * c - Ta]]).stream(s).point,
            t
        }
        ,
        t.scale(1070)
    }
    ;
    var Iu, Ru, Lu, zu, qu, Bu, Wu = {
        point: x,
        lineStart: x,
        lineEnd: x,
        polygonStart: function() {
            Ru = 0,
            Wu.lineStart = Yn
        },
        polygonEnd: function() {
            Wu.lineStart = Wu.lineEnd = Wu.point = x,
            Iu += ha(Ru / 2)
        }
    }, Fu = {
        point: Xn,
        lineStart: x,
        lineEnd: x,
        polygonStart: x,
        polygonEnd: x
    }, Hu = {
        point: Jn,
        lineStart: Kn,
        lineEnd: Zn,
        polygonStart: function() {
            Hu.lineStart = $n
        },
        polygonEnd: function() {
            Hu.point = Jn,
            Hu.lineStart = Kn,
            Hu.lineEnd = Zn
        }
    };
    ea.geo.path = function() {
        function t(t) {
            return t && ("function" == typeof u && o.pointRadius(+u.apply(this, arguments)),
            a && a.valid || (a = i(o)),
            ea.geo.stream(t, a)),
            o.result()
        }
        function n() {
            return a = null ,
            t
        }
        var e, r, i, o, a, u = 4.5;
        return t.area = function(t) {
            return Iu = 0,
            ea.geo.stream(t, i(Wu)),
            Iu
        }
        ,
        t.centroid = function(t) {
            return _u = Cu = Su = Mu = ku = Au = Pu = Tu = Nu = 0,
            ea.geo.stream(t, i(Hu)),
            Nu ? [Pu / Nu, Tu / Nu] : Au ? [Mu / Au, ku / Au] : Su ? [_u / Su, Cu / Su] : [NaN, NaN]
        }
        ,
        t.bounds = function(t) {
            return qu = Bu = -(Lu = zu = 1 / 0),
            ea.geo.stream(t, i(Fu)),
            [[Lu, zu], [qu, Bu]]
        }
        ,
        t.projection = function(t) {
            return arguments.length ? (i = (e = t) ? t.stream || ee(t) : b,
            n()) : e
        }
        ,
        t.context = function(t) {
            return arguments.length ? (o = null  == (r = t) ? new Gn : new te(t),
            "function" != typeof u && o.pointRadius(u),
            n()) : r
        }
        ,
        t.pointRadius = function(n) {
            return arguments.length ? (u = "function" == typeof n ? n : (o.pointRadius(+n),
            +n),
            t) : u
        }
        ,
        t.projection(ea.geo.albersUsa()).context(null )
    }
    ,
    ea.geo.transform = function(t) {
        return {
            stream: function(n) {
                var e = new re(n);
                for (var r in t)
                    e[r] = t[r];
                return e
            }
        }
    }
    ,
    re.prototype = {
        point: function(t, n) {
            this.stream.point(t, n)
        },
        sphere: function() {
            this.stream.sphere()
        },
        lineStart: function() {
            this.stream.lineStart()
        },
        lineEnd: function() {
            this.stream.lineEnd()
        },
        polygonStart: function() {
            this.stream.polygonStart()
        },
        polygonEnd: function() {
            this.stream.polygonEnd()
        }
    },
    ea.geo.projection = oe,
    ea.geo.projectionMutator = ae,
    (ea.geo.equirectangular = function() {
        return oe(se)
    }
    ).raw = se.invert = se,
    ea.geo.rotation = function(t) {
        function n(n) {
            return n = t(n[0] * Ra, n[1] * Ra),
            n[0] *= La,
            n[1] *= La,
            n
        }
        return t = le(t[0] % 360 * Ra, t[1] * Ra, t.length > 2 ? t[2] * Ra : 0),
        n.invert = function(n) {
            return n = t.invert(n[0] * Ra, n[1] * Ra),
            n[0] *= La,
            n[1] *= La,
            n
        }
        ,
        n
    }
    ,
    ce.invert = se,
    ea.geo.circle = function() {
        function t() {
            var t = "function" == typeof r ? r.apply(this, arguments) : r
              , n = le(-t[0] * Ra, -t[1] * Ra, 0).invert
              , i = [];
            return e(null , null , 1, {
                point: function(t, e) {
                    i.push(t = n(t, e)),
                    t[0] *= La,
                    t[1] *= La
                }
            }),
            {
                type: "Polygon",
                coordinates: [i]
            }
        }
        var n, e, r = [0, 0], i = 6;
        return t.origin = function(n) {
            return arguments.length ? (r = n,
            t) : r
        }
        ,
        t.angle = function(r) {
            return arguments.length ? (e = he((n = +r) * Ra, i * Ra),
            t) : n
        }
        ,
        t.precision = function(r) {
            return arguments.length ? (e = he(n * Ra, (i = +r) * Ra),
            t) : i
        }
        ,
        t.angle(90)
    }
    ,
    ea.geo.distance = function(t, n) {
        var e, r = (n[0] - t[0]) * Ra, i = t[1] * Ra, o = n[1] * Ra, a = Math.sin(r), u = Math.cos(r), s = Math.sin(i), c = Math.cos(i), l = Math.sin(o), f = Math.cos(o);
        return Math.atan2(Math.sqrt((e = f * a) * e + (e = c * l - s * f * u) * e), s * l + c * f * u)
    }
    ,
    ea.geo.graticule = function() {
        function t() {
            return {
                type: "MultiLineString",
                coordinates: n()
            }
        }
        function n() {
            return ea.range(Math.ceil(o / v) * v, i, v).map(d).concat(ea.range(Math.ceil(c / g) * g, s, g).map(p)).concat(ea.range(Math.ceil(r / h) * h, e, h).filter(function(t) {
                return ha(t % v) > Ta
            }
            ).map(l)).concat(ea.range(Math.ceil(u / m) * m, a, m).filter(function(t) {
                return ha(t % g) > Ta
            }
            ).map(f))
        }
        var e, r, i, o, a, u, s, c, l, f, d, p, h = 10, m = h, v = 90, g = 360, b = 2.5;
        return t.lines = function() {
            return n().map(function(t) {
                return {
                    type: "LineString",
                    coordinates: t
                }
            }
            )
        }
        ,
        t.outline = function() {
            return {
                type: "Polygon",
                coordinates: [d(o).concat(p(s).slice(1), d(i).reverse().slice(1), p(c).reverse().slice(1))]
            }
        }
        ,
        t.extent = function(n) {
            return arguments.length ? t.majorExtent(n).minorExtent(n) : t.minorExtent()
        }
        ,
        t.majorExtent = function(n) {
            return arguments.length ? (o = +n[0][0],
            i = +n[1][0],
            c = +n[0][1],
            s = +n[1][1],
            o > i && (n = o,
            o = i,
            i = n),
            c > s && (n = c,
            c = s,
            s = n),
            t.precision(b)) : [[o, c], [i, s]]
        }
        ,
        t.minorExtent = function(n) {
            return arguments.length ? (r = +n[0][0],
            e = +n[1][0],
            u = +n[0][1],
            a = +n[1][1],
            r > e && (n = r,
            r = e,
            e = n),
            u > a && (n = u,
            u = a,
            a = n),
            t.precision(b)) : [[r, u], [e, a]]
        }
        ,
        t.step = function(n) {
            return arguments.length ? t.majorStep(n).minorStep(n) : t.minorStep()
        }
        ,
        t.majorStep = function(n) {
            return arguments.length ? (v = +n[0],
            g = +n[1],
            t) : [v, g]
        }
        ,
        t.minorStep = function(n) {
            return arguments.length ? (h = +n[0],
            m = +n[1],
            t) : [h, m]
        }
        ,
        t.precision = function(n) {
            return arguments.length ? (b = +n,
            l = ve(u, a, 90),
            f = ge(r, e, b),
            d = ve(c, s, 90),
            p = ge(o, i, b),
            t) : b
        }
        ,
        t.majorExtent([[-180, -90 + Ta], [180, 90 - Ta]]).minorExtent([[-180, -80 - Ta], [180, 80 + Ta]])
    }
    ,
    ea.geo.greatArc = function() {
        function t() {
            return {
                type: "LineString",
                coordinates: [n || r.apply(this, arguments), e || i.apply(this, arguments)]
            }
        }
        var n, e, r = be, i = ye;
        return t.distance = function() {
            return ea.geo.distance(n || r.apply(this, arguments), e || i.apply(this, arguments))
        }
        ,
        t.source = function(e) {
            return arguments.length ? (r = e,
            n = "function" == typeof e ? null  : e,
            t) : r
        }
        ,
        t.target = function(n) {
            return arguments.length ? (i = n,
            e = "function" == typeof n ? null  : n,
            t) : i
        }
        ,
        t.precision = function() {
            return arguments.length ? t : 0
        }
        ,
        t
    }
    ,
    ea.geo.interpolate = function(t, n) {
        return we(t[0] * Ra, t[1] * Ra, n[0] * Ra, n[1] * Ra)
    }
    ,
    ea.geo.length = function(t) {
        return Vu = 0,
        ea.geo.stream(t, Uu),
        Vu
    }
    ;
    var Vu, Uu = {
        sphere: x,
        point: x,
        lineStart: xe,
        lineEnd: x,
        polygonStart: x,
        polygonEnd: x
    }, Yu = Ee(function(t) {
        return Math.sqrt(2 / (1 + t))
    }
    , function(t) {
        return 2 * Math.asin(t / 2)
    }
    );
    (ea.geo.azimuthalEqualArea = function() {
        return oe(Yu)
    }
    ).raw = Yu;
    var Xu = Ee(function(t) {
        var n = Math.acos(t);
        return n && n / Math.sin(n)
    }
    , b);
    (ea.geo.azimuthalEquidistant = function() {
        return oe(Xu)
    }
    ).raw = Xu,
    (ea.geo.conicConformal = function() {
        return Vn(_e)
    }
    ).raw = _e,
    (ea.geo.conicEquidistant = function() {
        return Vn(Ce)
    }
    ).raw = Ce;
    var Gu = Ee(function(t) {
        return 1 / t
    }
    , Math.atan);
    (ea.geo.gnomonic = function() {
        return oe(Gu)
    }
    ).raw = Gu,
    Se.invert = function(t, n) {
        return [t, 2 * Math.atan(Math.exp(n)) - Ia]
    }
    ,
    (ea.geo.mercator = function() {
        return Me(Se)
    }
    ).raw = Se;
    var Qu = Ee(function() {
        return 1
    }
    , Math.asin);
    (ea.geo.orthographic = function() {
        return oe(Qu)
    }
    ).raw = Qu;
    var Ju = Ee(function(t) {
        return 1 / (1 + t)
    }
    , function(t) {
        return 2 * Math.atan(t)
    }
    );
    (ea.geo.stereographic = function() {
        return oe(Ju)
    }
    ).raw = Ju,
    ke.invert = function(t, n) {
        return [-n, 2 * Math.atan(Math.exp(t)) - Ia]
    }
    ,
    (ea.geo.transverseMercator = function() {
        var t = Me(ke)
          , n = t.center
          , e = t.rotate;
        return t.center = function(t) {
            return t ? n([-t[1], t[0]]) : (t = n(),
            [t[1], -t[0]])
        }
        ,
        t.rotate = function(t) {
            return t ? e([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : (t = e(),
            [t[0], t[1], t[2] - 90])
        }
        ,
        e([0, 0, 90])
    }
    ).raw = ke,
    ea.geom = {},
    ea.geom.hull = function(t) {
        function n(t) {
            if (t.length < 3)
                return [];
            var n, i = Mt(e), o = Mt(r), a = t.length, u = [], s = [];
            for (n = 0; a > n; n++)
                u.push([+i.call(this, t[n], n), +o.call(this, t[n], n), n]);
            for (u.sort(Ne),
            n = 0; a > n; n++)
                s.push([u[n][0], -u[n][1]]);
            var c = Te(u)
              , l = Te(s)
              , f = l[0] === c[0]
              , d = l[l.length - 1] === c[c.length - 1]
              , p = [];
            for (n = c.length - 1; n >= 0; --n)
                p.push(t[u[c[n]][2]]);
            for (n = +f; n < l.length - d; ++n)
                p.push(t[u[l[n]][2]]);
            return p
        }
        var e = Ae
          , r = Pe;
        return arguments.length ? n(t) : (n.x = function(t) {
            return arguments.length ? (e = t,
            n) : e
        }
        ,
        n.y = function(t) {
            return arguments.length ? (r = t,
            n) : r
        }
        ,
        n)
    }
    ,
    ea.geom.polygon = function(t) {
        return ya(t, Ku),
        t
    }
    ;
    var Ku = ea.geom.polygon.prototype = [];
    Ku.area = function() {
        for (var t, n = -1, e = this.length, r = this[e - 1], i = 0; ++n < e; )
            t = r,
            r = this[n],
            i += t[1] * r[0] - t[0] * r[1];
        return .5 * i
    }
    ,
    Ku.centroid = function(t) {
        var n, e, r = -1, i = this.length, o = 0, a = 0, u = this[i - 1];
        for (arguments.length || (t = -1 / (6 * this.area())); ++r < i; )
            n = u,
            u = this[r],
            e = n[0] * u[1] - u[0] * n[1],
            o += (n[0] + u[0]) * e,
            a += (n[1] + u[1]) * e;
        return [o * t, a * t]
    }
    ,
    Ku.clip = function(t) {
        for (var n, e, r, i, o, a, u = Oe(t), s = -1, c = this.length - Oe(this), l = this[c - 1]; ++s < c; ) {
            for (n = t.slice(),
            t.length = 0,
            i = this[s],
            o = n[(r = n.length - u) - 1],
            e = -1; ++e < r; )
                a = n[e],
                De(a, l, i) ? (De(o, l, i) || t.push(je(o, a, l, i)),
                t.push(a)) : De(o, l, i) && t.push(je(o, a, l, i)),
                o = a;
            u && t.push(t[0]),
            l = i
        }
        return t
    }
    ;
    var Zu, $u, ts, ns, es, rs = [], is = [];
    Fe.prototype.prepare = function() {
        for (var t, n = this.edges, e = n.length; e--; )
            t = n[e].edge,
            t.b && t.a || n.splice(e, 1);
        return n.sort(Ve),
        n.length
    }
    ,
    tr.prototype = {
        start: function() {
            return this.edge.l === this.site ? this.edge.a : this.edge.b
        },
        end: function() {
            return this.edge.l === this.site ? this.edge.b : this.edge.a
        }
    },
    nr.prototype = {
        insert: function(t, n) {
            var e, r, i;
            if (t) {
                if (n.P = t,
                n.N = t.N,
                t.N && (t.N.P = n),
                t.N = n,
                t.R) {
                    for (t = t.R; t.L; )
                        t = t.L;
                    t.L = n
                } else
                    t.R = n;
                e = t
            } else
                this._ ? (t = or(this._),
                n.P = null ,
                n.N = t,
                t.P = t.L = n,
                e = t) : (n.P = n.N = null ,
                this._ = n,
                e = null );
            for (n.L = n.R = null ,
            n.U = e,
            n.C = !0,
            t = n; e && e.C; )
                r = e.U,
                e === r.L ? (i = r.R,
                i && i.C ? (e.C = i.C = !1,
                r.C = !0,
                t = r) : (t === e.R && (rr(this, e),
                t = e,
                e = t.U),
                e.C = !1,
                r.C = !0,
                ir(this, r))) : (i = r.L,
                i && i.C ? (e.C = i.C = !1,
                r.C = !0,
                t = r) : (t === e.L && (ir(this, e),
                t = e,
                e = t.U),
                e.C = !1,
                r.C = !0,
                rr(this, r))),
                e = t.U;
            this._.C = !1
        },
        remove: function(t) {
            t.N && (t.N.P = t.P),
            t.P && (t.P.N = t.N),
            t.N = t.P = null ;
            var n, e, r, i = t.U, o = t.L, a = t.R;
            if (e = o ? a ? or(a) : o : a,
            i ? i.L === t ? i.L = e : i.R = e : this._ = e,
            o && a ? (r = e.C,
            e.C = t.C,
            e.L = o,
            o.U = e,
            e !== a ? (i = e.U,
            e.U = t.U,
            t = e.R,
            i.L = t,
            e.R = a,
            a.U = e) : (e.U = i,
            i = e,
            t = e.R)) : (r = t.C,
            t = e),
            t && (t.U = i),
            !r) {
                if (t && t.C)
                    return void (t.C = !1);
                do {
                    if (t === this._)
                        break;
                    if (t === i.L) {
                        if (n = i.R,
                        n.C && (n.C = !1,
                        i.C = !0,
                        rr(this, i),
                        n = i.R),
                        n.L && n.L.C || n.R && n.R.C) {
                            n.R && n.R.C || (n.L.C = !1,
                            n.C = !0,
                            ir(this, n),
                            n = i.R),
                            n.C = i.C,
                            i.C = n.R.C = !1,
                            rr(this, i),
                            t = this._;
                            break
                        }
                    } else if (n = i.L,
                    n.C && (n.C = !1,
                    i.C = !0,
                    ir(this, i),
                    n = i.L),
                    n.L && n.L.C || n.R && n.R.C) {
                        n.L && n.L.C || (n.R.C = !1,
                        n.C = !0,
                        rr(this, n),
                        n = i.L),
                        n.C = i.C,
                        i.C = n.L.C = !1,
                        ir(this, i),
                        t = this._;
                        break
                    }
                    n.C = !0,
                    t = i,
                    i = i.U
                } while (!t.C);t && (t.C = !1)
            }
        }
    },
    ea.geom.voronoi = function(t) {
        function n(t) {
            var n = new Array(t.length)
              , r = u[0][0]
              , i = u[0][1]
              , o = u[1][0]
              , a = u[1][1];
            return ar(e(t), u).cells.forEach(function(e, u) {
                var s = e.edges
                  , c = e.site
                  , l = n[u] = s.length ? s.map(function(t) {
                    var n = t.start();
                    return [n.x, n.y]
                }
                ) : c.x >= r && c.x <= o && c.y >= i && c.y <= a ? [[r, a], [o, a], [o, i], [r, i]] : [];
                l.point = t[u]
            }
            ),
            n
        }
        function e(t) {
            return t.map(function(t, n) {
                return {
                    x: Math.round(o(t, n) / Ta) * Ta,
                    y: Math.round(a(t, n) / Ta) * Ta,
                    i: n
                }
            }
            )
        }
        var r = Ae
          , i = Pe
          , o = r
          , a = i
          , u = os;
        return t ? n(t) : (n.links = function(t) {
            return ar(e(t)).edges.filter(function(t) {
                return t.l && t.r
            }
            ).map(function(n) {
                return {
                    source: t[n.l.i],
                    target: t[n.r.i]
                }
            }
            )
        }
        ,
        n.triangles = function(t) {
            var n = [];
            return ar(e(t)).cells.forEach(function(e, r) {
                for (var i, o, a = e.site, u = e.edges.sort(Ve), s = -1, c = u.length, l = u[c - 1].edge, f = l.l === a ? l.r : l.l; ++s < c; )
                    i = l,
                    o = f,
                    l = u[s].edge,
                    f = l.l === a ? l.r : l.l,
                    r < o.i && r < f.i && sr(a, o, f) < 0 && n.push([t[r], t[o.i], t[f.i]])
            }
            ),
            n
        }
        ,
        n.x = function(t) {
            return arguments.length ? (o = Mt(r = t),
            n) : r
        }
        ,
        n.y = function(t) {
            return arguments.length ? (a = Mt(i = t),
            n) : i
        }
        ,
        n.clipExtent = function(t) {
            return arguments.length ? (u = null  == t ? os : t,
            n) : u === os ? null  : u
        }
        ,
        n.size = function(t) {
            return arguments.length ? n.clipExtent(t && [[0, 0], t]) : u === os ? null  : u && u[1]
        }
        ,
        n)
    }
    ;
    var os = [[-1e6, -1e6], [1e6, 1e6]];
    ea.geom.delaunay = function(t) {
        return ea.geom.voronoi().triangles(t)
    }
    ,
    ea.geom.quadtree = function(t, n, e, r, i) {
        function o(t) {
            function o(t, n, e, r, i, o, a, u) {
                if (!isNaN(e) && !isNaN(r))
                    if (t.leaf) {
                        var s = t.x
                          , l = t.y;
                        if (null  != s)
                            if (ha(s - e) + ha(l - r) < .01)
                                c(t, n, e, r, i, o, a, u);
                            else {
                                var f = t.point;
                                t.x = t.y = t.point = null ,
                                c(t, f, s, l, i, o, a, u),
                                c(t, n, e, r, i, o, a, u)
                            }
                        else
                            t.x = e,
                            t.y = r,
                            t.point = n
                    } else
                        c(t, n, e, r, i, o, a, u)
            }
            function c(t, n, e, r, i, a, u, s) {
                var c = .5 * (i + u)
                  , l = .5 * (a + s)
                  , f = e >= c
                  , d = r >= l
                  , p = d << 1 | f;
                t.leaf = !1,
                t = t.nodes[p] || (t.nodes[p] = fr()),
                f ? i = c : u = c,
                d ? a = l : s = l,
                o(t, n, e, r, i, a, u, s)
            }
            var l, f, d, p, h, m, v, g, b, y = Mt(u), w = Mt(s);
            if (null  != n)
                m = n,
                v = e,
                g = r,
                b = i;
            else if (g = b = -(m = v = 1 / 0),
            f = [],
            d = [],
            h = t.length,
            a)
                for (p = 0; h > p; ++p)
                    l = t[p],
                    l.x < m && (m = l.x),
                    l.y < v && (v = l.y),
                    l.x > g && (g = l.x),
                    l.y > b && (b = l.y),
                    f.push(l.x),
                    d.push(l.y);
            else
                for (p = 0; h > p; ++p) {
                    var x = +y(l = t[p], p)
                      , E = +w(l, p);
                    m > x && (m = x),
                    v > E && (v = E),
                    x > g && (g = x),
                    E > b && (b = E),
                    f.push(x),
                    d.push(E)
                }
            var _ = g - m
              , C = b - v;
            _ > C ? b = v + _ : g = m + C;
            var S = fr();
            if (S.add = function(t) {
                o(S, t, +y(t, ++p), +w(t, p), m, v, g, b)
            }
            ,
            S.visit = function(t) {
                dr(t, S, m, v, g, b)
            }
            ,
            S.find = function(t) {
                return pr(S, t[0], t[1], m, v, g, b)
            }
            ,
            p = -1,
            null  == n) {
                for (; ++p < h; )
                    o(S, t[p], f[p], d[p], m, v, g, b);
                --p
            } else
                t.forEach(S.add);
            return f = d = t = l = null ,
            S
        }
        var a, u = Ae, s = Pe;
        return (a = arguments.length) ? (u = cr,
        s = lr,
        3 === a && (i = e,
        r = n,
        e = n = 0),
        o(t)) : (o.x = function(t) {
            return arguments.length ? (u = t,
            o) : u
        }
        ,
        o.y = function(t) {
            return arguments.length ? (s = t,
            o) : s
        }
        ,
        o.extent = function(t) {
            return arguments.length ? (null  == t ? n = e = r = i = null  : (n = +t[0][0],
            e = +t[0][1],
            r = +t[1][0],
            i = +t[1][1]),
            o) : null  == n ? null  : [[n, e], [r, i]]
        }
        ,
        o.size = function(t) {
            return arguments.length ? (null  == t ? n = e = r = i = null  : (n = e = 0,
            r = +t[0],
            i = +t[1]),
            o) : null  == n ? null  : [r - n, i - e]
        }
        ,
        o)
    }
    ,
    ea.interpolateRgb = hr,
    ea.interpolateObject = mr,
    ea.interpolateNumber = vr,
    ea.interpolateString = gr;
    var as = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g
      , us = new RegExp(as.source,"g");
    ea.interpolate = br,
    ea.interpolators = [function(t, n) {
        var e = typeof n;
        return ("string" === e ? Za.has(n.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(n) ? hr : gr : n instanceof at ? hr : Array.isArray(n) ? yr : "object" === e && isNaN(n) ? mr : vr)(t, n)
    }
    ],
    ea.interpolateArray = yr;
    var ss = function() {
        return b
    }
      , cs = ea.map({
        linear: ss,
        poly: Mr,
        quad: function() {
            return _r
        },
        cubic: function() {
            return Cr
        },
        sin: function() {
            return kr
        },
        exp: function() {
            return Ar
        },
        circle: function() {
            return Pr
        },
        elastic: Tr,
        back: Nr,
        bounce: function() {
            return Dr
        }
    })
      , ls = ea.map({
        "in": b,
        out: xr,
        "in-out": Er,
        "out-in": function(t) {
            return Er(xr(t))
        }
    });
    ea.ease = function(t) {
        var n = t.indexOf("-")
          , e = n >= 0 ? t.slice(0, n) : t
          , r = n >= 0 ? t.slice(n + 1) : "in";
        return e = cs.get(e) || ss,
        r = ls.get(r) || b,
        wr(r(e.apply(null , ra.call(arguments, 1))))
    }
    ,
    ea.interpolateHcl = jr,
    ea.interpolateHsl = Or,
    ea.interpolateLab = Ir,
    ea.interpolateRound = Rr,
    ea.transform = function(t) {
        var n = oa.createElementNS(ea.ns.prefix.svg, "g");
        return (ea.transform = function(t) {
            if (null  != t) {
                n.setAttribute("transform", t);
                var e = n.transform.baseVal.consolidate()
            }
            return new Lr(e ? e.matrix : fs)
        }
        )(t)
    }
    ,
    Lr.prototype.toString = function() {
        return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
    }
    ;
    var fs = {
        a: 1,
        b: 0,
        c: 0,
        d: 1,
        e: 0,
        f: 0
    };
    ea.interpolateTransform = Wr,
    ea.layout = {},
    ea.layout.bundle = function() {
        return function(t) {
            for (var n = [], e = -1, r = t.length; ++e < r; )
                n.push(Vr(t[e]));
            return n
        }
    }
    ,
    ea.layout.chord = function() {
        function t() {
            var t, c, f, d, p, h = {}, m = [], v = ea.range(o), g = [];
            for (e = [],
            r = [],
            t = 0,
            d = -1; ++d < o; ) {
                for (c = 0,
                p = -1; ++p < o; )
                    c += i[d][p];
                m.push(c),
                g.push(ea.range(o)),
                t += c
            }
            for (a && v.sort(function(t, n) {
                return a(m[t], m[n])
            }
            ),
            u && g.forEach(function(t, n) {
                t.sort(function(t, e) {
                    return u(i[n][t], i[n][e])
                }
                )
            }
            ),
            t = (ja - l * o) / t,
            c = 0,
            d = -1; ++d < o; ) {
                for (f = c,
                p = -1; ++p < o; ) {
                    var b = v[d]
                      , y = g[b][p]
                      , w = i[b][y]
                      , x = c
                      , E = c += w * t;
                    h[b + "-" + y] = {
                        index: b,
                        subindex: y,
                        startAngle: x,
                        endAngle: E,
                        value: w
                    }
                }
                r[b] = {
                    index: b,
                    startAngle: f,
                    endAngle: c,
                    value: (c - f) / t
                },
                c += l
            }
            for (d = -1; ++d < o; )
                for (p = d - 1; ++p < o; ) {
                    var _ = h[d + "-" + p]
                      , C = h[p + "-" + d];
                    (_.value || C.value) && e.push(_.value < C.value ? {
                        source: C,
                        target: _
                    } : {
                        source: _,
                        target: C
                    })
                }
            s && n()
        }
        function n() {
            e.sort(function(t, n) {
                return s((t.source.value + t.target.value) / 2, (n.source.value + n.target.value) / 2)
            }
            )
        }
        var e, r, i, o, a, u, s, c = {}, l = 0;
        return c.matrix = function(t) {
            return arguments.length ? (o = (i = t) && i.length,
            e = r = null ,
            c) : i
        }
        ,
        c.padding = function(t) {
            return arguments.length ? (l = t,
            e = r = null ,
            c) : l
        }
        ,
        c.sortGroups = function(t) {
            return arguments.length ? (a = t,
            e = r = null ,
            c) : a
        }
        ,
        c.sortSubgroups = function(t) {
            return arguments.length ? (u = t,
            e = null ,
            c) : u
        }
        ,
        c.sortChords = function(t) {
            return arguments.length ? (s = t,
            e && n(),
            c) : s
        }
        ,
        c.chords = function() {
            return e || t(),
            e
        }
        ,
        c.groups = function() {
            return r || t(),
            r
        }
        ,
        c
    }
    ,
    ea.layout.force = function() {
        function t(t) {
            return function(n, e, r, i) {
                if (n.point !== t) {
                    var o = n.cx - t.x
                      , a = n.cy - t.y
                      , u = i - e
                      , s = o * o + a * a;
                    if (s > u * u / v) {
                        if (h > s) {
                            var c = n.charge / s;
                            t.px -= o * c,
                            t.py -= a * c
                        }
                        return !0
                    }
                    if (n.point && s && h > s) {
                        var c = n.pointCharge / s;
                        t.px -= o * c,
                        t.py -= a * c
                    }
                }
                return !n.charge
            }
        }
        function n(t) {
            t.px = ea.event.x,
            t.py = ea.event.y,
            u.resume()
        }
        var e, r, i, o, a, u = {}, s = ea.dispatch("start", "tick", "end"), c = [1, 1], l = .9, f = ds, d = ps, p = -30, h = hs, m = .1, v = .64, g = [], y = [];
        return u.tick = function() {
            if ((r *= .99) < .005)
                return s.end({
                    type: "end",
                    alpha: r = 0
                }),
                !0;
            var n, e, u, f, d, h, v, b, w, x = g.length, E = y.length;
            for (e = 0; E > e; ++e)
                u = y[e],
                f = u.source,
                d = u.target,
                b = d.x - f.x,
                w = d.y - f.y,
                (h = b * b + w * w) && (h = r * o[e] * ((h = Math.sqrt(h)) - i[e]) / h,
                b *= h,
                w *= h,
                d.x -= b * (v = f.weight / (d.weight + f.weight)),
                d.y -= w * v,
                f.x += b * (v = 1 - v),
                f.y += w * v);
            if ((v = r * m) && (b = c[0] / 2,
            w = c[1] / 2,
            e = -1,
            v))
                for (; ++e < x; )
                    u = g[e],
                    u.x += (b - u.x) * v,
                    u.y += (w - u.y) * v;
            if (p)
                for (Kr(n = ea.geom.quadtree(g), r, a),
                e = -1; ++e < x; )
                    (u = g[e]).fixed || n.visit(t(u));
            for (e = -1; ++e < x; )
                u = g[e],
                u.fixed ? (u.x = u.px,
                u.y = u.py) : (u.x -= (u.px - (u.px = u.x)) * l,
                u.y -= (u.py - (u.py = u.y)) * l);
            s.tick({
                type: "tick",
                alpha: r
            })
        }
        ,
        u.nodes = function(t) {
            return arguments.length ? (g = t,
            u) : g
        }
        ,
        u.links = function(t) {
            return arguments.length ? (y = t,
            u) : y
        }
        ,
        u.size = function(t) {
            return arguments.length ? (c = t,
            u) : c
        }
        ,
        u.linkDistance = function(t) {
            return arguments.length ? (f = "function" == typeof t ? t : +t,
            u) : f
        }
        ,
        u.distance = u.linkDistance,
        u.linkStrength = function(t) {
            return arguments.length ? (d = "function" == typeof t ? t : +t,
            u) : d
        }
        ,
        u.friction = function(t) {
            return arguments.length ? (l = +t,
            u) : l
        }
        ,
        u.charge = function(t) {
            return arguments.length ? (p = "function" == typeof t ? t : +t,
            u) : p
        }
        ,
        u.chargeDistance = function(t) {
            return arguments.length ? (h = t * t,
            u) : Math.sqrt(h)
        }
        ,
        u.gravity = function(t) {
            return arguments.length ? (m = +t,
            u) : m
        }
        ,
        u.theta = function(t) {
            return arguments.length ? (v = t * t,
            u) : Math.sqrt(v)
        }
        ,
        u.alpha = function(t) {
            return arguments.length ? (t = +t,
            r ? r = t > 0 ? t : 0 : t > 0 && (s.start({
                type: "start",
                alpha: r = t
            }),
            ea.timer(u.tick)),
            u) : r
        }
        ,
        u.start = function() {
            function t(t, r) {
                if (!e) {
                    for (e = new Array(s),
                    u = 0; s > u; ++u)
                        e[u] = [];
                    for (u = 0; l > u; ++u) {
                        var i = y[u];
                        e[i.source.index].push(i.target),
                        e[i.target.index].push(i.source)
                    }
                }
                for (var o, a = e[n], u = -1, c = a.length; ++u < c; )
                    if (!isNaN(o = a[u][t]))
                        return o;
                return Math.random() * r
            }
            var n, e, r, s = g.length, l = y.length, h = c[0], m = c[1];
            for (n = 0; s > n; ++n)
                (r = g[n]).index = n,
                r.weight = 0;
            for (n = 0; l > n; ++n)
                r = y[n],
                "number" == typeof r.source && (r.source = g[r.source]),
                "number" == typeof r.target && (r.target = g[r.target]),
                ++r.source.weight,
                ++r.target.weight;
            for (n = 0; s > n; ++n)
                r = g[n],
                isNaN(r.x) && (r.x = t("x", h)),
                isNaN(r.y) && (r.y = t("y", m)),
                isNaN(r.px) && (r.px = r.x),
                isNaN(r.py) && (r.py = r.y);
            if (i = [],
            "function" == typeof f)
                for (n = 0; l > n; ++n)
                    i[n] = +f.call(this, y[n], n);
            else
                for (n = 0; l > n; ++n)
                    i[n] = f;
            if (o = [],
            "function" == typeof d)
                for (n = 0; l > n; ++n)
                    o[n] = +d.call(this, y[n], n);
            else
                for (n = 0; l > n; ++n)
                    o[n] = d;
            if (a = [],
            "function" == typeof p)
                for (n = 0; s > n; ++n)
                    a[n] = +p.call(this, g[n], n);
            else
                for (n = 0; s > n; ++n)
                    a[n] = p;
            return u.resume()
        }
        ,
        u.resume = function() {
            return u.alpha(.1)
        }
        ,
        u.stop = function() {
            return u.alpha(0)
        }
        ,
        u.drag = function() {
            return e || (e = ea.behavior.drag().origin(b).on("dragstart.force", Xr).on("drag.force", n).on("dragend.force", Gr)),
            arguments.length ? void this.on("mouseover.force", Qr).on("mouseout.force", Jr).call(e) : e
        }
        ,
        ea.rebind(u, s, "on")
    }
    ;
    var ds = 20
      , ps = 1
      , hs = 1 / 0;
    ea.layout.hierarchy = function() {
        function t(i) {
            var o, a = [i], u = [];
            for (i.depth = 0; null  != (o = a.pop()); )
                if (u.push(o),
                (c = e.call(t, o, o.depth)) && (s = c.length)) {
                    for (var s, c, l; --s >= 0; )
                        a.push(l = c[s]),
                        l.parent = o,
                        l.depth = o.depth + 1;
                    r && (o.value = 0),
                    o.children = c
                } else
                    r && (o.value = +r.call(t, o, o.depth) || 0),
                    delete o.children;
            return ti(i, function(t) {
                var e, i;
                n && (e = t.children) && e.sort(n),
                r && (i = t.parent) && (i.value += t.value)
            }
            ),
            u
        }
        var n = ri
          , e = ni
          , r = ei;
        return t.sort = function(e) {
            return arguments.length ? (n = e,
            t) : n
        }
        ,
        t.children = function(n) {
            return arguments.length ? (e = n,
            t) : e
        }
        ,
        t.value = function(n) {
            return arguments.length ? (r = n,
            t) : r
        }
        ,
        t.revalue = function(n) {
            return r && ($r(n, function(t) {
                t.children && (t.value = 0)
            }
            ),
            ti(n, function(n) {
                var e;
                n.children || (n.value = +r.call(t, n, n.depth) || 0),
                (e = n.parent) && (e.value += n.value)
            }
            )),
            n
        }
        ,
        t
    }
    ,
    ea.layout.partition = function() {
        function t(n, e, r, i) {
            var o = n.children;
            if (n.x = e,
            n.y = n.depth * i,
            n.dx = r,
            n.dy = i,
            o && (a = o.length)) {
                var a, u, s, c = -1;
                for (r = n.value ? r / n.value : 0; ++c < a; )
                    t(u = o[c], e, s = u.value * r, i),
                    e += s
            }
        }
        function n(t) {
            var e = t.children
              , r = 0;
            if (e && (i = e.length))
                for (var i, o = -1; ++o < i; )
                    r = Math.max(r, n(e[o]));
            return 1 + r
        }
        function e(e, o) {
            var a = r.call(this, e, o);
            return t(a[0], 0, i[0], i[1] / n(a[0])),
            a
        }
        var r = ea.layout.hierarchy()
          , i = [1, 1];
        return e.size = function(t) {
            return arguments.length ? (i = t,
            e) : i
        }
        ,
        Zr(e, r)
    }
    ,
    ea.layout.pie = function() {
        function t(a) {
            var u, s = a.length, c = a.map(function(e, r) {
                return +n.call(t, e, r)
            }
            ), l = +("function" == typeof r ? r.apply(this, arguments) : r), f = ("function" == typeof i ? i.apply(this, arguments) : i) - l, d = Math.min(Math.abs(f) / s, +("function" == typeof o ? o.apply(this, arguments) : o)), p = d * (0 > f ? -1 : 1), h = (f - s * p) / ea.sum(c), m = ea.range(s), v = [];
            return null  != e && m.sort(e === ms ? function(t, n) {
                return c[n] - c[t]
            }
             : function(t, n) {
                return e(a[t], a[n])
            }
            ),
            m.forEach(function(t) {
                v[t] = {
                    data: a[t],
                    value: u = c[t],
                    startAngle: l,
                    endAngle: l += u * h + p,
                    padAngle: d
                }
            }
            ),
            v
        }
        var n = Number
          , e = ms
          , r = 0
          , i = ja
          , o = 0;
        return t.value = function(e) {
            return arguments.length ? (n = e,
            t) : n
        }
        ,
        t.sort = function(n) {
            return arguments.length ? (e = n,
            t) : e
        }
        ,
        t.startAngle = function(n) {
            return arguments.length ? (r = n,
            t) : r
        }
        ,
        t.endAngle = function(n) {
            return arguments.length ? (i = n,
            t) : i
        }
        ,
        t.padAngle = function(n) {
            return arguments.length ? (o = n,
            t) : o
        }
        ,
        t
    }
    ;
    var ms = {};
    ea.layout.stack = function() {
        function t(u, s) {
            if (!(d = u.length))
                return u;
            var c = u.map(function(e, r) {
                return n.call(t, e, r)
            }
            )
              , l = c.map(function(n) {
                return n.map(function(n, e) {
                    return [o.call(t, n, e), a.call(t, n, e)]
                }
                )
            }
            )
              , f = e.call(t, l, s);
            c = ea.permute(c, f),
            l = ea.permute(l, f);
            var d, p, h, m, v = r.call(t, l, s), g = c[0].length;
            for (h = 0; g > h; ++h)
                for (i.call(t, c[0][h], m = v[h], l[0][h][1]),
                p = 1; d > p; ++p)
                    i.call(t, c[p][h], m += l[p - 1][h][1], l[p][h][1]);
            return u
        }
        var n = b
          , e = si
          , r = ci
          , i = ui
          , o = oi
          , a = ai;
        return t.values = function(e) {
            return arguments.length ? (n = e,
            t) : n
        }
        ,
        t.order = function(n) {
            return arguments.length ? (e = "function" == typeof n ? n : vs.get(n) || si,
            t) : e
        }
        ,
        t.offset = function(n) {
            return arguments.length ? (r = "function" == typeof n ? n : gs.get(n) || ci,
            t) : r
        }
        ,
        t.x = function(n) {
            return arguments.length ? (o = n,
            t) : o
        }
        ,
        t.y = function(n) {
            return arguments.length ? (a = n,
            t) : a
        }
        ,
        t.out = function(n) {
            return arguments.length ? (i = n,
            t) : i
        }
        ,
        t
    }
    ;
    var vs = ea.map({
        "inside-out": function(t) {
            var n, e, r = t.length, i = t.map(li), o = t.map(fi), a = ea.range(r).sort(function(t, n) {
                return i[t] - i[n]
            }
            ), u = 0, s = 0, c = [], l = [];
            for (n = 0; r > n; ++n)
                e = a[n],
                s > u ? (u += o[e],
                c.push(e)) : (s += o[e],
                l.push(e));
            return l.reverse().concat(c)
        },
        reverse: function(t) {
            return ea.range(t.length).reverse()
        },
        "default": si
    })
      , gs = ea.map({
        silhouette: function(t) {
            var n, e, r, i = t.length, o = t[0].length, a = [], u = 0, s = [];
            for (e = 0; o > e; ++e) {
                for (n = 0,
                r = 0; i > n; n++)
                    r += t[n][e][1];
                r > u && (u = r),
                a.push(r)
            }
            for (e = 0; o > e; ++e)
                s[e] = (u - a[e]) / 2;
            return s
        },
        wiggle: function(t) {
            var n, e, r, i, o, a, u, s, c, l = t.length, f = t[0], d = f.length, p = [];
            for (p[0] = s = c = 0,
            e = 1; d > e; ++e) {
                for (n = 0,
                i = 0; l > n; ++n)
                    i += t[n][e][1];
                for (n = 0,
                o = 0,
                u = f[e][0] - f[e - 1][0]; l > n; ++n) {
                    for (r = 0,
                    a = (t[n][e][1] - t[n][e - 1][1]) / (2 * u); n > r; ++r)
                        a += (t[r][e][1] - t[r][e - 1][1]) / u;
                    o += a * t[n][e][1]
                }
                p[e] = s -= i ? o / i * u : 0,
                c > s && (c = s)
            }
            for (e = 0; d > e; ++e)
                p[e] -= c;
            return p
        },
        expand: function(t) {
            var n, e, r, i = t.length, o = t[0].length, a = 1 / i, u = [];
            for (e = 0; o > e; ++e) {
                for (n = 0,
                r = 0; i > n; n++)
                    r += t[n][e][1];
                if (r)
                    for (n = 0; i > n; n++)
                        t[n][e][1] /= r;
                else
                    for (n = 0; i > n; n++)
                        t[n][e][1] = a
            }
            for (e = 0; o > e; ++e)
                u[e] = 0;
            return u
        },
        zero: ci
    });
    ea.layout.histogram = function() {
        function t(t, o) {
            for (var a, u, s = [], c = t.map(e, this), l = r.call(this, c, o), f = i.call(this, l, c, o), o = -1, d = c.length, p = f.length - 1, h = n ? 1 : 1 / d; ++o < p; )
                a = s[o] = [],
                a.dx = f[o + 1] - (a.x = f[o]),
                a.y = 0;
            if (p > 0)
                for (o = -1; ++o < d; )
                    u = c[o],
                    u >= l[0] && u <= l[1] && (a = s[ea.bisect(f, u, 1, p) - 1],
                    a.y += h,
                    a.push(t[o]));
            return s
        }
        var n = !0
          , e = Number
          , r = mi
          , i = pi;
        return t.value = function(n) {
            return arguments.length ? (e = n,
            t) : e
        }
        ,
        t.range = function(n) {
            return arguments.length ? (r = Mt(n),
            t) : r
        }
        ,
        t.bins = function(n) {
            return arguments.length ? (i = "number" == typeof n ? function(t) {
                return hi(t, n)
            }
             : Mt(n),
            t) : i
        }
        ,
        t.frequency = function(e) {
            return arguments.length ? (n = !!e,
            t) : n
        }
        ,
        t
    }
    ,
    ea.layout.pack = function() {
        function t(t, o) {
            var a = e.call(this, t, o)
              , u = a[0]
              , s = i[0]
              , c = i[1]
              , l = null  == n ? Math.sqrt : "function" == typeof n ? n : function() {
                return n
            }
            ;
            if (u.x = u.y = 0,
            ti(u, function(t) {
                t.r = +l(t.value)
            }
            ),
            ti(u, wi),
            r) {
                var f = r * (n ? 1 : Math.max(2 * u.r / s, 2 * u.r / c)) / 2;
                ti(u, function(t) {
                    t.r += f
                }
                ),
                ti(u, wi),
                ti(u, function(t) {
                    t.r -= f
                }
                )
            }
            return _i(u, s / 2, c / 2, n ? 1 : 1 / Math.max(2 * u.r / s, 2 * u.r / c)),
            a
        }
        var n, e = ea.layout.hierarchy().sort(vi), r = 0, i = [1, 1];
        return t.size = function(n) {
            return arguments.length ? (i = n,
            t) : i
        }
        ,
        t.radius = function(e) {
            return arguments.length ? (n = null  == e || "function" == typeof e ? e : +e,
            t) : n
        }
        ,
        t.padding = function(n) {
            return arguments.length ? (r = +n,
            t) : r
        }
        ,
        Zr(t, e)
    }
    ,
    ea.layout.tree = function() {
        function t(t, i) {
            var l = a.call(this, t, i)
              , f = l[0]
              , d = n(f);
            if (ti(d, e),
            d.parent.m = -d.z,
            $r(d, r),
            c)
                $r(f, o);
            else {
                var p = f
                  , h = f
                  , m = f;
                $r(f, function(t) {
                    t.x < p.x && (p = t),
                    t.x > h.x && (h = t),
                    t.depth > m.depth && (m = t)
                }
                );
                var v = u(p, h) / 2 - p.x
                  , g = s[0] / (h.x + u(h, p) / 2 + v)
                  , b = s[1] / (m.depth || 1);
                $r(f, function(t) {
                    t.x = (t.x + v) * g,
                    t.y = t.depth * b
                }
                )
            }
            return l
        }
        function n(t) {
            for (var n, e = {
                A: null ,
                children: [t]
            }, r = [e]; null  != (n = r.pop()); )
                for (var i, o = n.children, a = 0, u = o.length; u > a; ++a)
                    r.push((o[a] = i = {
                        _: o[a],
                        parent: n,
                        children: (i = o[a].children) && i.slice() || [],
                        A: null ,
                        a: null ,
                        z: 0,
                        m: 0,
                        c: 0,
                        s: 0,
                        t: null ,
                        i: a
                    }).a = i);
            return e.children[0]
        }
        function e(t) {
            var n = t.children
              , e = t.parent.children
              , r = t.i ? e[t.i - 1] : null ;
            if (n.length) {
                Pi(t);
                var o = (n[0].z + n[n.length - 1].z) / 2;
                r ? (t.z = r.z + u(t._, r._),
                t.m = t.z - o) : t.z = o
            } else
                r && (t.z = r.z + u(t._, r._));
            t.parent.A = i(t, r, t.parent.A || e[0])
        }
        function r(t) {
            t._.x = t.z + t.parent.m,
            t.m += t.parent.m
        }
        function i(t, n, e) {
            if (n) {
                for (var r, i = t, o = t, a = n, s = i.parent.children[0], c = i.m, l = o.m, f = a.m, d = s.m; a = ki(a),
                i = Mi(i),
                a && i; )
                    s = Mi(s),
                    o = ki(o),
                    o.a = t,
                    r = a.z + f - i.z - c + u(a._, i._),
                    r > 0 && (Ai(Ti(a, t, e), t, r),
                    c += r,
                    l += r),
                    f += a.m,
                    c += i.m,
                    d += s.m,
                    l += o.m;
                a && !ki(o) && (o.t = a,
                o.m += f - l),
                i && !Mi(s) && (s.t = i,
                s.m += c - d,
                e = t)
            }
            return e
        }
        function o(t) {
            t.x *= s[0],
            t.y = t.depth * s[1]
        }
        var a = ea.layout.hierarchy().sort(null ).value(null )
          , u = Si
          , s = [1, 1]
          , c = null ;
        return t.separation = function(n) {
            return arguments.length ? (u = n,
            t) : u
        }
        ,
        t.size = function(n) {
            return arguments.length ? (c = null  == (s = n) ? o : null ,
            t) : c ? null  : s
        }
        ,
        t.nodeSize = function(n) {
            return arguments.length ? (c = null  == (s = n) ? null  : o,
            t) : c ? s : null 
        }
        ,
        Zr(t, a)
    }
    ,
    ea.layout.cluster = function() {
        function t(t, o) {
            var a, u = n.call(this, t, o), s = u[0], c = 0;
            ti(s, function(t) {
                var n = t.children;
                n && n.length ? (t.x = Di(n),
                t.y = Ni(n)) : (t.x = a ? c += e(t, a) : 0,
                t.y = 0,
                a = t)
            }
            );
            var l = ji(s)
              , f = Oi(s)
              , d = l.x - e(l, f) / 2
              , p = f.x + e(f, l) / 2;
            return ti(s, i ? function(t) {
                t.x = (t.x - s.x) * r[0],
                t.y = (s.y - t.y) * r[1]
            }
             : function(t) {
                t.x = (t.x - d) / (p - d) * r[0],
                t.y = (1 - (s.y ? t.y / s.y : 1)) * r[1]
            }
            ),
            u
        }
        var n = ea.layout.hierarchy().sort(null ).value(null )
          , e = Si
          , r = [1, 1]
          , i = !1;
        return t.separation = function(n) {
            return arguments.length ? (e = n,
            t) : e
        }
        ,
        t.size = function(n) {
            return arguments.length ? (i = null  == (r = n),
            t) : i ? null  : r
        }
        ,
        t.nodeSize = function(n) {
            return arguments.length ? (i = null  != (r = n),
            t) : i ? r : null 
        }
        ,
        Zr(t, n)
    }
    ,
    ea.layout.treemap = function() {
        function t(t, n) {
            for (var e, r, i = -1, o = t.length; ++i < o; )
                r = (e = t[i]).value * (0 > n ? 0 : n),
                e.area = isNaN(r) || 0 >= r ? 0 : r
        }
        function n(e) {
            var o = e.children;
            if (o && o.length) {
                var a, u, s, c = f(e), l = [], d = o.slice(), h = 1 / 0, m = "slice" === p ? c.dx : "dice" === p ? c.dy : "slice-dice" === p ? 1 & e.depth ? c.dy : c.dx : Math.min(c.dx, c.dy);
                for (t(d, c.dx * c.dy / e.value),
                l.area = 0; (s = d.length) > 0; )
                    l.push(a = d[s - 1]),
                    l.area += a.area,
                    "squarify" !== p || (u = r(l, m)) <= h ? (d.pop(),
                    h = u) : (l.area -= l.pop().area,
                    i(l, m, c, !1),
                    m = Math.min(c.dx, c.dy),
                    l.length = l.area = 0,
                    h = 1 / 0);
                l.length && (i(l, m, c, !0),
                l.length = l.area = 0),
                o.forEach(n)
            }
        }
        function e(n) {
            var r = n.children;
            if (r && r.length) {
                var o, a = f(n), u = r.slice(), s = [];
                for (t(u, a.dx * a.dy / n.value),
                s.area = 0; o = u.pop(); )
                    s.push(o),
                    s.area += o.area,
                    null  != o.z && (i(s, o.z ? a.dx : a.dy, a, !u.length),
                    s.length = s.area = 0);
                r.forEach(e)
            }
        }
        function r(t, n) {
            for (var e, r = t.area, i = 0, o = 1 / 0, a = -1, u = t.length; ++a < u; )
                (e = t[a].area) && (o > e && (o = e),
                e > i && (i = e));
            return r *= r,
            n *= n,
            r ? Math.max(n * i * h / r, r / (n * o * h)) : 1 / 0
        }
        function i(t, n, e, r) {
            var i, o = -1, a = t.length, u = e.x, c = e.y, l = n ? s(t.area / n) : 0;
            if (n == e.dx) {
                for ((r || l > e.dy) && (l = e.dy); ++o < a; )
                    i = t[o],
                    i.x = u,
                    i.y = c,
                    i.dy = l,
                    u += i.dx = Math.min(e.x + e.dx - u, l ? s(i.area / l) : 0);
                i.z = !0,
                i.dx += e.x + e.dx - u,
                e.y += l,
                e.dy -= l
            } else {
                for ((r || l > e.dx) && (l = e.dx); ++o < a; )
                    i = t[o],
                    i.x = u,
                    i.y = c,
                    i.dx = l,
                    c += i.dy = Math.min(e.y + e.dy - c, l ? s(i.area / l) : 0);
                i.z = !1,
                i.dy += e.y + e.dy - c,
                e.x += l,
                e.dx -= l
            }
        }
        function o(r) {
            var i = a || u(r)
              , o = i[0];
            return o.x = 0,
            o.y = 0,
            o.dx = c[0],
            o.dy = c[1],
            a && u.revalue(o),
            t([o], o.dx * o.dy / o.value),
            (a ? e : n)(o),
            d && (a = i),
            i
        }
        var a, u = ea.layout.hierarchy(), s = Math.round, c = [1, 1], l = null , f = Ii, d = !1, p = "squarify", h = .5 * (1 + Math.sqrt(5));
        return o.size = function(t) {
            return arguments.length ? (c = t,
            o) : c
        }
        ,
        o.padding = function(t) {
            function n(n) {
                var e = t.call(o, n, n.depth);
                return null  == e ? Ii(n) : Ri(n, "number" == typeof e ? [e, e, e, e] : e)
            }
            function e(n) {
                return Ri(n, t)
            }
            if (!arguments.length)
                return l;
            var r;
            return f = null  == (l = t) ? Ii : "function" == (r = typeof t) ? n : "number" === r ? (t = [t, t, t, t],
            e) : e,
            o
        }
        ,
        o.round = function(t) {
            return arguments.length ? (s = t ? Math.round : Number,
            o) : s != Number
        }
        ,
        o.sticky = function(t) {
            return arguments.length ? (d = t,
            a = null ,
            o) : d
        }
        ,
        o.ratio = function(t) {
            return arguments.length ? (h = t,
            o) : h
        }
        ,
        o.mode = function(t) {
            return arguments.length ? (p = t + "",
            o) : p
        }
        ,
        Zr(o, u)
    }
    ,
    ea.random = {
        normal: function(t, n) {
            var e = arguments.length;
            return 2 > e && (n = 1),
            1 > e && (t = 0),
            function() {
                var e, r, i;
                do
                    e = 2 * Math.random() - 1,
                    r = 2 * Math.random() - 1,
                    i = e * e + r * r;
                while (!i || i > 1);return t + n * e * Math.sqrt(-2 * Math.log(i) / i)
            }
        },
        logNormal: function() {
            var t = ea.random.normal.apply(ea, arguments);
            return function() {
                return Math.exp(t())
            }
        },
        bates: function(t) {
            var n = ea.random.irwinHall(t);
            return function() {
                return n() / t
            }
        },
        irwinHall: function(t) {
            return function() {
                for (var n = 0, e = 0; t > e; e++)
                    n += Math.random();
                return n
            }
        }
    },
    ea.scale = {};
    var bs = {
        floor: b,
        ceil: b
    };
    ea.scale.linear = function() {
        return Hi([0, 1], [0, 1], br, !1)
    }
    ;
    var ys = {
        s: 1,
        g: 1,
        p: 1,
        r: 1,
        e: 1
    };
    ea.scale.log = function() {
        return Ki(ea.scale.linear().domain([0, 1]), 10, !0, [1, 10])
    }
    ;
    var ws = ea.format(".0e")
      , xs = {
        floor: function(t) {
            return -Math.ceil(-t)
        },
        ceil: function(t) {
            return -Math.floor(-t)
        }
    };
    ea.scale.pow = function() {
        return Zi(ea.scale.linear(), 1, [0, 1])
    }
    ,
    ea.scale.sqrt = function() {
        return ea.scale.pow().exponent(.5)
    }
    ,
    ea.scale.ordinal = function() {
        return to([], {
            t: "range",
            a: [[]]
        })
    }
    ,
    ea.scale.category10 = function() {
        return ea.scale.ordinal().range(Es)
    }
    ,
    ea.scale.category20 = function() {
        return ea.scale.ordinal().range(_s)
    }
    ,
    ea.scale.category20b = function() {
        return ea.scale.ordinal().range(Cs)
    }
    ,
    ea.scale.category20c = function() {
        return ea.scale.ordinal().range(Ss)
    }
    ;
    var Es = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(yt)
      , _s = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(yt)
      , Cs = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(yt)
      , Ss = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(yt);
    ea.scale.quantile = function() {
        return no([], [])
    }
    ,
    ea.scale.quantize = function() {
        return eo(0, 1, [0, 1])
    }
    ,
    ea.scale.threshold = function() {
        return ro([.5], [0, 1])
    }
    ,
    ea.scale.identity = function() {
        return io([0, 1])
    }
    ,
    ea.svg = {},
    ea.svg.arc = function() {
        function t() {
            var t = Math.max(0, +e.apply(this, arguments))
              , c = Math.max(0, +r.apply(this, arguments))
              , l = a.apply(this, arguments) - Ia
              , f = u.apply(this, arguments) - Ia
              , d = Math.abs(f - l)
              , p = l > f ? 0 : 1;
            if (t > c && (h = c,
            c = t,
            t = h),
            d >= Oa)
                return n(c, p) + (t ? n(t, 1 - p) : "") + "Z";
            var h, m, v, g, b, y, w, x, E, _, C, S, M = 0, k = 0, A = [];
            if ((g = (+s.apply(this, arguments) || 0) / 2) && (v = o === Ms ? Math.sqrt(t * t + c * c) : +o.apply(this, arguments),
            p || (k *= -1),
            c && (k = nt(v / c * Math.sin(g))),
            t && (M = nt(v / t * Math.sin(g)))),
            c) {
                b = c * Math.cos(l + k),
                y = c * Math.sin(l + k),
                w = c * Math.cos(f - k),
                x = c * Math.sin(f - k);
                var P = Math.abs(f - l - 2 * k) <= Da ? 0 : 1;
                if (k && fo(b, y, w, x) === p ^ P) {
                    var T = (l + f) / 2;
                    b = c * Math.cos(T),
                    y = c * Math.sin(T),
                    w = x = null 
                }
            } else
                b = y = 0;
            if (t) {
                E = t * Math.cos(f - M),
                _ = t * Math.sin(f - M),
                C = t * Math.cos(l + M),
                S = t * Math.sin(l + M);
                var N = Math.abs(l - f + 2 * M) <= Da ? 0 : 1;
                if (M && fo(E, _, C, S) === 1 - p ^ N) {
                    var D = (l + f) / 2;
                    E = t * Math.cos(D),
                    _ = t * Math.sin(D),
                    C = S = null 
                }
            } else
                E = _ = 0;
            if ((h = Math.min(Math.abs(c - t) / 2, +i.apply(this, arguments))) > .001) {
                m = c > t ^ p ? 0 : 1;
                var j = null  == C ? [E, _] : null  == w ? [b, y] : je([b, y], [C, S], [w, x], [E, _])
                  , O = b - j[0]
                  , I = y - j[1]
                  , R = w - j[0]
                  , L = x - j[1]
                  , z = 1 / Math.sin(Math.acos((O * R + I * L) / (Math.sqrt(O * O + I * I) * Math.sqrt(R * R + L * L))) / 2)
                  , q = Math.sqrt(j[0] * j[0] + j[1] * j[1]);
                if (null  != w) {
                    var B = Math.min(h, (c - q) / (z + 1))
                      , W = po(null  == C ? [E, _] : [C, S], [b, y], c, B, p)
                      , F = po([w, x], [E, _], c, B, p);
                    h === B ? A.push("M", W[0], "A", B, ",", B, " 0 0,", m, " ", W[1], "A", c, ",", c, " 0 ", 1 - p ^ fo(W[1][0], W[1][1], F[1][0], F[1][1]), ",", p, " ", F[1], "A", B, ",", B, " 0 0,", m, " ", F[0]) : A.push("M", W[0], "A", B, ",", B, " 0 1,", m, " ", F[0])
                } else
                    A.push("M", b, ",", y);
                if (null  != C) {
                    var H = Math.min(h, (t - q) / (z - 1))
                      , V = po([b, y], [C, S], t, -H, p)
                      , U = po([E, _], null  == w ? [b, y] : [w, x], t, -H, p);
                    h === H ? A.push("L", U[0], "A", H, ",", H, " 0 0,", m, " ", U[1], "A", t, ",", t, " 0 ", p ^ fo(U[1][0], U[1][1], V[1][0], V[1][1]), ",", 1 - p, " ", V[1], "A", H, ",", H, " 0 0,", m, " ", V[0]) : A.push("L", U[0], "A", H, ",", H, " 0 0,", m, " ", V[0])
                } else
                    A.push("L", E, ",", _)
            } else
                A.push("M", b, ",", y),
                null  != w && A.push("A", c, ",", c, " 0 ", P, ",", p, " ", w, ",", x),
                A.push("L", E, ",", _),
                null  != C && A.push("A", t, ",", t, " 0 ", N, ",", 1 - p, " ", C, ",", S);
            return A.push("Z"),
            A.join("")
        }
        function n(t, n) {
            return "M0," + t + "A" + t + "," + t + " 0 1," + n + " 0," + -t + "A" + t + "," + t + " 0 1," + n + " 0," + t
        }
        var e = ao
          , r = uo
          , i = oo
          , o = Ms
          , a = so
          , u = co
          , s = lo;
        return t.innerRadius = function(n) {
            return arguments.length ? (e = Mt(n),
            t) : e
        }
        ,
        t.outerRadius = function(n) {
            return arguments.length ? (r = Mt(n),
            t) : r
        }
        ,
        t.cornerRadius = function(n) {
            return arguments.length ? (i = Mt(n),
            t) : i
        }
        ,
        t.padRadius = function(n) {
            return arguments.length ? (o = n == Ms ? Ms : Mt(n),
            t) : o
        }
        ,
        t.startAngle = function(n) {
            return arguments.length ? (a = Mt(n),
            t) : a
        }
        ,
        t.endAngle = function(n) {
            return arguments.length ? (u = Mt(n),
            t) : u
        }
        ,
        t.padAngle = function(n) {
            return arguments.length ? (s = Mt(n),
            t) : s
        }
        ,
        t.centroid = function() {
            var t = (+e.apply(this, arguments) + +r.apply(this, arguments)) / 2
              , n = (+a.apply(this, arguments) + +u.apply(this, arguments)) / 2 - Ia;
            return [Math.cos(n) * t, Math.sin(n) * t]
        }
        ,
        t
    }
    ;
    var Ms = "auto";
    ea.svg.line = function() {
        return ho(b)
    }
    ;
    var ks = ea.map({
        linear: mo,
        "linear-closed": vo,
        step: go,
        "step-before": bo,
        "step-after": yo,
        basis: So,
        "basis-open": Mo,
        "basis-closed": ko,
        bundle: Ao,
        cardinal: Eo,
        "cardinal-open": wo,
        "cardinal-closed": xo,
        monotone: Oo
    });
    ks.forEach(function(t, n) {
        n.key = t,
        n.closed = /-closed$/.test(t)
    }
    );
    var As = [0, 2 / 3, 1 / 3, 0]
      , Ps = [0, 1 / 3, 2 / 3, 0]
      , Ts = [0, 1 / 6, 2 / 3, 1 / 6];
    ea.svg.line.radial = function() {
        var t = ho(Io);
        return t.radius = t.x,
        delete t.x,
        t.angle = t.y,
        delete t.y,
        t
    }
    ,
    bo.reverse = yo,
    yo.reverse = bo,
    ea.svg.area = function() {
        return Ro(b)
    }
    ,
    ea.svg.area.radial = function() {
        var t = Ro(Io);
        return t.radius = t.x,
        delete t.x,
        t.innerRadius = t.x0,
        delete t.x0,
        t.outerRadius = t.x1,
        delete t.x1,
        t.angle = t.y,
        delete t.y,
        t.startAngle = t.y0,
        delete t.y0,
        t.endAngle = t.y1,
        delete t.y1,
        t
    }
    ,
    ea.svg.chord = function() {
        function t(t, u) {
            var s = n(this, o, t, u)
              , c = n(this, a, t, u);
            return "M" + s.p0 + r(s.r, s.p1, s.a1 - s.a0) + (e(s, c) ? i(s.r, s.p1, s.r, s.p0) : i(s.r, s.p1, c.r, c.p0) + r(c.r, c.p1, c.a1 - c.a0) + i(c.r, c.p1, s.r, s.p0)) + "Z"
        }
        function n(t, n, e, r) {
            var i = n.call(t, e, r)
              , o = u.call(t, i, r)
              , a = s.call(t, i, r) - Ia
              , l = c.call(t, i, r) - Ia;
            return {
                r: o,
                a0: a,
                a1: l,
                p0: [o * Math.cos(a), o * Math.sin(a)],
                p1: [o * Math.cos(l), o * Math.sin(l)]
            }
        }
        function e(t, n) {
            return t.a0 == n.a0 && t.a1 == n.a1
        }
        function r(t, n, e) {
            return "A" + t + "," + t + " 0 " + +(e > Da) + ",1 " + n
        }
        function i(t, n, e, r) {
            return "Q 0,0 " + r
        }
        var o = be
          , a = ye
          , u = Lo
          , s = so
          , c = co;
        return t.radius = function(n) {
            return arguments.length ? (u = Mt(n),
            t) : u
        }
        ,
        t.source = function(n) {
            return arguments.length ? (o = Mt(n),
            t) : o
        }
        ,
        t.target = function(n) {
            return arguments.length ? (a = Mt(n),
            t) : a
        }
        ,
        t.startAngle = function(n) {
            return arguments.length ? (s = Mt(n),
            t) : s
        }
        ,
        t.endAngle = function(n) {
            return arguments.length ? (c = Mt(n),
            t) : c
        }
        ,
        t
    }
    ,
    ea.svg.diagonal = function() {
        function t(t, i) {
            var o = n.call(this, t, i)
              , a = e.call(this, t, i)
              , u = (o.y + a.y) / 2
              , s = [o, {
                x: o.x,
                y: u
            }, {
                x: a.x,
                y: u
            }, a];
            return s = s.map(r),
            "M" + s[0] + "C" + s[1] + " " + s[2] + " " + s[3]
        }
        var n = be
          , e = ye
          , r = zo;
        return t.source = function(e) {
            return arguments.length ? (n = Mt(e),
            t) : n
        }
        ,
        t.target = function(n) {
            return arguments.length ? (e = Mt(n),
            t) : e
        }
        ,
        t.projection = function(n) {
            return arguments.length ? (r = n,
            t) : r
        }
        ,
        t
    }
    ,
    ea.svg.diagonal.radial = function() {
        var t = ea.svg.diagonal()
          , n = zo
          , e = t.projection;
        return t.projection = function(t) {
            return arguments.length ? e(qo(n = t)) : n
        }
        ,
        t
    }
    ,
    ea.svg.symbol = function() {
        function t(t, r) {
            return (Ns.get(n.call(this, t, r)) || Fo)(e.call(this, t, r))
        }
        var n = Wo
          , e = Bo;
        return t.type = function(e) {
            return arguments.length ? (n = Mt(e),
            t) : n
        }
        ,
        t.size = function(n) {
            return arguments.length ? (e = Mt(n),
            t) : e
        }
        ,
        t
    }
    ;
    var Ns = ea.map({
        circle: Fo,
        cross: function(t) {
            var n = Math.sqrt(t / 5) / 2;
            return "M" + -3 * n + "," + -n + "H" + -n + "V" + -3 * n + "H" + n + "V" + -n + "H" + 3 * n + "V" + n + "H" + n + "V" + 3 * n + "H" + -n + "V" + n + "H" + -3 * n + "Z"
        },
        diamond: function(t) {
            var n = Math.sqrt(t / (2 * js))
              , e = n * js;
            return "M0," + -n + "L" + e + ",0 0," + n + " " + -e + ",0Z"
        },
        square: function(t) {
            var n = Math.sqrt(t) / 2;
            return "M" + -n + "," + -n + "L" + n + "," + -n + " " + n + "," + n + " " + -n + "," + n + "Z"
        },
        "triangle-down": function(t) {
            var n = Math.sqrt(t / Ds)
              , e = n * Ds / 2;
            return "M0," + e + "L" + n + "," + -e + " " + -n + "," + -e + "Z"
        },
        "triangle-up": function(t) {
            var n = Math.sqrt(t / Ds)
              , e = n * Ds / 2;
            return "M0," + -e + "L" + n + "," + e + " " + -n + "," + e + "Z"
        }
    });
    ea.svg.symbolTypes = Ns.keys();
    var Ds = Math.sqrt(3)
      , js = Math.tan(30 * Ra);
    _a.transition = function(t) {
        for (var n, e, r = Os || ++zs, i = Xo(t), o = [], a = Is || {
            time: Date.now(),
            ease: Sr,
            delay: 0,
            duration: 250
        }, u = -1, s = this.length; ++u < s; ) {
            o.push(n = []);
            for (var c = this[u], l = -1, f = c.length; ++l < f; )
                (e = c[l]) && Go(e, l, i, r, a),
                n.push(e)
        }
        return Vo(o, i, r)
    }
    ,
    _a.interrupt = function(t) {
        return this.each(null  == t ? Rs : Ho(Xo(t)))
    }
    ;
    var Os, Is, Rs = Ho(Xo()), Ls = [], zs = 0;
    Ls.call = _a.call,
    Ls.empty = _a.empty,
    Ls.node = _a.node,
    Ls.size = _a.size,
    ea.transition = function(t, n) {
        return t && t.transition ? Os ? t.transition(n) : t : ea.selection().transition(t)
    }
    ,
    ea.transition.prototype = Ls,
    Ls.select = function(t) {
        var n, e, r, i = this.id, o = this.namespace, a = [];
        t = A(t);
        for (var u = -1, s = this.length; ++u < s; ) {
            a.push(n = []);
            for (var c = this[u], l = -1, f = c.length; ++l < f; )
                (r = c[l]) && (e = t.call(r, r.__data__, l, u)) ? ("__data__" in r && (e.__data__ = r.__data__),
                Go(e, l, o, i, r[o][i]),
                n.push(e)) : n.push(null )
        }
        return Vo(a, o, i)
    }
    ,
    Ls.selectAll = function(t) {
        var n, e, r, i, o, a = this.id, u = this.namespace, s = [];
        t = P(t);
        for (var c = -1, l = this.length; ++c < l; )
            for (var f = this[c], d = -1, p = f.length; ++d < p; )
                if (r = f[d]) {
                    o = r[u][a],
                    e = t.call(r, r.__data__, d, c),
                    s.push(n = []);
                    for (var h = -1, m = e.length; ++h < m; )
                        (i = e[h]) && Go(i, h, u, a, o),
                        n.push(i)
                }
        return Vo(s, u, a)
    }
    ,
    Ls.filter = function(t) {
        var n, e, r, i = [];
        "function" != typeof t && (t = W(t));
        for (var o = 0, a = this.length; a > o; o++) {
            i.push(n = []);
            for (var e = this[o], u = 0, s = e.length; s > u; u++)
                (r = e[u]) && t.call(r, r.__data__, u, o) && n.push(r)
        }
        return Vo(i, this.namespace, this.id)
    }
    ,
    Ls.tween = function(t, n) {
        var e = this.id
          , r = this.namespace;
        return arguments.length < 2 ? this.node()[r][e].tween.get(t) : H(this, null  == n ? function(n) {
            n[r][e].tween.remove(t)
        }
         : function(i) {
            i[r][e].tween.set(t, n)
        }
        )
    }
    ,
    Ls.attr = function(t, n) {
        function e() {
            this.removeAttribute(u)
        }
        function r() {
            this.removeAttributeNS(u.space, u.local)
        }
        function i(t) {
            return null  == t ? e : (t += "",
            function() {
                var n, e = this.getAttribute(u);
                return e !== t && (n = a(e, t),
                function(t) {
                    this.setAttribute(u, n(t))
                }
                )
            }
            )
        }
        function o(t) {
            return null  == t ? r : (t += "",
            function() {
                var n, e = this.getAttributeNS(u.space, u.local);
                return e !== t && (n = a(e, t),
                function(t) {
                    this.setAttributeNS(u.space, u.local, n(t))
                }
                )
            }
            )
        }
        if (arguments.length < 2) {
            for (n in t)
                this.attr(n, t[n]);
            return this
        }
        var a = "transform" == t ? Wr : br
          , u = ea.ns.qualify(t);
        return Uo(this, "attr." + t, n, u.local ? o : i)
    }
    ,
    Ls.attrTween = function(t, n) {
        function e(t, e) {
            var r = n.call(this, t, e, this.getAttribute(i));
            return r && function(t) {
                this.setAttribute(i, r(t))
            }
        }
        function r(t, e) {
            var r = n.call(this, t, e, this.getAttributeNS(i.space, i.local));
            return r && function(t) {
                this.setAttributeNS(i.space, i.local, r(t))
            }
        }
        var i = ea.ns.qualify(t);
        return this.tween("attr." + t, i.local ? r : e)
    }
    ,
    Ls.style = function(t, e, r) {
        function i() {
            this.style.removeProperty(t)
        }
        function o(e) {
            return null  == e ? i : (e += "",
            function() {
                var i, o = n(this).getComputedStyle(this, null ).getPropertyValue(t);
                return o !== e && (i = br(o, e),
                function(n) {
                    this.style.setProperty(t, i(n), r)
                }
                )
            }
            )
        }
        var a = arguments.length;
        if (3 > a) {
            if ("string" != typeof t) {
                2 > a && (e = "");
                for (r in t)
                    this.style(r, t[r], e);
                return this
            }
            r = ""
        }
        return Uo(this, "style." + t, e, o)
    }
    ,
    Ls.styleTween = function(t, e, r) {
        function i(i, o) {
            var a = e.call(this, i, o, n(this).getComputedStyle(this, null ).getPropertyValue(t));
            return a && function(n) {
                this.style.setProperty(t, a(n), r)
            }
        }
        return arguments.length < 3 && (r = ""),
        this.tween("style." + t, i)
    }
    ,
    Ls.text = function(t) {
        return Uo(this, "text", t, Yo)
    }
    ,
    Ls.remove = function() {
        var t = this.namespace;
        return this.each("end.transition", function() {
            var n;
            this[t].count < 2 && (n = this.parentNode) && n.removeChild(this)
        }
        )
    }
    ,
    Ls.ease = function(t) {
        var n = this.id
          , e = this.namespace;
        return arguments.length < 1 ? this.node()[e][n].ease : ("function" != typeof t && (t = ea.ease.apply(ea, arguments)),
        H(this, function(r) {
            r[e][n].ease = t
        }
        ))
    }
    ,
    Ls.delay = function(t) {
        var n = this.id
          , e = this.namespace;
        return arguments.length < 1 ? this.node()[e][n].delay : H(this, "function" == typeof t ? function(r, i, o) {
            r[e][n].delay = +t.call(r, r.__data__, i, o)
        }
         : (t = +t,
        function(r) {
            r[e][n].delay = t
        }
        ))
    }
    ,
    Ls.duration = function(t) {
        var n = this.id
          , e = this.namespace;
        return arguments.length < 1 ? this.node()[e][n].duration : H(this, "function" == typeof t ? function(r, i, o) {
            r[e][n].duration = Math.max(1, t.call(r, r.__data__, i, o))
        }
         : (t = Math.max(1, t),
        function(r) {
            r[e][n].duration = t
        }
        ))
    }
    ,
    Ls.each = function(t, n) {
        var e = this.id
          , r = this.namespace;
        if (arguments.length < 2) {
            var i = Is
              , o = Os;
            try {
                Os = e,
                H(this, function(n, i, o) {
                    Is = n[r][e],
                    t.call(n, n.__data__, i, o)
                }
                )
            } finally {
                Is = i,
                Os = o
            }
        } else
            H(this, function(i) {
                var o = i[r][e];
                (o.event || (o.event = ea.dispatch("start", "end", "interrupt"))).on(t, n)
            }
            );
        return this
    }
    ,
    Ls.transition = function() {
        for (var t, n, e, r, i = this.id, o = ++zs, a = this.namespace, u = [], s = 0, c = this.length; c > s; s++) {
            u.push(t = []);
            for (var n = this[s], l = 0, f = n.length; f > l; l++)
                (e = n[l]) && (r = e[a][i],
                Go(e, l, a, o, {
                    time: r.time,
                    ease: r.ease,
                    delay: r.delay + r.duration,
                    duration: r.duration
                })),
                t.push(e)
        }
        return Vo(u, a, o)
    }
    ,
    ea.svg.axis = function() {
        function t(t) {
            t.each(function() {
                var t, c = ea.select(this), l = this.__chart__ || e, f = this.__chart__ = e.copy(), d = null  == s ? f.ticks ? f.ticks.apply(f, u) : f.domain() : s, p = null  == n ? f.tickFormat ? f.tickFormat.apply(f, u) : b : n, h = c.selectAll(".tick").data(d, f), m = h.enter().insert("g", ".domain").attr("class", "tick").style("opacity", Ta), v = ea.transition(h.exit()).style("opacity", Ta).remove(), g = ea.transition(h.order()).style("opacity", 1), y = Math.max(i, 0) + a, w = zi(f), x = c.selectAll(".domain").data([0]), E = (x.enter().append("path").attr("class", "domain"),
                ea.transition(x));
                m.append("line"),
                m.append("text");
                var _, C, S, M, k = m.select("line"), A = g.select("line"), P = h.select("text").text(p), T = m.select("text"), N = g.select("text"), D = "top" === r || "left" === r ? -1 : 1;
                if ("bottom" === r || "top" === r ? (t = Qo,
                _ = "x",
                S = "y",
                C = "x2",
                M = "y2",
                P.attr("dy", 0 > D ? "0em" : ".71em").style("text-anchor", "middle"),
                E.attr("d", "M" + w[0] + "," + D * o + "V0H" + w[1] + "V" + D * o)) : (t = Jo,
                _ = "y",
                S = "x",
                C = "y2",
                M = "x2",
                P.attr("dy", ".32em").style("text-anchor", 0 > D ? "end" : "start"),
                E.attr("d", "M" + D * o + "," + w[0] + "H0V" + w[1] + "H" + D * o)),
                k.attr(M, D * i),
                T.attr(S, D * y),
                A.attr(C, 0).attr(M, D * i),
                N.attr(_, 0).attr(S, D * y),
                f.rangeBand) {
                    var j = f
                      , O = j.rangeBand() / 2;
                    l = f = function(t) {
                        return j(t) + O
                    }
                } else
                    l.rangeBand ? l = f : v.call(t, f, l);
                m.call(t, l, f),
                g.call(t, f, f)
            }
            )
        }
        var n, e = ea.scale.linear(), r = qs, i = 6, o = 6, a = 3, u = [10], s = null ;
        return t.scale = function(n) {
            return arguments.length ? (e = n,
            t) : e
        }
        ,
        t.orient = function(n) {
            return arguments.length ? (r = n in Bs ? n + "" : qs,
            t) : r
        }
        ,
        t.ticks = function() {
            return arguments.length ? (u = arguments,
            t) : u
        }
        ,
        t.tickValues = function(n) {
            return arguments.length ? (s = n,
            t) : s
        }
        ,
        t.tickFormat = function(e) {
            return arguments.length ? (n = e,
            t) : n
        }
        ,
        t.tickSize = function(n) {
            var e = arguments.length;
            return e ? (i = +n,
            o = +arguments[e - 1],
            t) : i
        }
        ,
        t.innerTickSize = function(n) {
            return arguments.length ? (i = +n,
            t) : i
        }
        ,
        t.outerTickSize = function(n) {
            return arguments.length ? (o = +n,
            t) : o
        }
        ,
        t.tickPadding = function(n) {
            return arguments.length ? (a = +n,
            t) : a
        }
        ,
        t.tickSubdivide = function() {
            return arguments.length && t
        }
        ,
        t
    }
    ;
    var qs = "bottom"
      , Bs = {
        top: 1,
        right: 1,
        bottom: 1,
        left: 1
    };
    ea.svg.brush = function() {
        function t(n) {
            n.each(function() {
                var n = ea.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", o).on("touchstart.brush", o)
                  , a = n.selectAll(".background").data([0]);
                a.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"),
                n.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                var u = n.selectAll(".resize").data(m, b);
                u.exit().remove(),
                u.enter().append("g").attr("class", function(t) {
                    return "resize " + t
                }
                ).style("cursor", function(t) {
                    return Ws[t]
                }
                ).append("rect").attr("x", function(t) {
                    return /[ew]$/.test(t) ? -3 : null 
                }
                ).attr("y", function(t) {
                    return /^[ns]/.test(t) ? -3 : null 
                }
                ).attr("width", 6).attr("height", 6).style("visibility", "hidden"),
                u.style("display", t.empty() ? "none" : null );
                var s, f = ea.transition(n), d = ea.transition(a);
                c && (s = zi(c),
                d.attr("x", s[0]).attr("width", s[1] - s[0]),
                r(f)),
                l && (s = zi(l),
                d.attr("y", s[0]).attr("height", s[1] - s[0]),
                i(f)),
                e(f)
            }
            )
        }
        function e(t) {
            t.selectAll(".resize").attr("transform", function(t) {
                return "translate(" + f[+/e$/.test(t)] + "," + d[+/^s/.test(t)] + ")"
            }
            )
        }
        function r(t) {
            t.select(".extent").attr("x", f[0]),
            t.selectAll(".extent,.n>rect,.s>rect").attr("width", f[1] - f[0])
        }
        function i(t) {
            t.select(".extent").attr("y", d[0]),
            t.selectAll(".extent,.e>rect,.w>rect").attr("height", d[1] - d[0])
        }
        function o() {
            function o() {
                32 == ea.event.keyCode && (P || (y = null ,
                N[0] -= f[1],
                N[1] -= d[1],
                P = 2),
                C())
            }
            function m() {
                32 == ea.event.keyCode && 2 == P && (N[0] += f[1],
                N[1] += d[1],
                P = 0,
                C())
            }
            function v() {
                var t = ea.mouse(x)
                  , n = !1;
                w && (t[0] += w[0],
                t[1] += w[1]),
                P || (ea.event.altKey ? (y || (y = [(f[0] + f[1]) / 2, (d[0] + d[1]) / 2]),
                N[0] = f[+(t[0] < y[0])],
                N[1] = d[+(t[1] < y[1])]) : y = null ),
                k && g(t, c, 0) && (r(S),
                n = !0),
                A && g(t, l, 1) && (i(S),
                n = !0),
                n && (e(S),
                _({
                    type: "brush",
                    mode: P ? "move" : "resize"
                }))
            }
            function g(t, n, e) {
                var r, i, o = zi(n), s = o[0], c = o[1], l = N[e], m = e ? d : f, v = m[1] - m[0];
                return P && (s -= l,
                c -= v + l),
                r = (e ? h : p) ? Math.max(s, Math.min(c, t[e])) : t[e],
                P ? i = (r += l) + v : (y && (l = Math.max(s, Math.min(c, 2 * y[e] - r))),
                r > l ? (i = r,
                r = l) : i = l),
                m[0] != r || m[1] != i ? (e ? u = null  : a = null ,
                m[0] = r,
                m[1] = i,
                !0) : void 0
            }
            function b() {
                v(),
                S.style("pointer-events", "all").selectAll(".resize").style("display", t.empty() ? "none" : null ),
                ea.select("body").style("cursor", null ),
                D.on("mousemove.brush", null ).on("mouseup.brush", null ).on("touchmove.brush", null ).on("touchend.brush", null ).on("keydown.brush", null ).on("keyup.brush", null ),
                T(),
                _({
                    type: "brushend"
                })
            }
            var y, w, x = this, E = ea.select(ea.event.target), _ = s.of(x, arguments), S = ea.select(x), M = E.datum(), k = !/^(n|s)$/.test(M) && c, A = !/^(e|w)$/.test(M) && l, P = E.classed("extent"), T = Q(x), N = ea.mouse(x), D = ea.select(n(x)).on("keydown.brush", o).on("keyup.brush", m);
            if (ea.event.changedTouches ? D.on("touchmove.brush", v).on("touchend.brush", b) : D.on("mousemove.brush", v).on("mouseup.brush", b),
            S.interrupt().selectAll("*").interrupt(),
            P)
                N[0] = f[0] - N[0],
                N[1] = d[0] - N[1];
            else if (M) {
                var j = +/w$/.test(M)
                  , O = +/^n/.test(M);
                w = [f[1 - j] - N[0], d[1 - O] - N[1]],
                N[0] = f[j],
                N[1] = d[O]
            } else
                ea.event.altKey && (y = N.slice());
            S.style("pointer-events", "none").selectAll(".resize").style("display", null ),
            ea.select("body").style("cursor", E.style("cursor")),
            _({
                type: "brushstart"
            }),
            v()
        }
        var a, u, s = M(t, "brushstart", "brush", "brushend"), c = null , l = null , f = [0, 0], d = [0, 0], p = !0, h = !0, m = Fs[0];
        return t.event = function(t) {
            t.each(function() {
                var t = s.of(this, arguments)
                  , n = {
                    x: f,
                    y: d,
                    i: a,
                    j: u
                }
                  , e = this.__chart__ || n;
                this.__chart__ = n,
                Os ? ea.select(this).transition().each("start.brush", function() {
                    a = e.i,
                    u = e.j,
                    f = e.x,
                    d = e.y,
                    t({
                        type: "brushstart"
                    })
                }
                ).tween("brush:brush", function() {
                    var e = yr(f, n.x)
                      , r = yr(d, n.y);
                    return a = u = null ,
                    function(i) {
                        f = n.x = e(i),
                        d = n.y = r(i),
                        t({
                            type: "brush",
                            mode: "resize"
                        })
                    }
                }
                ).each("end.brush", function() {
                    a = n.i,
                    u = n.j,
                    t({
                        type: "brush",
                        mode: "resize"
                    }),
                    t({
                        type: "brushend"
                    })
                }
                ) : (t({
                    type: "brushstart"
                }),
                t({
                    type: "brush",
                    mode: "resize"
                }),
                t({
                    type: "brushend"
                }))
            }
            )
        }
        ,
        t.x = function(n) {
            return arguments.length ? (c = n,
            m = Fs[!c << 1 | !l],
            t) : c
        }
        ,
        t.y = function(n) {
            return arguments.length ? (l = n,
            m = Fs[!c << 1 | !l],
            t) : l
        }
        ,
        t.clamp = function(n) {
            return arguments.length ? (c && l ? (p = !!n[0],
            h = !!n[1]) : c ? p = !!n : l && (h = !!n),
            t) : c && l ? [p, h] : c ? p : l ? h : null 
        }
        ,
        t.extent = function(n) {
            var e, r, i, o, s;
            return arguments.length ? (c && (e = n[0],
            r = n[1],
            l && (e = e[0],
            r = r[0]),
            a = [e, r],
            c.invert && (e = c(e),
            r = c(r)),
            e > r && (s = e,
            e = r,
            r = s),
            (e != f[0] || r != f[1]) && (f = [e, r])),
            l && (i = n[0],
            o = n[1],
            c && (i = i[1],
            o = o[1]),
            u = [i, o],
            l.invert && (i = l(i),
            o = l(o)),
            i > o && (s = i,
            i = o,
            o = s),
            (i != d[0] || o != d[1]) && (d = [i, o])),
            t) : (c && (a ? (e = a[0],
            r = a[1]) : (e = f[0],
            r = f[1],
            c.invert && (e = c.invert(e),
            r = c.invert(r)),
            e > r && (s = e,
            e = r,
            r = s))),
            l && (u ? (i = u[0],
            o = u[1]) : (i = d[0],
            o = d[1],
            l.invert && (i = l.invert(i),
            o = l.invert(o)),
            i > o && (s = i,
            i = o,
            o = s))),
            c && l ? [[e, i], [r, o]] : c ? [e, r] : l && [i, o])
        }
        ,
        t.clear = function() {
            return t.empty() || (f = [0, 0],
            d = [0, 0],
            a = u = null ),
            t
        }
        ,
        t.empty = function() {
            return !!c && f[0] == f[1] || !!l && d[0] == d[1]
        }
        ,
        ea.rebind(t, s, "on")
    }
    ;
    var Ws = {
        n: "ns-resize",
        e: "ew-resize",
        s: "ns-resize",
        w: "ew-resize",
        nw: "nwse-resize",
        ne: "nesw-resize",
        se: "nwse-resize",
        sw: "nesw-resize"
    }
      , Fs = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []]
      , Hs = su.format = hu.timeFormat
      , Vs = Hs.utc
      , Us = Vs("%Y-%m-%dT%H:%M:%S.%LZ");
    Hs.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Ko : Us,
    Ko.parse = function(t) {
        var n = new Date(t);
        return isNaN(n) ? null  : n
    }
    ,
    Ko.toString = Us.toString,
    su.second = qt(function(t) {
        return new cu(1e3 * Math.floor(t / 1e3))
    }
    , function(t, n) {
        t.setTime(t.getTime() + 1e3 * Math.floor(n))
    }
    , function(t) {
        return t.getSeconds()
    }
    ),
    su.seconds = su.second.range,
    su.seconds.utc = su.second.utc.range,
    su.minute = qt(function(t) {
        return new cu(6e4 * Math.floor(t / 6e4))
    }
    , function(t, n) {
        t.setTime(t.getTime() + 6e4 * Math.floor(n))
    }
    , function(t) {
        return t.getMinutes()
    }
    ),
    su.minutes = su.minute.range,
    su.minutes.utc = su.minute.utc.range,
    su.hour = qt(function(t) {
        var n = t.getTimezoneOffset() / 60;
        return new cu(36e5 * (Math.floor(t / 36e5 - n) + n))
    }
    , function(t, n) {
        t.setTime(t.getTime() + 36e5 * Math.floor(n))
    }
    , function(t) {
        return t.getHours()
    }
    ),
    su.hours = su.hour.range,
    su.hours.utc = su.hour.utc.range,
    su.month = qt(function(t) {
        return t = su.day(t),
        t.setDate(1),
        t
    }
    , function(t, n) {
        t.setMonth(t.getMonth() + n)
    }
    , function(t) {
        return t.getMonth()
    }
    ),
    su.months = su.month.range,
    su.months.utc = su.month.utc.range;
    var Ys = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6]
      , Xs = [[su.second, 1], [su.second, 5], [su.second, 15], [su.second, 30], [su.minute, 1], [su.minute, 5], [su.minute, 15], [su.minute, 30], [su.hour, 1], [su.hour, 3], [su.hour, 6], [su.hour, 12], [su.day, 1], [su.day, 2], [su.week, 1], [su.month, 1], [su.month, 3], [su.year, 1]]
      , Gs = Hs.multi([[".%L", function(t) {
        return t.getMilliseconds()
    }
    ], [":%S", function(t) {
        return t.getSeconds()
    }
    ], ["%I:%M", function(t) {
        return t.getMinutes()
    }
    ], ["%I %p", function(t) {
        return t.getHours()
    }
    ], ["%a %d", function(t) {
        return t.getDay() && 1 != t.getDate()
    }
    ], ["%b %d", function(t) {
        return 1 != t.getDate()
    }
    ], ["%B", function(t) {
        return t.getMonth()
    }
    ], ["%Y", Pn]])
      , Qs = {
        range: function(t, n, e) {
            return ea.range(Math.ceil(t / e) * e, +n, e).map($o)
        },
        floor: b,
        ceil: b
    };
    Xs.year = su.year,
    su.scale = function() {
        return Zo(ea.scale.linear(), Xs, Gs)
    }
    ;
    var Js = Xs.map(function(t) {
        return [t[0].utc, t[1]]
    }
    )
      , Ks = Vs.multi([[".%L", function(t) {
        return t.getUTCMilliseconds()
    }
    ], [":%S", function(t) {
        return t.getUTCSeconds()
    }
    ], ["%I:%M", function(t) {
        return t.getUTCMinutes()
    }
    ], ["%I %p", function(t) {
        return t.getUTCHours()
    }
    ], ["%a %d", function(t) {
        return t.getUTCDay() && 1 != t.getUTCDate()
    }
    ], ["%b %d", function(t) {
        return 1 != t.getUTCDate()
    }
    ], ["%B", function(t) {
        return t.getUTCMonth()
    }
    ], ["%Y", Pn]]);
    Js.year = su.year.utc,
    su.scale.utc = function() {
        return Zo(ea.scale.linear(), Js, Ks)
    }
    ,
    ea.text = kt(function(t) {
        return t.responseText
    }
    ),
    ea.json = function(t, n) {
        return At(t, "application/json", ta, n)
    }
    ,
    ea.html = function(t, n) {
        return At(t, "text/html", na, n)
    }
    ,
    ea.xml = kt(function(t) {
        return t.responseXML
    }
    ),
    "function" == typeof define && define.amd ? define("d3", ea) : "object" == typeof module && module.exports && (module.exports = ea),
    this.d3 = ea
}
(),
define("text", ["module"], function(t) {
    "use strict";
    var n, e, r, i, o, a = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], u = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im, s = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im, c = "undefined" != typeof location && location.href, l = c && location.protocol && location.protocol.replace(/\:/, ""), f = c && location.hostname, d = c && (location.port || void 0), p = {}, h = t.config && t.config() || {};
    return n = {
        version: "2.0.14",
        strip: function(t) {
            if (t) {
                t = t.replace(u, "");
                var n = t.match(s);
                n && (t = n[1])
            } else
                t = "";
            return t
        },
        jsEscape: function(t) {
            return t.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
        },
        createXhr: h.createXhr || function() {
            var t, n, e;
            if ("undefined" != typeof XMLHttpRequest)
                return new XMLHttpRequest;
            if ("undefined" != typeof ActiveXObject)
                for (n = 0; 3 > n; n += 1) {
                    e = a[n];
                    try {
                        t = new ActiveXObject(e)
                    } catch (r) {}
                    if (t) {
                        a = [e];
                        break
                    }
                }
            return t
        }
        ,
        parseName: function(t) {
            var n, e, r, i = !1, o = t.lastIndexOf("."), a = 0 === t.indexOf("./") || 0 === t.indexOf("../");
            return -1 !== o && (!a || o > 1) ? (n = t.substring(0, o),
            e = t.substring(o + 1)) : n = t,
            r = e || n,
            o = r.indexOf("!"),
            -1 !== o && (i = "strip" === r.substring(o + 1),
            r = r.substring(0, o),
            e ? e = r : n = r),
            {
                moduleName: n,
                ext: e,
                strip: i
            }
        },
        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
        useXhr: function(t, e, r, i) {
            var o, a, u, s = n.xdRegExp.exec(t);
            return s ? (o = s[2],
            a = s[3],
            a = a.split(":"),
            u = a[1],
            a = a[0],
            !(o && o !== e || a && a.toLowerCase() !== r.toLowerCase() || (u || a) && u !== i)) : !0
        },
        finishLoad: function(t, e, r, i) {
            r = e ? n.strip(r) : r,
            h.isBuild && (p[t] = r),
            i(r)
        },
        load: function(t, e, r, i) {
            if (i && i.isBuild && !i.inlineText)
                return void r();
            h.isBuild = i && i.isBuild;
            var o = n.parseName(t)
              , a = o.moduleName + (o.ext ? "." + o.ext : "")
              , u = e.toUrl(a)
              , s = h.useXhr || n.useXhr;
            return 0 === u.indexOf("empty:") ? void r() : void (!c || s(u, l, f, d) ? n.get(u, function(e) {
                n.finishLoad(t, o.strip, e, r)
            }
            , function(t) {
                r.error && r.error(t)
            }
            ) : e([a], function(t) {
                n.finishLoad(o.moduleName + "." + o.ext, o.strip, t, r)
            }
            ))
        },
        write: function(t, e, r, i) {
            if (p.hasOwnProperty(e)) {
                var o = n.jsEscape(p[e]);
                r.asModule(t + "!" + e, "define(function () { return '" + o + "';});\n")
            }
        },
        writeFile: function(t, e, r, i, o) {
            var a = n.parseName(e)
              , u = a.ext ? "." + a.ext : ""
              , s = a.moduleName + u
              , c = r.toUrl(a.moduleName + u) + ".js";
            n.load(s, r, function(e) {
                var r = function(t) {
                    return i(c, t)
                }
                ;
                r.asModule = function(t, n) {
                    return i.asModule(t, c, n)
                }
                ,
                n.write(t, s, r, o)
            }
            , o)
        }
    },
    "node" === h.env || !h.env && "undefined" != typeof process && process.versions && process.versions.node && !process.versions["node-webkit"] && !process.versions["atom-shell"] ? (e = require.nodeRequire("fs"),
    n.get = function(t, n, r) {
        try {
            var i = e.readFileSync(t, "utf8");
            "\ufeff" === i[0] && (i = i.substring(1)),
            n(i)
        } catch (o) {
            r && r(o)
        }
    }
    ) : "xhr" === h.env || !h.env && n.createXhr() ? n.get = function(t, e, r, i) {
        var o, a = n.createXhr();
        if (a.open("GET", t, !0),
        i)
            for (o in i)
                i.hasOwnProperty(o) && a.setRequestHeader(o.toLowerCase(), i[o]);
        h.onXhr && h.onXhr(a, t),
        a.onreadystatechange = function(n) {
            var i, o;
            4 === a.readyState && (i = a.status || 0,
            i > 399 && 600 > i ? (o = new Error(t + " HTTP status: " + i),
            o.xhr = a,
            r && r(o)) : e(a.responseText),
            h.onXhrComplete && h.onXhrComplete(a, t))
        }
        ,
        a.send(null )
    }
     : "rhino" === h.env || !h.env && "undefined" != typeof Packages && "undefined" != typeof java ? n.get = function(t, n) {
        var e, r, i = "utf-8", o = new java.io.File(t), a = java.lang.System.getProperty("line.separator"), u = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)), s = "";
        try {
            for (e = new java.lang.StringBuffer,
            r = u.readLine(),
            r && r.length() && 65279 === r.charAt(0) && (r = r.substring(1)),
            null  !== r && e.append(r); null  !== (r = u.readLine()); )
                e.append(a),
                e.append(r);
            s = String(e.toString())
        } finally {
            u.close()
        }
        n(s)
    }
     : ("xpconnect" === h.env || !h.env && "undefined" != typeof Components && Components.classes && Components.interfaces) && (r = Components.classes,
    i = Components.interfaces,
    Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),
    o = "@mozilla.org/windows-registry-key;1" in r,
    n.get = function(t, n) {
        var e, a, u, s = {};
        o && (t = t.replace(/\//g, "\\")),
        u = new FileUtils.File(t);
        try {
            e = r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),
            e.init(u, 1, 0, !1),
            a = r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),
            a.init(e, "utf-8", e.available(), i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
            a.readString(e.available(), s),
            a.close(),
            e.close(),
            n(s.value)
        } catch (c) {
            throw new Error((u && u.path || "") + ": " + c)
        }
    }
    ),
    n
}
),
define("text!treemap/view.html", [], function() {
    return "<ul class=\"root\">\n    <!-- ko template: {name: 'treemap_recurse', data: data} -->\n    <!-- /ko -->\n</ul>\n"
}
),
define("text!treemap/template.html", [], function() {
    return '<script id="treemap_recurse">\n    <li class="node" data-class="treemap_node">\n        <!-- ko if: $component.nodeTemplate -->\n            <!-- ko template: $component.nodeTemplate -->\n            <!-- /ko -->\n        <!-- /ko -->\n        <!-- ko if: $data.children -->\n            <ul>\n                <!-- ko template: {name: \'treemap_recurse\', foreach: children} -->\n                <!-- /ko -->\n            </ul>\n        <!-- /ko -->\n    </li>\n</script>\n'
}
),
define("treemap/bindings.js", ["underscore"], function(t) {
    "use strict";
    function n(t) {
        return 100 * t + "%"
    }
    return {
        treemap_node: function(e) {
            var r = e.$parent.hasOwnProperty("x") && e.$parent.hasOwnProperty("y") && e.$parent.hasOwnProperty("dx") && e.$parent.hasOwnProperty("dy") ? e.$parent : {
                x: 0,
                y: 0,
                dx: 1,
                dy: 1
            };
            return t.extend({
                style: {
                    position: "absolute",
                    left: n((this.x - r.x) / r.dx),
                    top: n((this.y - r.y) / r.dy),
                    width: n(this.dx / r.dx),
                    height: n(this.dy / r.dy)
                }
            }, t.isFunction(e.$component.nodeBindings) ? e.$component.nodeBindings.apply(this) : {})
        }
    }
}
),
define("treemap/treemap.js", ["scalejs!core", "knockout", "d3", "underscore", "text!./view.html", "text!./template.html", "./bindings.js", "scalejs.mvvm"], function(t, n, e, r, i, o, a) {
    "use strict";
    function u(t, n) {
        if (null  === t || "object" != typeof t)
            return t;
        if (t.constructor !== Object && t.constructor !== Array)
            return t;
        if (t.constructor == Date || t.constructor == RegExp || t.constructor == Function || t.constructor == String || t.constructor == Number || t.constructor == Boolean)
            return new t.constructor(t);
        n = n || new t.constructor;
        for (var e in t)
            t.hasOwnProperty(e) && (n[e] = "undefined" == typeof n[e] ? u(t[e], null ) : n[e]);
        return n
    }
    var s = t.mvvm.registerTemplates;
    return t.mvvm.registerBindings(a),
    s(o),
    {
        viewModel: function(t) {
            this.data = n.observable(),
            this.nodeTemplate = t.nodeTemplate,
            n.computed(function() {
                var i = {};
                u(t.data, i),
                e.layout.treemap().round(!1).sticky(!0).value(function(e) {
                    return t.value ? r.isFunction(t.value) ? n.unwrap(t.value(e)) : n.unwrap(e[t.value]) : n.unwrap(e.size)
                }
                ).nodes(i),
                this.data(i)
            }
            .bind(this))
        },
        template: i
    }
}
),
define("scalejs.visualization", ["knockout", "./treemap/treemap.js"], function(t, n) {
    "use strict";
    t.components.register("treemap", n)
}
),
define("toolkit", ["scalejs!core"], function(t) {
    "use strict";
    try {
        window.global = window
    } catch (n) {
        console.log("window.global = window")
    }
    try {
        global.window = global
    } catch (n) {
        console.log("global.window = global")
    }
    t.registerExtension({
        global: global
    }),
    global.toolkit = {
        filter: {
            object: function(t, n) {
                var e, r, i;
                for (e in n)
                    if (n.hasOwnProperty(e))
                        for (r in n[e])
                            n[e].hasOwnProperty(r) && (i = n[e][r],
                            t[i] = global.toolkit.filter[e](t[i]));
                return t
            },
            bn: function(t) {
                return t = (Number(t) / 1e9).toFixed(2),
                0 > t && (t = "(" + (-t).toFixed(2) + ")"),
                t + " Bn"
            },
            dateToString: function(t) {
                return isFinite(t) ? t.toISOString().substring(0, 10) : "NULL"
            },
            parseNum: function(t) {
                var n = /^\([\d,\.]*\)/
                  , e = {
                    Bn: 1e9,
                    Mn: 1e6,
                    Th: 1e3
                };
                t.match(n) && (t = "-" + t.replace(/[\(\)]/g, ""));
                for (var r in e)
                    if (-1 !== t.search(r))
                        return t = t.replace(r, "").trim(),
                        parseFloat(t) * e[r];
                return t
            },
            percent: function(t) {
                return (100 * t).toFixed(1) + "%"
            },
            truncate: function(t) {
                var n = 12
                  , e = "";
                return t.length >= n ? t.substring(0, n) + e : t
            }
        }
    }
}
),
function(t, n, e, r) {
    "use strict";
    function i(t, n, e) {
        return setTimeout(l(t, e), n)
    }
    function o(t, n, e) {
        return Array.isArray(t) ? (a(t, e[n], e),
        !0) : !1
    }
    function a(t, n, e) {
        var i;
        if (t)
            if (t.forEach)
                t.forEach(n, e);
            else if (t.length !== r)
                for (i = 0; i < t.length; )
                    n.call(e, t[i], i, t),
                    i++;
            else
                for (i in t)
                    t.hasOwnProperty(i) && n.call(e, t[i], i, t)
    }
    function u(t, n, e) {
        for (var i = Object.keys(n), o = 0; o < i.length; )
            (!e || e && t[i[o]] === r) && (t[i[o]] = n[i[o]]),
            o++;
        return t
    }
    function s(t, n) {
        return u(t, n, !0)
    }
    function c(t, n, e) {
        var r, i = n.prototype;
        r = t.prototype = Object.create(i),
        r.constructor = t,
        r._super = i,
        e && u(r, e)
    }
    function l(t, n) {
        return function() {
            return t.apply(n, arguments)
        }
    }
    function f(t, n) {
        return typeof t == lt ? t.apply(n ? n[0] || r : r, n) : t
    }
    function d(t, n) {
        return t === r ? n : t
    }
    function p(t, n, e) {
        a(g(n), function(n) {
            t.addEventListener(n, e, !1)
        }
        )
    }
    function h(t, n, e) {
        a(g(n), function(n) {
            t.removeEventListener(n, e, !1)
        }
        )
    }
    function m(t, n) {
        for (; t; ) {
            if (t == n)
                return !0;
            t = t.parentNode
        }
        return !1
    }
    function v(t, n) {
        return t.indexOf(n) > -1
    }
    function g(t) {
        return t.trim().split(/\s+/g)
    }
    function b(t, n, e) {
        if (t.indexOf && !e)
            return t.indexOf(n);
        for (var r = 0; r < t.length; ) {
            if (e && t[r][e] == n || !e && t[r] === n)
                return r;
            r++
        }
        return -1
    }
    function y(t) {
        return Array.prototype.slice.call(t, 0)
    }
    function w(t, n, e) {
        for (var r = [], i = [], o = 0; o < t.length; ) {
            var a = n ? t[o][n] : t[o];
            b(i, a) < 0 && r.push(t[o]),
            i[o] = a,
            o++
        }
        return e && (r = n ? r.sort(function(t, e) {
            return t[n] > e[n]
        }
        ) : r.sort()),
        r
    }
    function x(t, n) {
        for (var e, i, o = n[0].toUpperCase() + n.slice(1), a = 0; a < st.length; ) {
            if (e = st[a],
            i = e ? e + o : n,
            i in t)
                return i;
            a++
        }
        return r
    }
    function E() {
        return ht++
    }
    function _(t) {
        var n = t.ownerDocument;
        return n.defaultView || n.parentWindow
    }
    function C(t, n) {
        var e = this;
        this.manager = t,
        this.callback = n,
        this.element = t.element,
        this.target = t.options.inputTarget,
        this.domHandler = function(n) {
            f(t.options.enable, [t]) && e.handler(n)
        }
        ,
        this.init()
    }
    function S(t) {
        var n, e = t.options.inputClass;
        return new (n = e ? e : gt ? q : bt ? F : vt ? V : z)(t,M)
    }
    function M(t, n, e) {
        var r = e.pointers.length
          , i = e.changedPointers.length
          , o = n & Ct && r - i === 0
          , a = n & (Mt | kt) && r - i === 0;
        e.isFirst = !!o,
        e.isFinal = !!a,
        o && (t.session = {}),
        e.eventType = n,
        k(t, e),
        t.emit("hammer.input", e),
        t.recognize(e),
        t.session.prevInput = e
    }
    function k(t, n) {
        var e = t.session
          , r = n.pointers
          , i = r.length;
        e.firstInput || (e.firstInput = T(n)),
        i > 1 && !e.firstMultiple ? e.firstMultiple = T(n) : 1 === i && (e.firstMultiple = !1);
        var o = e.firstInput
          , a = e.firstMultiple
          , u = a ? a.center : o.center
          , s = n.center = N(r);
        n.timeStamp = pt(),
        n.deltaTime = n.timeStamp - o.timeStamp,
        n.angle = I(u, s),
        n.distance = O(u, s),
        A(e, n),
        n.offsetDirection = j(n.deltaX, n.deltaY),
        n.scale = a ? L(a.pointers, r) : 1,
        n.rotation = a ? R(a.pointers, r) : 0,
        P(e, n);
        var c = t.element;
        m(n.srcEvent.target, c) && (c = n.srcEvent.target),
        n.target = c
    }
    function A(t, n) {
        var e = n.center
          , r = t.offsetDelta || {}
          , i = t.prevDelta || {}
          , o = t.prevInput || {};
        (n.eventType === Ct || o.eventType === Mt) && (i = t.prevDelta = {
            x: o.deltaX || 0,
            y: o.deltaY || 0
        },
        r = t.offsetDelta = {
            x: e.x,
            y: e.y
        }),
        n.deltaX = i.x + (e.x - r.x),
        n.deltaY = i.y + (e.y - r.y)
    }
    function P(t, n) {
        var e, i, o, a, u = t.lastInterval || n, s = n.timeStamp - u.timeStamp;
        if (n.eventType != kt && (s > _t || u.velocity === r)) {
            var c = u.deltaX - n.deltaX
              , l = u.deltaY - n.deltaY
              , f = D(s, c, l);
            i = f.x,
            o = f.y,
            e = dt(f.x) > dt(f.y) ? f.x : f.y,
            a = j(c, l),
            t.lastInterval = n
        } else
            e = u.velocity,
            i = u.velocityX,
            o = u.velocityY,
            a = u.direction;
        n.velocity = e,
        n.velocityX = i,
        n.velocityY = o,
        n.direction = a
    }
    function T(t) {
        for (var n = [], e = 0; e < t.pointers.length; )
            n[e] = {
                clientX: ft(t.pointers[e].clientX),
                clientY: ft(t.pointers[e].clientY)
            },
            e++;
        return {
            timeStamp: pt(),
            pointers: n,
            center: N(n),
            deltaX: t.deltaX,
            deltaY: t.deltaY
        }
    }
    function N(t) {
        var n = t.length;
        if (1 === n)
            return {
                x: ft(t[0].clientX),
                y: ft(t[0].clientY)
            };
        for (var e = 0, r = 0, i = 0; n > i; )
            e += t[i].clientX,
            r += t[i].clientY,
            i++;
        return {
            x: ft(e / n),
            y: ft(r / n)
        }
    }
    function D(t, n, e) {
        return {
            x: n / t || 0,
            y: e / t || 0
        }
    }
    function j(t, n) {
        return t === n ? At : dt(t) >= dt(n) ? t > 0 ? Pt : Tt : n > 0 ? Nt : Dt
    }
    function O(t, n, e) {
        e || (e = Rt);
        var r = n[e[0]] - t[e[0]]
          , i = n[e[1]] - t[e[1]];
        return Math.sqrt(r * r + i * i)
    }
    function I(t, n, e) {
        e || (e = Rt);
        var r = n[e[0]] - t[e[0]]
          , i = n[e[1]] - t[e[1]];
        return 180 * Math.atan2(i, r) / Math.PI
    }
    function R(t, n) {
        return I(n[1], n[0], Lt) - I(t[1], t[0], Lt)
    }
    function L(t, n) {
        return O(n[0], n[1], Lt) / O(t[0], t[1], Lt)
    }
    function z() {
        this.evEl = qt,
        this.evWin = Bt,
        this.allow = !0,
        this.pressed = !1,
        C.apply(this, arguments)
    }
    function q() {
        this.evEl = Ht,
        this.evWin = Vt,
        C.apply(this, arguments),
        this.store = this.manager.session.pointerEvents = []
    }
    function B() {
        this.evTarget = Yt,
        this.evWin = Xt,
        this.started = !1,
        C.apply(this, arguments)
    }
    function W(t, n) {
        var e = y(t.touches)
          , r = y(t.changedTouches);
        return n & (Mt | kt) && (e = w(e.concat(r), "identifier", !0)),
        [e, r]
    }
    function F() {
        this.evTarget = Qt,
        this.targetIds = {},
        C.apply(this, arguments)
    }
    function H(t, n) {
        var e = y(t.touches)
          , r = this.targetIds;
        if (n & (Ct | St) && 1 === e.length)
            return r[e[0].identifier] = !0,
            [e, e];
        var i, o, a = y(t.changedTouches), u = [], s = this.target;
        if (o = e.filter(function(t) {
            return m(t.target, s)
        }
        ),
        n === Ct)
            for (i = 0; i < o.length; )
                r[o[i].identifier] = !0,
                i++;
        for (i = 0; i < a.length; )
            r[a[i].identifier] && u.push(a[i]),
            n & (Mt | kt) && delete r[a[i].identifier],
            i++;
        return u.length ? [w(o.concat(u), "identifier", !0), u] : void 0
    }
    function V() {
        C.apply(this, arguments);
        var t = l(this.handler, this);
        this.touch = new F(this.manager,t),
        this.mouse = new z(this.manager,t)
    }
    function U(t, n) {
        this.manager = t,
        this.set(n)
    }
    function Y(t) {
        if (v(t, nn))
            return nn;
        var n = v(t, en)
          , e = v(t, rn);
        return n && e ? en + " " + rn : n || e ? n ? en : rn : v(t, tn) ? tn : $t
    }
    function X(t) {
        this.id = E(),
        this.manager = null ,
        this.options = s(t || {}, this.defaults),
        this.options.enable = d(this.options.enable, !0),
        this.state = on,
        this.simultaneous = {},
        this.requireFail = []
    }
    function G(t) {
        return t & ln ? "cancel" : t & sn ? "end" : t & un ? "move" : t & an ? "start" : ""
    }
    function Q(t) {
        return t == Dt ? "down" : t == Nt ? "up" : t == Pt ? "left" : t == Tt ? "right" : ""
    }
    function J(t, n) {
        var e = n.manager;
        return e ? e.get(t) : t
    }
    function K() {
        X.apply(this, arguments)
    }
    function Z() {
        K.apply(this, arguments),
        this.pX = null ,
        this.pY = null 
    }
    function $() {
        K.apply(this, arguments)
    }
    function tt() {
        X.apply(this, arguments),
        this._timer = null ,
        this._input = null 
    }
    function nt() {
        K.apply(this, arguments)
    }
    function et() {
        K.apply(this, arguments)
    }
    function rt() {
        X.apply(this, arguments),
        this.pTime = !1,
        this.pCenter = !1,
        this._timer = null ,
        this._input = null ,
        this.count = 0
    }
    function it(t, n) {
        return n = n || {},
        n.recognizers = d(n.recognizers, it.defaults.preset),
        new ot(t,n)
    }
    function ot(t, n) {
        n = n || {},
        this.options = s(n, it.defaults),
        this.options.inputTarget = this.options.inputTarget || t,
        this.handlers = {},
        this.session = {},
        this.recognizers = [],
        this.element = t,
        this.input = S(this),
        this.touchAction = new U(this,this.options.touchAction),
        at(this, !0),
        a(n.recognizers, function(t) {
            var n = this.add(new t[0](t[1]));
            t[2] && n.recognizeWith(t[2]),
            t[3] && n.requireFailure(t[3])
        }
        , this)
    }
    function at(t, n) {
        var e = t.element;
        a(t.options.cssProps, function(t, r) {
            e.style[x(e.style, r)] = n ? t : ""
        }
        )
    }
    function ut(t, e) {
        var r = n.createEvent("Event");
        r.initEvent(t, !0, !0),
        r.gesture = e,
        e.target.dispatchEvent(r)
    }
    var st = ["", "webkit", "moz", "MS", "ms", "o"]
      , ct = n.createElement("div")
      , lt = "function"
      , ft = Math.round
      , dt = Math.abs
      , pt = Date.now
      , ht = 1
      , mt = /mobile|tablet|ip(ad|hone|od)|android/i
      , vt = "ontouchstart" in t
      , gt = x(t, "PointerEvent") !== r
      , bt = vt && mt.test(navigator.userAgent)
      , yt = "touch"
      , wt = "pen"
      , xt = "mouse"
      , Et = "kinect"
      , _t = 25
      , Ct = 1
      , St = 2
      , Mt = 4
      , kt = 8
      , At = 1
      , Pt = 2
      , Tt = 4
      , Nt = 8
      , Dt = 16
      , jt = Pt | Tt
      , Ot = Nt | Dt
      , It = jt | Ot
      , Rt = ["x", "y"]
      , Lt = ["clientX", "clientY"];
    C.prototype = {
        handler: function() {},
        init: function() {
            this.evEl && p(this.element, this.evEl, this.domHandler),
            this.evTarget && p(this.target, this.evTarget, this.domHandler),
            this.evWin && p(_(this.element), this.evWin, this.domHandler)
        },
        destroy: function() {
            this.evEl && h(this.element, this.evEl, this.domHandler),
            this.evTarget && h(this.target, this.evTarget, this.domHandler),
            this.evWin && h(_(this.element), this.evWin, this.domHandler)
        }
    };
    var zt = {
        mousedown: Ct,
        mousemove: St,
        mouseup: Mt
    }
      , qt = "mousedown"
      , Bt = "mousemove mouseup";
    c(z, C, {
        handler: function(t) {
            var n = zt[t.type];
            n & Ct && 0 === t.button && (this.pressed = !0),
            n & St && 1 !== t.which && (n = Mt),
            this.pressed && this.allow && (n & Mt && (this.pressed = !1),
            this.callback(this.manager, n, {
                pointers: [t],
                changedPointers: [t],
                pointerType: xt,
                srcEvent: t
            }))
        }
    });
    var Wt = {
        pointerdown: Ct,
        pointermove: St,
        pointerup: Mt,
        pointercancel: kt,
        pointerout: kt
    }
      , Ft = {
        2: yt,
        3: wt,
        4: xt,
        5: Et
    }
      , Ht = "pointerdown"
      , Vt = "pointermove pointerup pointercancel";
    t.MSPointerEvent && (Ht = "MSPointerDown",
    Vt = "MSPointerMove MSPointerUp MSPointerCancel"),
    c(q, C, {
        handler: function(t) {
            var n = this.store
              , e = !1
              , r = t.type.toLowerCase().replace("ms", "")
              , i = Wt[r]
              , o = Ft[t.pointerType] || t.pointerType
              , a = o == yt
              , u = b(n, t.pointerId, "pointerId");
            i & Ct && (0 === t.button || a) ? 0 > u && (n.push(t),
            u = n.length - 1) : i & (Mt | kt) && (e = !0),
            0 > u || (n[u] = t,
            this.callback(this.manager, i, {
                pointers: n,
                changedPointers: [t],
                pointerType: o,
                srcEvent: t
            }),
            e && n.splice(u, 1))
        }
    });
    var Ut = {
        touchstart: Ct,
        touchmove: St,
        touchend: Mt,
        touchcancel: kt
    }
      , Yt = "touchstart"
      , Xt = "touchstart touchmove touchend touchcancel";
    c(B, C, {
        handler: function(t) {
            var n = Ut[t.type];
            if (n === Ct && (this.started = !0),
            this.started) {
                var e = W.call(this, t, n);
                n & (Mt | kt) && e[0].length - e[1].length === 0 && (this.started = !1),
                this.callback(this.manager, n, {
                    pointers: e[0],
                    changedPointers: e[1],
                    pointerType: yt,
                    srcEvent: t
                })
            }
        }
    });
    var Gt = {
        touchstart: Ct,
        touchmove: St,
        touchend: Mt,
        touchcancel: kt
    }
      , Qt = "touchstart touchmove touchend touchcancel";
    c(F, C, {
        handler: function(t) {
            var n = Gt[t.type]
              , e = H.call(this, t, n);
            e && this.callback(this.manager, n, {
                pointers: e[0],
                changedPointers: e[1],
                pointerType: yt,
                srcEvent: t
            })
        }
    }),
    c(V, C, {
        handler: function(t, n, e) {
            var r = e.pointerType == yt
              , i = e.pointerType == xt;
            if (r)
                this.mouse.allow = !1;
            else if (i && !this.mouse.allow)
                return;
            n & (Mt | kt) && (this.mouse.allow = !0),
            this.callback(t, n, e)
        },
        destroy: function() {
            this.touch.destroy(),
            this.mouse.destroy()
        }
    });
    var Jt = x(ct.style, "touchAction")
      , Kt = Jt !== r
      , Zt = "compute"
      , $t = "auto"
      , tn = "manipulation"
      , nn = "none"
      , en = "pan-x"
      , rn = "pan-y";
    U.prototype = {
        set: function(t) {
            t == Zt && (t = this.compute()),
            Kt && (this.manager.element.style[Jt] = t),
            this.actions = t.toLowerCase().trim()
        },
        update: function() {
            this.set(this.manager.options.touchAction)
        },
        compute: function() {
            var t = [];
            return a(this.manager.recognizers, function(n) {
                f(n.options.enable, [n]) && (t = t.concat(n.getTouchAction()))
            }
            ),
            Y(t.join(" "))
        },
        preventDefaults: function(t) {
            if (!Kt) {
                var n = t.srcEvent
                  , e = t.offsetDirection;
                if (this.manager.session.prevented)
                    return void n.preventDefault();
                var r = this.actions
                  , i = v(r, nn)
                  , o = v(r, rn)
                  , a = v(r, en);
                return i || o && e & jt || a && e & Ot ? this.preventSrc(n) : void 0
            }
        },
        preventSrc: function(t) {
            this.manager.session.prevented = !0,
            t.preventDefault()
        }
    };
    var on = 1
      , an = 2
      , un = 4
      , sn = 8
      , cn = sn
      , ln = 16
      , fn = 32;
    X.prototype = {
        defaults: {},
        set: function(t) {
            return u(this.options, t),
            this.manager && this.manager.touchAction.update(),
            this
        },
        recognizeWith: function(t) {
            if (o(t, "recognizeWith", this))
                return this;
            var n = this.simultaneous;
            return t = J(t, this),
            n[t.id] || (n[t.id] = t,
            t.recognizeWith(this)),
            this
        },
        dropRecognizeWith: function(t) {
            return o(t, "dropRecognizeWith", this) ? this : (t = J(t, this),
            delete this.simultaneous[t.id],
            this)
        },
        requireFailure: function(t) {
            if (o(t, "requireFailure", this))
                return this;
            var n = this.requireFail;
            return t = J(t, this),
            -1 === b(n, t) && (n.push(t),
            t.requireFailure(this)),
            this
        },
        dropRequireFailure: function(t) {
            if (o(t, "dropRequireFailure", this))
                return this;
            t = J(t, this);
            var n = b(this.requireFail, t);
            return n > -1 && this.requireFail.splice(n, 1),
            this
        },
        hasRequireFailures: function() {
            return this.requireFail.length > 0
        },
        canRecognizeWith: function(t) {
            return !!this.simultaneous[t.id]
        },
        emit: function(t) {
            function n(n) {
                e.manager.emit(e.options.event + (n ? G(r) : ""), t)
            }
            var e = this
              , r = this.state;
            sn > r && n(!0),
            n(),
            r >= sn && n(!0)
        },
        tryEmit: function(t) {
            return this.canEmit() ? this.emit(t) : void (this.state = fn)
        },
        canEmit: function() {
            for (var t = 0; t < this.requireFail.length; ) {
                if (!(this.requireFail[t].state & (fn | on)))
                    return !1;
                t++
            }
            return !0
        },
        recognize: function(t) {
            var n = u({}, t);
            return f(this.options.enable, [this, n]) ? (this.state & (cn | ln | fn) && (this.state = on),
            this.state = this.process(n),
            void (this.state & (an | un | sn | ln) && this.tryEmit(n))) : (this.reset(),
            void (this.state = fn))
        },
        process: function(t) {},
        getTouchAction: function() {},
        reset: function() {}
    },
    c(K, X, {
        defaults: {
            pointers: 1
        },
        attrTest: function(t) {
            var n = this.options.pointers;
            return 0 === n || t.pointers.length === n
        },
        process: function(t) {
            var n = this.state
              , e = t.eventType
              , r = n & (an | un)
              , i = this.attrTest(t);
            return r && (e & kt || !i) ? n | ln : r || i ? e & Mt ? n | sn : n & an ? n | un : an : fn
        }
    }),
    c(Z, K, {
        defaults: {
            event: "pan",
            threshold: 10,
            pointers: 1,
            direction: It
        },
        getTouchAction: function() {
            var t = this.options.direction
              , n = [];
            return t & jt && n.push(rn),
            t & Ot && n.push(en),
            n
        },
        directionTest: function(t) {
            var n = this.options
              , e = !0
              , r = t.distance
              , i = t.direction
              , o = t.deltaX
              , a = t.deltaY;
            return i & n.direction || (n.direction & jt ? (i = 0 === o ? At : 0 > o ? Pt : Tt,
            e = o != this.pX,
            r = Math.abs(t.deltaX)) : (i = 0 === a ? At : 0 > a ? Nt : Dt,
            e = a != this.pY,
            r = Math.abs(t.deltaY))),
            t.direction = i,
            e && r > n.threshold && i & n.direction
        },
        attrTest: function(t) {
            return K.prototype.attrTest.call(this, t) && (this.state & an || !(this.state & an) && this.directionTest(t))
        },
        emit: function(t) {
            this.pX = t.deltaX,
            this.pY = t.deltaY;
            var n = Q(t.direction);
            n && this.manager.emit(this.options.event + n, t),
            this._super.emit.call(this, t)
        }
    }),
    c($, K, {
        defaults: {
            event: "pinch",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function() {
            return [nn]
        },
        attrTest: function(t) {
            return this._super.attrTest.call(this, t) && (Math.abs(t.scale - 1) > this.options.threshold || this.state & an)
        },
        emit: function(t) {
            if (this._super.emit.call(this, t),
            1 !== t.scale) {
                var n = t.scale < 1 ? "in" : "out";
                this.manager.emit(this.options.event + n, t)
            }
        }
    }),
    c(tt, X, {
        defaults: {
            event: "press",
            pointers: 1,
            time: 500,
            threshold: 5
        },
        getTouchAction: function() {
            return [$t]
        },
        process: function(t) {
            var n = this.options
              , e = t.pointers.length === n.pointers
              , r = t.distance < n.threshold
              , o = t.deltaTime > n.time;
            if (this._input = t,
            !r || !e || t.eventType & (Mt | kt) && !o)
                this.reset();
            else if (t.eventType & Ct)
                this.reset(),
                this._timer = i(function() {
                    this.state = cn,
                    this.tryEmit()
                }
                , n.time, this);
            else if (t.eventType & Mt)
                return cn;
            return fn
        },
        reset: function() {
            clearTimeout(this._timer)
        },
        emit: function(t) {
            this.state === cn && (t && t.eventType & Mt ? this.manager.emit(this.options.event + "up", t) : (this._input.timeStamp = pt(),
            this.manager.emit(this.options.event, this._input)))
        }
    }),
    c(nt, K, {
        defaults: {
            event: "rotate",
            threshold: 0,
            pointers: 2
        },
        getTouchAction: function() {
            return [nn]
        },
        attrTest: function(t) {
            return this._super.attrTest.call(this, t) && (Math.abs(t.rotation) > this.options.threshold || this.state & an)
        }
    }),
    c(et, K, {
        defaults: {
            event: "swipe",
            threshold: 10,
            velocity: .65,
            direction: jt | Ot,
            pointers: 1
        },
        getTouchAction: function() {
            return Z.prototype.getTouchAction.call(this)
        },
        attrTest: function(t) {
            var n, e = this.options.direction;
            return e & (jt | Ot) ? n = t.velocity : e & jt ? n = t.velocityX : e & Ot && (n = t.velocityY),
            this._super.attrTest.call(this, t) && e & t.direction && t.distance > this.options.threshold && dt(n) > this.options.velocity && t.eventType & Mt
        },
        emit: function(t) {
            var n = Q(t.direction);
            n && this.manager.emit(this.options.event + n, t),
            this.manager.emit(this.options.event, t)
        }
    }),
    c(rt, X, {
        defaults: {
            event: "tap",
            pointers: 1,
            taps: 1,
            interval: 300,
            time: 250,
            threshold: 2,
            posThreshold: 10
        },
        getTouchAction: function() {
            return [tn]
        },
        process: function(t) {
            var n = this.options
              , e = t.pointers.length === n.pointers
              , r = t.distance < n.threshold
              , o = t.deltaTime < n.time;
            if (this.reset(),
            t.eventType & Ct && 0 === this.count)
                return this.failTimeout();
            if (r && o && e) {
                if (t.eventType != Mt)
                    return this.failTimeout();
                var a = this.pTime ? t.timeStamp - this.pTime < n.interval : !0
                  , u = !this.pCenter || O(this.pCenter, t.center) < n.posThreshold;
                this.pTime = t.timeStamp,
                this.pCenter = t.center,
                u && a ? this.count += 1 : this.count = 1,
                this._input = t;
                var s = this.count % n.taps;
                if (0 === s)
                    return this.hasRequireFailures() ? (this._timer = i(function() {
                        this.state = cn,
                        this.tryEmit()
                    }
                    , n.interval, this),
                    an) : cn
            }
            return fn
        },
        failTimeout: function() {
            return this._timer = i(function() {
                this.state = fn
            }
            , this.options.interval, this),
            fn
        },
        reset: function() {
            clearTimeout(this._timer)
        },
        emit: function() {
            this.state == cn && (this._input.tapCount = this.count,
            this.manager.emit(this.options.event, this._input))
        }
    }),
    it.VERSION = "2.0.4",
    it.defaults = {
        domEvents: !1,
        touchAction: Zt,
        enable: !0,
        inputTarget: null ,
        inputClass: null ,
        preset: [[nt, {
            enable: !1
        }], [$, {
            enable: !1
        }, ["rotate"]], [et, {
            direction: jt
        }], [Z, {
            direction: jt
        }, ["swipe"]], [rt], [rt, {
            event: "doubletap",
            taps: 2
        }, ["tap"]], [tt]],
        cssProps: {
            userSelect: "none",
            touchSelect: "none",
            touchCallout: "none",
            contentZooming: "none",
            userDrag: "none",
            tapHighlightColor: "rgba(0,0,0,0)"
        }
    };
    var dn = 1
      , pn = 2;
    ot.prototype = {
        set: function(t) {
            return u(this.options, t),
            t.touchAction && this.touchAction.update(),
            t.inputTarget && (this.input.destroy(),
            this.input.target = t.inputTarget,
            this.input.init()),
            this
        },
        stop: function(t) {
            this.session.stopped = t ? pn : dn
        },
        recognize: function(t) {
            var n = this.session;
            if (!n.stopped) {
                this.touchAction.preventDefaults(t);
                var e, r = this.recognizers, i = n.curRecognizer;
                (!i || i && i.state & cn) && (i = n.curRecognizer = null );
                for (var o = 0; o < r.length; )
                    e = r[o],
                    n.stopped === pn || i && e != i && !e.canRecognizeWith(i) ? e.reset() : e.recognize(t),
                    !i && e.state & (an | un | sn) && (i = n.curRecognizer = e),
                    o++
            }
        },
        get: function(t) {
            if (t instanceof X)
                return t;
            for (var n = this.recognizers, e = 0; e < n.length; e++)
                if (n[e].options.event == t)
                    return n[e];
            return null 
        },
        add: function(t) {
            if (o(t, "add", this))
                return this;
            var n = this.get(t.options.event);
            return n && this.remove(n),
            this.recognizers.push(t),
            t.manager = this,
            this.touchAction.update(),
            t
        },
        remove: function(t) {
            if (o(t, "remove", this))
                return this;
            var n = this.recognizers;
            return t = this.get(t),
            n.splice(b(n, t), 1),
            this.touchAction.update(),
            this
        },
        on: function(t, n) {
            var e = this.handlers;
            return a(g(t), function(t) {
                e[t] = e[t] || [],
                e[t].push(n)
            }
            ),
            this
        },
        off: function(t, n) {
            var e = this.handlers;
            return a(g(t), function(t) {
                n ? e[t].splice(b(e[t], n), 1) : delete e[t]
            }
            ),
            this
        },
        emit: function(t, n) {
            this.options.domEvents && ut(t, n);
            var e = this.handlers[t] && this.handlers[t].slice();
            if (e && e.length) {
                n.type = t,
                n.preventDefault = function() {
                    n.srcEvent.preventDefault()
                }
                ;
                for (var r = 0; r < e.length; )
                    e[r](n),
                    r++
            }
        },
        destroy: function() {
            this.element && at(this, !1),
            this.handlers = {},
            this.session = {},
            this.input.destroy(),
            this.element = null 
        }
    },
    u(it, {
        INPUT_START: Ct,
        INPUT_MOVE: St,
        INPUT_END: Mt,
        INPUT_CANCEL: kt,
        STATE_POSSIBLE: on,
        STATE_BEGAN: an,
        STATE_CHANGED: un,
        STATE_ENDED: sn,
        STATE_RECOGNIZED: cn,
        STATE_CANCELLED: ln,
        STATE_FAILED: fn,
        DIRECTION_NONE: At,
        DIRECTION_LEFT: Pt,
        DIRECTION_RIGHT: Tt,
        DIRECTION_UP: Nt,
        DIRECTION_DOWN: Dt,
        DIRECTION_HORIZONTAL: jt,
        DIRECTION_VERTICAL: Ot,
        DIRECTION_ALL: It,
        Manager: ot,
        Input: C,
        TouchAction: U,
        TouchInput: F,
        MouseInput: z,
        PointerEventInput: q,
        TouchMouseInput: V,
        SingleTouchInput: B,
        Recognizer: X,
        AttrRecognizer: K,
        Tap: rt,
        Pan: Z,
        Swipe: et,
        Pinch: $,
        Rotate: nt,
        Press: tt,
        on: p,
        off: h,
        each: a,
        merge: s,
        extend: u,
        inherit: c,
        bindFn: l,
        prefixed: x
    }),
    typeof define == lt && define.amd ? define("hammer", [], function() {
        return it
    }
    ) : "undefined" != typeof module && module.exports ? module.exports = it : t[e] = it
}
(window, document, "Hammer"),
define("knockout.hammer", ["scalejs!core", "knockout", "hammer"], function(t, n, e) {
    "use strict";
    ["Tap", "Pan", "Swipe", "Pinch", "Rotate", "Press"].forEach(function(t) {
        var r;
        r = t.toLowerCase(),
        n.bindingHandlers["hm" + r] = {
            init: function(n, i, o, a) {
                var u;
                (u = i()) && (u.handler || (u = {
                    handler: u
                }),
                u.event = r,
                n._hammer || (n._hammer = new e.Manager(n,o().hmoptions || {})),
                n._hammer.add(new e[t](u)),
                n._hammer.on(u.event, function() {
                    console.debug("hammer: " + r + ":" + n),
                    u.handler.apply(a, arguments)
                }
                ))
            }
        }
    }
    )
}
),
define("openfin.windowFactory", ["scalejs!core", "knockout"], function(t, n) {
    "use strict";
    function e(t, n) {
        if (null  != c[t])
            for (var e = c[t], r = 0; r < e.length; r += 1)
                e[r].apply(null , n)
    }
    if ("undefined" == typeof fin)
        return void t.registerExtension({
            windowFactory: "Not running in OpenFin"
        });
    var r, i, o = n.observable, a = a || {}, u = 10, s = [], c = {};
    fin.desktop.main(function() {
        r = fin.desktop.Application.getCurrent(),
        fin.desktop.System.getMonitorInfo(function(t) {
            a.monitorInfo = t
        }
        ),
        fin.desktop.System.addEventListener("monitor-info-changed", function(t) {
            a.monitorInfo = t
        }
        )
    }
    ),
    a.updateSelectedTheme = function(t) {
        var n = i
          , e = a.getChildren();
        i = t;
        for (var r = 0; r < e.length; r += 1)
            e[r].contentWindow.document.childNodes[0].classList.remove(n),
            e[r].contentWindow.document.childNodes[0].classList.add(i)
    }
    ,
    a.createWindow = function(t, e, r) {
        var o = {
            name: "ChildWindow" + s.length,
            defaultWidth: 1600,
            defaultHeight: 600,
            minWidth: 250,
            minHeight: 150,
            maxWidth: 3840,
            maxHeight: 3840,
            autoShow: !1,
            url: "about:blank",
            cornerRounding: {
                width: 5,
                height: 5
            },
            frame: !1,
            maximizable: !1,
            resizable: !0,
            fitToElement: void 0,
            parentWindow: void 0,
            alwaysAboveParent: !1,
            closeOnLostFocus: !1,
            enableWindowZoom: !1
        };
        t = t || {};
        for (var u in t)
            o[u] = t[u];
        delete o.parentWindow;
        var c = new fin.desktop.Window(o,function() {
            function t(t) {
                t.changeType >= 1 && c.undock(),
                1 !== t.changeType && c.triggerEvent("moved", t),
                0 !== t.changeType && c.triggerEvent("resized", t)
            }
            function a(t) {
                for (var n in c.children)
                    c.children[n].bringToFront(),
                    c.children[n].focus();
                void 0 !== r && r(u, o),
                c.getBounds(function(t) {
                    c.movedSinceDragStart = !0,
                    c.onDrag(t.left, t.top, !0)
                }
                )
            }
            var u = c.getNativeWindow()
              , l = u.document.getElementsByTagName("body")[0]
              , f = u.document.createComment(" ko render: $data")
              , d = u.document.createComment(" /ko ")
              , p = u.document.createElement("title");
            c._hidden = !o.autoShow,
            p.innerHTML = o.name || "",
            u.document.head.appendChild(p);
            for (var h, m = (document.querySelectorAll('link[type="text/css"]'),
            document.getElementsByTagName("style")), v = 0; v < m.length; v += 1)
                h = u.document.createElement("style"),
                h.innerHTML = m[v].innerHTML,
                h.rel = m[v].rel,
                h.type = m[v].type,
                u.document.head.appendChild(h);
            u.document.childNodes[0].className = i,
            null  != o.renderable ? (l.appendChild(f),
            l.appendChild(d),
            n.applyBindings(o.renderable, l)) : null  != o.onRenderable && o.onRenderable(l),
            c.defineDraggableElements(c.defaultDraggableElements()),
            null  != o.fitToElement && c.fitToElement(u.document.querySelector(o.fitToElement)),
            c.triggerEvent("setup"),
            this._addEventListener("bounds-changing", t),
            this._addEventListener("bounds-changed", t),
            this._addEventListener("maximized", a),
            this._addEventListener("restored", a),
            this._addEventListener("closed", function(t) {
                null  != c.config.parentWindow && delete c.config.parentWindow.children[c.id],
                s = s.filter(function(t) {
                    return t.name !== c.name
                }
                );
                for (var n in c.children)
                    c.children[n].close();
                void 0 !== o.onClosed && o.onClosed(t),
                this.triggerEvent("closed", t)
            }
            ),
            this._addEventListener("hidden", function(t) {
                c._hidden = !0;
                for (var n in c.children)
                    c.children[n].hide();
                c.undock(),
                void 0 !== o.onHidden && o.onHidden(t),
                this.triggerEvent("hidden", t)
            }
            ),
            this._addEventListener("shown", function(t) {
                c._hidden = !1,
                c.fitToElement(c.config.fitToElement);
                for (var n in c.children)
                    c.children[n].show(),
                    c.children[n].config.alwaysAboveParent && !c.children[n]._hidden && (c.children[n].bringToFront(),
                    c.children[n].focus());
                void 0 !== o.onShown && o.onShown(t),
                this.triggerEvent("shown", t)
            }
            ),
            void 0 !== e && e.apply(this, arguments),
            c._onready = !0,
            c.triggerEvent("ready")
        }
        ,function(t) {
            console.log("this was the err", t)
        }
        );
        return o.parentWindow = t.parentWindow,
        c._onready = !1,
        c.config = o,
        a.registerWindow(c),
        c
    }
    ,
    a.registerWindow = function(t) {
        t.config = t.config || {},
        t._eventListeners = {},
        t.id = s.length,
        s.push(t),
        t.isShowing(function(n) {
            t._hidden = !n
        }
        );
        var n, r, c = {}, l = !1;
        t.movedSinceDragStart = !1,
        t.dragTargets = [],
        t.group = Object.create(null ),
        t.group[t.id] = t,
        t.children = Object.create(null ),
        t.isDocked = o(!1),
        t.isSnappedToEdge = !1,
        t.move = function(n, e) {
            var r = (t.contentWindow,
            n - c[t.id].left)
              , i = e - c[t.id].top
              , o = t.group
              , a = t.children;
            for (var u in o)
                o[u].moveTo(c[u].left + r, c[u].top + i);
            for (u in a)
                a[u].moveTo(c[u].left + r, c[u].top + i)
        }
        ,
        t.onDrag = function(e, i, o) {
            var c, l, f, d, p, h, m = {
                xDistance: u,
                yDistance: u,
                xWindow: void 0,
                yWindow: void 0,
                left: e,
                top: i
            }, v = t.contentWindow, g = t.group;
            f = e + n,
            d = i + r;
            var b = a.monitorInfo.primaryMonitor.availableRect;
            p = t.hasOwnProperty("vertSnap") ? t.vertSnap : 0,
            h = t.hasOwnProperty("horizSnap") ? t.horizSnap : 0,
            (h >= f || p >= d || f >= b.right - h || d >= b.bottom - p) && !t.isSnappedToEdge ? (t.isSnappedToEdge = !0,
            t.triggerEvent("snap-to-edge", [{
                wndw: t,
                x: f,
                y: d
            }])) : t.isSnappedToEdge && f > h && d > p && f < b.right - h && d < b.bottom - p && (t.isSnappedToEdge = !1,
            t.triggerEvent("unsnap-from-edge", [{
                wndw: t,
                x: f,
                y: d
            }]));
            for (var y = 0; y < s.length; y += 1)
                c = s[y],
                l = c.contentWindow,
                null  == l || c._hidden || c.id === t.id || void 0 !== g[c.id] || (Math.abs(e - (l.screenLeft + l.outerWidth)) <= m.xDistance && l.screenTop - i <= v.outerHeight && i <= l.screenTop + l.outerHeight ? (m.left = l.screenLeft + l.outerWidth,
                m.xDistance = Math.abs(m.left - e),
                void 0 === m.xWindow ? m.xWindow = c : "",
                Math.abs(i - l.screenTop) <= m.yDistance ? (m.top = l.screenTop,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c) : Math.abs(i + v.outerHeight - (l.screenTop + l.outerHeight)) <= m.yDistance && (m.top = l.screenTop + l.outerHeight - v.outerHeight,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c)) : Math.abs(e + v.outerWidth - l.screenLeft) <= m.xDistance && l.screenTop - i <= v.outerHeight && i <= l.screenTop + l.outerHeight ? (m.left = l.screenLeft - v.outerWidth,
                m.xDistance = Math.abs(m.left - e),
                m.xWindow = c,
                Math.abs(i - l.screenTop) <= m.yDistance ? (m.top = l.screenTop,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c) : Math.abs(i + v.outerHeight - (l.screenTop + l.outerHeight)) <= m.yDistance && (m.top = l.screenTop + l.outerHeight - v.outerHeight,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c)) : Math.abs(i - (l.screenTop + l.outerHeight)) <= m.yDistance && l.screenLeft - e <= v.outerWidth && e <= l.screenLeft + l.outerWidth ? (m.top = l.screenTop + l.outerHeight,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c,
                Math.abs(e - l.screenLeft) <= m.xDistance ? (m.left = l.screenLeft,
                m.xDistance = Math.abs(m.left - e),
                void 0 === m.xWindow ? m.xWindow = c : "") : Math.abs(e + v.outerWidth - (l.screenLeft + l.outerWidth)) <= m.xDistance && (m.left = l.screenLeft + l.outerWidth - v.outerWidth,
                m.xDistance = Math.abs(m.left - e),
                void 0 === m.xWindow ? m.xWindow = c : "")) : Math.abs(i + v.outerHeight - l.screenTop) <= m.yDistance && l.screenLeft - e <= v.outerWidth && e <= l.screenLeft + l.outerWidth && (m.top = l.screenTop - v.outerHeight,
                m.yDistance = Math.abs(m.top - i),
                m.yWindow = c,
                Math.abs(e - l.screenLeft) <= m.xDistance ? (m.left = l.screenLeft,
                m.xDistance = Math.abs(m.left - e),
                void 0 === m.xWindow ? m.xWindow = c : "") : Math.abs(e + v.outerWidth - (l.screenLeft + l.outerWidth)) <= m.xDistance && (m.left = l.screenLeft + l.outerWidth - v.outerWidth,
                m.xDistance = Math.abs(m.left - e),
                void 0 === m.xWindow ? m.xWindow = c : "")));
            (m.left !== v.screenLeft || m.top !== v.screenTop) && (t.movedSinceDragStart = !0,
            t.move(m.left, m.top)),
            o && (void 0 !== m.xWindow || void 0 !== m.yWindow) && t.movedSinceDragStart && (void 0 !== m.xWindow && t.dock(m.xWindow),
            void 0 !== m.yWindow && t.dock(m.yWindow))
        }
        ,
        t.dock = function(n) {
            var e, r = n.group;
            for (var i in r)
                e = r[i],
                t.group[i] = e,
                e.group = t.group,
                e.isDocked(!0);
            t.isDocked(!0)
        }
        ,
        t.undock = function() {
            var n, e = t.group;
            for (var r in e)
                n = e[r],
                n.group = Object.create(null ),
                n.group[r] = n,
                n.isDocked(!1)
        }
        ,
        t.closeChildren = function() {
            for (var n in t.children)
                t.children[n].close(),
                delete t.children[n]
        }
        ,
        t.fitToElement = function(n) {
            null  != n && t.resizeTo(n.offsetWidth, n.offsetHeight, "top-left")
        }
        ,
        t._addEventListener = t.addEventListener,
        t.addEventListener = function(n, e) {
            null  == t._eventListeners[n] && (t._eventListeners[n] = []),
            t._eventListeners[n].push(e)
        }
        ,
        t._removeEventListener = t.removeEventListener,
        t.removeEventListener = function(n, e) {
            for (var r = t._eventListeners[n] || [], i = r.length - 1; i >= 0; i -= 1)
                r[i] === e && r.splice(i, 1)
        }
        ,
        t.triggerEvent = function(n, e) {
            if (null  != t._eventListeners[n])
                for (var r = t._eventListeners[n], i = 0; i < r.length; i += 1)
                    r[i].apply(t, e)
        }
        ,
        t.onDOMReady = function(n) {
            if (null  == t.contentWindow)
                var e = setInterval(function() {
                    null  != t.contentWindow && ("complete" !== t.contentWindow.document.readyState ? t.contentWindow.addEventListener("onload", n, !1) : n(),
                    clearInterval(e))
                }
                , 5);
            else
                "complete" !== t.contentWindow.document.readyState ? t.contentWindow.addEventListener("onload", n, !1) : n()
        }
        ,
        t.onReady = function(n) {
            t._onready ? n() : t.addEventListener("ready", n)
        }
        ,
        t.setZoom = function(n) {
            t.contentWindow.document.body.style.zoom = n,
            t.triggerEvent("zoom")
        }
        ,
        t.getZoom = function() {
            return "" === t.contentWindow.document.body.style.zoom && (t.contentWindow.document.body.style.zoom = 1),
            t.contentWindow.document.body.style.zoom
        }
        ,
        t.zoomIn = function() {
            "" === t.contentWindow.document.body.style.zoom && (t.contentWindow.document.body.style.zoom = 1),
            t.contentWindow.document.body.style.zoom *= 1.1,
            t.triggerEvent("zoom")
        }
        ,
        t.zoomOut = function() {
            "" === t.contentWindow.document.body.style.zoom && (t.contentWindow.document.body.style.zoom = 1),
            t.contentWindow.document.body.style.zoom /= 1.1,
            t.triggerEvent("zoom")
        }
        ,
        t.getBoundingBox = function() {
            var n = t.contentWindow;
            return {
                left: n.screenLeft,
                top: n.screenTop,
                right: n.screenLeft + n.outerWidth,
                bottom: n.screenTop + n.outerHeight
            }
        }
        ,
        t.moveToCenter = function(n, e, r) {
            fin.desktop.System.getMonitorInfo(function(i) {
                var o = a.determineMonitor(n, e, i) || i.primaryMonitor
                  , u = t.contentWindow.outerWidth
                  , s = t.contentWindow.outerHeight;
                n = (o.availableRect.right - o.availableRect.left - u) / 2 + o.availableRect.left,
                e = (o.availableRect.bottom - o.availableRect.top - s) / 2 + o.availableRect.top,
                t.moveTo(n, e, r)
            }
            , function(t) {
                console.error("Unable to get monitor information. Error: " + t)
            }
            )
        }
        ,
        t.moveToOrCenter = function(n, e, r) {
            fin.desktop.System.getMonitorInfo(function(i) {
                var o = a.determineMonitor(n, e, i) || i.primaryMonitor
                  , u = t.contentWindow.outerWidth
                  , s = t.contentWindow.outerHeight;
                (o.availableRect.left >= n || o.availableRect.right <= n + u || o.availableRect.top >= e || o.availableRect.bottom <= e + s) && (n = (o.availableRect.right - o.availableRect.left - u) / 2 + o.availableRect.left,
                e = (o.availableRect.bottom - o.availableRect.top - s) / 2 + o.availableRect.top),
                t.moveTo(n, e, r)
            }
            , function(t) {
                console.error("Unable to get monitor information. Error: " + t)
            }
            )
        }
        ,
        t.moveToCenterOrBelow = function(n, e, r, i) {
            fin.desktop.System.getMonitorInfo(function(o) {
                var u = a.determineMonitor(n, e, o) || o.primaryMonitor
                  , s = t.contentWindow.outerWidth
                  , c = t.contentWindow.outerHeight;
                if (n = Math.floor((u.availableRect.right - u.availableRect.left - s) / 2 + u.availableRect.left),
                e = Math.floor((u.availableRect.bottom - u.availableRect.top - c) / 2 + u.availableRect.top),
                null  != r) {
                    var l = r.getBoundingBox();
                    null  != l && l.left === n && l.top === e && (e = l.bottom)
                }
                t.moveTo(n, e, i)
            }
            , function(t) {
                console.error("Unable to get monitor information. Error: " + t)
            }
            )
        }
        ,
        t.resizeToOrMax = function(n, e, r) {
            fin.desktop.System.getMonitorInfo(function(i) {
                var o = t.getBoundingBox()
                  , u = (a.determineMonitor(o.left, o.top, i) || i.primaryMonitor).availableRect
                  , s = o.left + n < u.right ? n : u.right - o.left
                  , c = o.top + e < u.bottom ? e : u.bottom - o.top;
                t.resizeTo(s, c, "top-left", r)
            }
            , function(t) {
                console.error("Unable to get monitor information. Error: " + t)
            }
            )
        }
        ,
        t._addEventListener("focused", function(n) {
            t.fitToElement(t.config.fitToElement);
            for (var e = 0; e < s.length; e += 1)
                s[e] !== t && s[e].config.parentWindow !== t && s[e].config.closeOnLostFocus && (s[e].config.hideOnClose ? s[e].hide() : s[e].close());
            for (var r in t.group)
                t.group[r].bringToFront();
            t.bringToFront();
            for (var i in t.children)
                t.children[i].bringToFront(),
                t.children[i].focus();
            t.triggerEvent("focused", [n])
        }
        ),
        t._addEventListener("bounds-changed", function(n) {
            t.triggerEvent("bounds-changed", [n])
        }
        ),
        t.defineDraggableElements = function(e) {
            "string" == typeof e && (e = t.contentWindow.document.querySelectorAll(e));
            for (var i = function(e) {
                l = !0,
                n = e.x,
                r = e.y,
                t.movedSinceDragStart = !1;
                for (var i in t.group)
                    c[i] = {
                        left: t.group[i].contentWindow.screenLeft,
                        top: t.group[i].contentWindow.screenTop
                    };
                for (i in t.children)
                    c[i] = {
                        left: t.children[i].contentWindow.screenLeft,
                        top: t.children[i].contentWindow.screenTop
                    }
            }
            , o = 0; o < e.length; o += 1)
                e[o].addEventListener("mousedown", i)
        }
        ,
        t.defaultDraggableElements = function() {
            return t.contentWindow.document.querySelectorAll(".ui-draggable")
        }
        ,
        null  != t.config.parentWindow && (t.config.parentWindow.children[t.id] = t),
        t.onDOMReady(function() {
            t.contentWindow.document.childNodes[0].className = i,
            t.contentWindow.addEventListener("mousemove", function(e) {
                l && fin.desktop.System.getMousePosition(function(e) {
                    var i = parseInt(e.left)
                      , o = parseInt(e.top);
                    t.onDrag(i - n, o - r, !1)
                }
                )
            }
            ),
            t.contentWindow.addEventListener("mouseup", function(e) {
                l && (l = !1,
                fin.desktop.System.getMousePosition(function(e) {
                    var i = parseInt(e.left)
                      , o = parseInt(e.top);
                    t.onDrag(i - n, o - r, !0)
                }
                ))
            }
            ),
            t.config.enableWindowZoom && (t.contentWindow.document.body.style.zoom = 1,
            t.contentWindow.addEventListener("wheel", function(n) {
                n.ctrlKey && (n.wheelDeltaY > 0 ? t.zoomIn() : n.wheelDeltaY < 0 && t.zoomOut())
            }
            ))
        }
        ),
        e("added", [t])
    }
    ,
    a.getChildren = function() {
        for (var t = [], n = Object.keys(s), e = 0; e < n.length; e += 1)
            t.push(s[n[e]]);
        return t
    }
    ,
    a.addEventListener = function(t, n) {
        null  == c[t] && (c[t] = []),
        c[t].push(n)
    }
    ,
    a.removeEventListener = function(t, n) {
        for (var e = c[t] || [], r = e.length - 1; r >= 0; r -= 1)
            e[r] === n && e.splice(r, 1)
    }
    ,
    a.getOwnerWindow = function(t) {
        var n = t.ownerDocument.defaultView;
        for (var e in s)
            if (n === s[e].contentWindow)
                return s[e]
    }
    ,
    a.getWindow = function(t) {
        for (var n = 0; n < s.length; n += 1)
            if (t === s[n].name)
                return s[n]
    }
    ,
    a.determineMonitor = function(t, n, e) {
        var r = e.nonPrimaryMonitors;
        r.push(e.primaryMonitor);
        for (var i = 0; i < r.length; i += 1)
            if (t >= r[i].monitorRect.left && t <= r[i].monitorRect.right && n >= r[i].monitorRect.top && n <= r[i].monitorRect.bottom)
                return r[i]
    }
    ,
    t.registerExtension({
        windowFactory: a
    })
}
),
define("app/main/viewmodels/mainViewModel", ["scalejs.sandbox!main"], function(t) {
    "use strict";
    return function() {
        var n = t.mvvm.observable
          , e = t.mvvm.observableArray
          , r = t.mvvm.computed
          , i = t.state.raise
          , o = e([])
          , a = n()
          , u = n()
          , s = n()
          , c = n()
          , l = e([])
          , f = n()
          , d = t.mvvm.observable("")
          , p = [{
            name: "table",
            "class": "th-list"
        }, {
            name: "tile",
            "class": "th-large"
        }, {
            name: "treemap",
            "class": "th"
        }]
          , h = [{
            name: "table",
            "class": "th-list"
        }]
          , m = t.mvvm.observable(p[0])
          , v = t.mvvm.observable(h[0]);
        return t.query("/CollateralMgmtDates", function(t, n) {
            return t ? void console.error(t) : (o(_.chain(n).map(function(t) {
                return t.Value_Date.substring(0, 10)
            }
            ).sort().reverse().value()),
            void f(_.first(o())))
        }
        ),
        f.subscribe(function(t) {
            a() && i("date.changed", {
                fund: a().FundNameTicker
            })
        }
        ),
        m.subscribe(function(t) {
            i("display.changed")
        }
        ),
        r(function() {
            f() && t.query("/CollateralMgmtFundCollBalance/" + f(), function(t, n) {
                if (t)
                    return void console.error(t);
                if (l(n),
                a()) {
                    var e = _.chain(n).where({
                        FundNameTicker: a().FundNameTicker
                    }).first().value();
                    a(e ? e : _.first(n))
                } else
                    a(_.first(n));
                console.log("raising event:", "fund.selected"),
                i("fund.selected", {
                    date: f(),
                    fund: a().FundNameTicker
                })
            }
            )
        }
        ),
        {
            availableDates: o,
            selectedFund: a,
            funds: l,
            message: u,
            region: s,
            header: c,
            valueDate: f,
            selecting: d,
            display_options: p,
            display: m,
            action_options: h,
            actions: v
        }
    }
}
),
define("app/main/bindings/mainBindings", ["scalejs.sandbox!main"], function(t) {
    "use strict";
    var n = t.state.raise;
    t.mvvm.template;
    return {
        main_panel: function(t) {
            return {
                css: this.selecting
            }
        },
        display_option: function(n) {
            var e = {
                selected: t.mvvm.computed(function() {
                    return this.name === n.$parent.display().name
                }
                .bind(this))
            };
            return e["btn-icon vertical fa fa-" + this["class"]] = !0,
            {
                css: e,
                hmpress: {
                    time: 0,
                    handler: function() {
                        n.$parent.display(this)
                    }
                }
            }
        },
        action_option: function(n) {
            var e = {
                selected: t.mvvm.computed(function() {
                    return this.name === n.$parent.display().name
                }
                .bind(this))
            };
            return e["btn-icon vertical fa fa-" + this["class"]] = !0,
            {
                css: e,
                hmpress: {
                    time: 0,
                    handler: function() {
                        n.$parent.display(this)
                    }
                }
            }
        },
        display_container: function(t) {
            return {
                css: this.display().name
            }
        },
        sidebar_datepicker: function(t) {
            return {
                options: this.availableDates,
                value: this.valueDate
            }
        },
        sidebar_datepicker_date: function(t) {
            return {
                attr: {
                    value: this
                },
                text: this
            }
        },
        sidebar_toggle: function(t) {
            var n = !1;
            return {
                hmpress: {
                    time: 0,
                    handler: function() {
                        n = !n,
                        n ? this.selecting("selecting") : this.selecting("")
                    }
                }
            }
        },
        sidebar_tile: function(t) {
            return {
                css: {
                    selected: t.$parent.selectedFund() === this
                },
                hmpress: {
                    time: 0,
                    handler: function() {
                        t.$parent.selectedFund(this),
                        n("fund.changed", {
                            date: t.$parent.valueDate(),
                            fund: this.FundNameTicker
                        }),
                        t.$parent.selecting("")
                    }
                }
            }
        },
        sidebar_tile_icon: function(t) {
            return {
                css: "fa fa-" + this.Icon
            }
        },
        sidebar_tile_name: function(t) {
            return {
                text: this.FundNameTicker
            }
        },
        sidebar_tile_value: function(n) {
            return {
                text: t.global.toolkit.filter.bn(this.CollateralTotal)
            }
        }
    }
}
),
define("text!app/main/views/main.html", [], function() {
    return '<div id="main_template">\n    <div id="main" data-class="main_panel">\n        <header>\n            <div id="content-header" class="content-header" data-bind="render: header"></div>\n            <select id="datepicker" class="datepicker" data-class="sidebar_datepicker">\n                <option data-class="sidebar_datepicker_date"></option>\n            </select>\n            <!-- <i class="fa fa-angle-down"></i> -->\n        </header>\n        <div id="message" data-bind="render: message"></div>\n        <nav id="sidebar" class="sidebar">\n            <!-- ko foreach: funds -->\n            <div class="tile btn vertical" data-class="sidebar_tile">\n                <i data-class="sidebar_tile_icon"></i>\n                <div class="name" data-class="sidebar_tile_name"></div>\n                <div class="value" data-class="sidebar_tile_value"></div>\n            </div>\n            <!-- /ko -->\n        </nav>\n        <section class="page">\n            <section class="container" data-class="display_container">\n                <div class="content" data-bind="render: region"></div>\n            </section>\n        </section>\n        <footer>\n            <i data-class="sidebar_toggle" class="fa fa-bars"></i>\n            <section id="logo" class="logo">\n                <a target="_blank" href="http://www.eikospartners.com" class="eikos-logo"></a>\n                <a target="_blank" href="http://www.eikospartners.com" class="company-name">EIKOS PARTNERS</a>\n            </section>\n            <div id="display-options" class="display-options" data-bind="foreach: display_options">\n                <i data-class="display_option"></i>\n            </div>\n        </footer>\n    </div>\n</div>\n'
}
),
define("normalize", [], function() {
    function t(t, r, i) {
        if (t.match(u) || t.match(a))
            return t;
        t = o(t);
        var s = i.match(a)
          , c = r.match(a);
        return !c || s && s[1] == c[1] && s[2] == c[2] ? e(n(t, r), i) : n(t, r)
    }
    function n(t, n) {
        if ("./" == t.substr(0, 2) && (t = t.substr(2)),
        t.match(u) || t.match(a))
            return t;
        var e = n.split("/")
          , r = t.split("/");
        for (e.pop(); curPart = r.shift(); )
            ".." == curPart ? e.pop() : e.push(curPart);
        return e.join("/")
    }
    function e(t, n) {
        var e = n.split("/");
        for (e.pop(),
        n = e.join("/") + "/",
        i = 0; n.substr(i, 1) == t.substr(i, 1); )
            i++;
        for (; "/" != n.substr(i, 1); )
            i--;
        n = n.substr(i + 1),
        t = t.substr(i + 1),
        e = n.split("/");
        var r = t.split("/");
        for (out = ""; e.shift(); )
            out += "../";
        for (; curPart = r.shift(); )
            out += curPart + "/";
        return out.substr(0, out.length - 1)
    }
    var r = /([^:])\/+/g
      , o = function(t) {
        return t.replace(r, "$1/")
    }
      , a = /[^\:\/]*:\/\/([^\/])*/
      , u = /^(\/|data:)/
      , s = function(n, e, r) {
        e = o(e),
        r = o(r);
        for (var i, a, n, u = /@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi; i = u.exec(n); ) {
            a = i[3] || i[2] || i[5] || i[6] || i[4];
            var s;
            s = t(a, e, r);
            var c = i[5] || i[6] ? 1 : 0;
            n = n.substr(0, u.lastIndex - a.length - c - 1) + s + n.substr(u.lastIndex - c - 1),
            u.lastIndex = u.lastIndex + (s.length - a.length)
        }
        return n
    }
    ;
    return s.convertURIBase = t,
    s.absoluteURI = n,
    s.relativeURI = e,
    s
}
),
define("normalize", [], function() {
    function t(t, r, i) {
        if (t.match(u) || t.match(a))
            return t;
        t = o(t);
        var s = i.match(a)
          , c = r.match(a);
        return !c || s && s[1] == c[1] && s[2] == c[2] ? e(n(t, r), i) : n(t, r)
    }
    function n(t, n) {
        if ("./" == t.substr(0, 2) && (t = t.substr(2)),
        t.match(u) || t.match(a))
            return t;
        var e = n.split("/")
          , r = t.split("/");
        for (e.pop(); curPart = r.shift(); )
            ".." == curPart ? e.pop() : e.push(curPart);
        return e.join("/")
    }
    function e(t, n) {
        var e = n.split("/");
        for (e.pop(),
        n = e.join("/") + "/",
        i = 0; n.substr(i, 1) == t.substr(i, 1); )
            i++;
        for (; "/" != n.substr(i, 1); )
            i--;
        n = n.substr(i + 1),
        t = t.substr(i + 1),
        e = n.split("/");
        var r = t.split("/");
        for (out = ""; e.shift(); )
            out += "../";
        for (; curPart = r.shift(); )
            out += curPart + "/";
        return out.substr(0, out.length - 1)
    }
    var r = /([^:])\/+/g
      , o = function(t) {
        return t.replace(r, "$1/")
    }
      , a = /[^\:\/]*:\/\/([^\/])*/
      , u = /^(\/|data:)/
      , s = function(n, e, r) {
        e = o(e),
        r = o(r);
        for (var i, a, n, u = /@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi; i = u.exec(n); ) {
            a = i[3] || i[2] || i[5] || i[6] || i[4];
            var s;
            s = t(a, e, r);
            var c = i[5] || i[6] ? 1 : 0;
            n = n.substr(0, u.lastIndex - a.length - c - 1) + s + n.substr(u.lastIndex - c - 1),
            u.lastIndex = u.lastIndex + (s.length - a.length)
        }
        return n
    }
    ;
    return s.convertURIBase = t,
    s.absoluteURI = n,
    s.relativeURI = e,
    s
}
),
define("lessc", ["require"], function(t) {
    var n = {};
    if (n.pluginBuilder = "./less-builder",
    "undefined" == typeof window)
        return n.load = function(t, n, e) {
            e()
        }
        ,
        n;
    n.normalize = function(t, n) {
        return ".less" == t.substr(t.length - 5, 5) && (t = t.substr(0, t.length - 5)),
        t = n(t)
    }
    ;
    var e = document.getElementsByTagName("head")[0]
      , r = document.getElementsByTagName("base");
    r = r && r[0] && r[0] && r[0].href;
    var i = (r || window.location.href.split("#")[0].split("?")[0]).split("/");
    i[i.length - 1] = "",
    i = i.join("/"),
    window.less = window.less || {
        env: "development"
    };
    var o, a = 0;
    return n.inject = function(t) {
        31 > a && (o = document.createElement("style"),
        o.type = "text/css",
        e.appendChild(o),
        a++),
        o.styleSheet ? o.styleSheet.cssText += t : o.appendChild(document.createTextNode(t))
    }
    ,
    n.load = function(e, r, o, a) {
        t(["less", "normalize"], function(t, u) {
            var s = r.toUrl(e + ".less");
            s = u.absoluteURI(s, i);
            var c = new t.Parser(window.less);
            c.parse('@import (multiple) "' + s + '";', function(t, e) {
                return t ? o.error(t) : (n.inject(u(e.toCSS(a.less), s, i)),
                void setTimeout(o, 7))
            }
            )
        }
        )
    }
    ,
    n
}
),
define("scalejs.styles-less", [], function() {
    "use strict";
    return {
        load: function(t, n, e, r) {
            var i = t.match(/([^,]+)/g) || [];
            i = i.map(function(t) {
                return -1 === t.indexOf("/") && (t = "./styles/" + t),
                "lessc!" + t
            }
            ),
            n(i, function() {
                e(Array.prototype.slice.call(arguments, 0, arguments.length))
            }
            )
        }
    }
}
),
define("scalejs.styles-less!app/main/styles/main", [], function() {}
),
define("app/main/mainModule", ["scalejs.sandbox!main", "app/main/viewmodels/mainViewModel", "knockout", "bindings!main", "views!main", "styles!./styles/main"], function(t, n, e) {
    "use strict";
    return function r() {
        var e = t.mvvm.root
          , i = t.mvvm.template
          , o = t.state.registerStates
          , a = (t.routing.routerState,
        t.routing.route,
        t.state.builder.state)
          , u = t.state.builder.parallel
          , s = t.state.builder.onEntry
          , r = n(t)
          , c = "undefined" != typeof fin;
        o("root", u("app", s(function() {
            this.message = r.message,
            this.main = r
        }
        ), a("main", s(function() {
            this.funds = r.funds,
            this.region = r.region,
            this.header = r.header,
            this.valueDate = r.valueDate,
            this.display = r.display,
            this.isOpenFin = c,
            c || e(i("main_template", r))
        }
        ))))
    }
}
),
define("app/message/viewmodels/messageViewModel", ["scalejs.sandbox!main", "underscore"], function(t, n) {
    "use strict";
    return function() {
        function e(t) {
            if (l)
                s("message." + t.data.name, t.data.data.region.template.data.data),
                t.data.data.fundvm.message(null );
            else {
                var n = c.pop();
                s("message." + t.data.name, n.region.template.data.data)
            }
        }
        function r(t) {
            l ? t.data.fundvm.message(null ) : c.pop()
        }
        function i(t) {
            if (l) {
                var n = t.data;
                t.data.fundvm.message(u("openfin_message_template", n))
            } else
                c.push(t.data)
        }
        function o(e) {
            if (l) {
                var r = n.clone(e.data);
                r.fundvm = null ;
                var i = t.windowFactory.createWindow({
                    name: "Message" + e.data.title,
                    url: window.baseUrl + "/details.html",
                    defaultWidth: 1140,
                    defaultHeight: 550,
                    renderable: u("openfin_popout_message_template", r)
                });
                r.wndw = i,
                i.onReady(function() {
                    i.show()
                }
                ),
                e.data.fundvm.message(null )
            }
        }
        var a = (t.mvvm.observable,
        t.mvvm.observableArray)
          , u = t.mvvm.template
          , s = (t.mvvm.computed,
        t.state.raise)
          , c = a([])
          , l = "undefined" != typeof fin;
        return {
            hideMessage: e,
            closeMessage: r,
            showMessage: i,
            messages: c,
            popoutMessage: o
        }
    }
}
),
define("app/message/bindings/messageBindings", ["scalejs.sandbox!message", "underscore"], function(t, n) {
    "use strict";
    var e = t.state.raise;
    return {
        message_class: function(t) {
            return {
                css: this["class"] ? this["class"] : ""
            }
        },
        message_title: function(t) {
            return {
                text: this.title
            }
        },
        message_background: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        var t = n.last(this.messages());
                        (t.close || void 0 === t.close) && e("message.close", t)
                    }
                }
            }
        },
        message_close: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        e("message.close", this)
                    }
                }
            }
        },
        message_popout: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        e("message.popout", this)
                    }
                }
            }
        },
        message_button: function(t) {
            return {
                text: this,
                hmpress: {
                    time: 50,
                    handler: function() {
                        e("message.hide", {
                            name: this,
                            data: t.$parent
                        })
                    }
                }
            }
        },
        message_input_name: function(t) {
            return {
                text: this.name
            }
        },
        message_input: function(t) {
            return {
                textInput: this.value
            }
        }
    }
}
),
define("text!app/message/views/message.html", [], function() {
    return '<div id="message_template">\n    <!-- ko foreach: messages -->\n    <div class="message" data-class="message_class">\n        <header>\n            <!-- ko if: !!close -->\n            <i class="fa fa-times" data-class="message_close"></i>\n            <!-- /ko -->\n            <div class="title" data-class="message_title"></div>\n        </header>\n        <section class="region">\n            <!-- ko render: region -->\n            <!-- /ko -->\n        </section>\n        <!-- ko if: $data.buttons -->\n        <section class="buttons">\n            <!-- ko foreach: buttons -->\n            <a class="btn horizontal" data-class="message_button"></a>\n            <!-- /ko -->\n        </section>\n        <!-- /ko -->\n    </div>\n    <!-- /ko -->\n    <!-- ko if: messages().length -->\n    <div data-class="message_background" id="message_underlay">\n    </div>\n    <!-- /ko -->\n</div>\n\n<div id="openfin_message_template">\n    <div id="message" class="message" data-class="message_class">\n        <header>\n            <!-- ko if: $data.close -->\n            <i class="fa fa-times message-action" data-class="message_close"></i>\n            <!-- /ko -->\n            <!-- ko if: $data.popout -->\n            <i class="fa fa-external-link" data-class="message_popout"></i>\n            <!-- /ko -->\n            <div class="title" data-class="message_title"></div>\n        </header>\n        <section class="region">\n            <!-- ko render: region -->\n            <!-- /ko -->\n        </section>\n        <!-- ko if: $data.buttons -->\n        <section class="buttons">\n            <!-- ko foreach: buttons -->\n            <a class="btn horizontal" data-class="message_button"></a>\n            <!-- /ko -->\n        </section>\n        <!-- /ko -->\n    </div>\n</div>\n\n<div id="openfin_popout_message_template">\n    <!-- ko template: "window_header_template" --><!-- /ko -->\n    <div id="message" class="message openfin" data-class="message_class">\n        <header>\n            <div class="title" data-class="message_title"></div>\n        </header>\n        <section class="region">\n            <!-- ko render: region -->\n            <!-- /ko -->\n        </section>\n        <!-- ko if: $data.buttons -->\n        <section class="buttons">\n            <!-- ko foreach: buttons -->\n            <a class="btn horizontal" data-class="message_button"></a>\n            <!-- /ko -->\n        </section>\n        <!-- /ko -->\n    </div>\n</div>\n\n'
}
),
define("scalejs.styles-less!app/message/styles/message", [], function() {}
),
define("app/message/messageModule", ["scalejs.sandbox!message", "app/message/viewmodels/messageViewModel", "bindings!message", "views!message", "styles!./styles/message"], function(t, n) {
    "use strict";
    return function e() {
        var r = (t.mvvm.root,
        t.mvvm.template)
          , i = t.state.registerStates
          , o = (t.routing.routerState,
        t.routing.route,
        t.state.builder.state)
          , a = t.state.builder.onEntry
          , u = t.state.builder.on
          , e = n(t);
        i("app", o("message", a(function(t) {
            this.message(r("message_template", e))
        }
        ), u("message.show", function(t) {
            e.showMessage(t)
        }
        ), u("message.popout", function(t) {
            e.popoutMessage(t)
        }
        ), u("message.hide", function(t) {
            e.hideMessage(t)
        }
        ), u("message.close", function(t) {
            e.closeMessage(t)
        }
        )))
    }
}
),
define("app/fund/columns/CPSummaryColumns", ["scalejs.sandbox!fund", "underscore"], function(t, n) {
    "use strict";
    return [{
        id: "Counter_Party_FullName",
        tag: "Counter Party",
        total_tag: "Totals:"
    }, {
        id: "Position_Equivalent_IM",
        tag: "EP Macro IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Position_Equivalent_MV",
        tag: "EP Macro MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Position_Equivalent_Total",
        tag: "EP Macro Ttl",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CollateralTotal",
        tag: "Coll Post/Hold",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CallorReturn",
        tag: "Est. Call/Return",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_Total",
        tag: "CP Total",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CollateralPosted",
        tag: "Call/Return",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }]
}
),
define("app/fund/columns/CPTileDetailColumns", ["scalejs.sandbox!fund", "underscore"], function(t, n) {
    "use strict";
    return {
        tileColumns: [{
            id: "Counter_Party_FullName",
            tag: "Counter Party",
            total_tag: "Totals:"
        }, {
            id: "Counter_Party_CreditSpread",
            tag: "Spread",
            total: !1
        }, {
            id: "Position_Equivalent_IM",
            tag: "EP Macro IM",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "Position_Equivalent_MV",
            tag: "EP Macro MV",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "Position_Equivalent_Total",
            tag: "EP Macro Ttl",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "CollateralTotal",
            tag: "Coll Post/Hold",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "Collateral_Type",
            tag: "Coll Type",
            total: !1
        }, {
            id: "CallorReturn",
            tag: "Est. Call/Return",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "CP_Position_Equivalent_MV",
            tag: "CP Total",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "CollateralPosted",
            tag: "Call/Return",
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }, {
            id: "CollateralTotalNew",
            tag: "New Coll Post/Hold",
            calc: function(n) {
                return n.CollateralTotal + t.formattedNumber.removeDelimiters(n.CollateralPosted())
            },
            format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
        }],
        wireColumns: [{
            id: "ABA",
            tag: "ABA",
            total: !1
        }, {
            id: "Account",
            tag: "Account",
            total: !1
        }, {
            id: "FundAcct",
            tag: "FundAcct",
            total: !1
        }, {
            id: "FundName",
            tag: "FundName",
            total: !1
        }]
    }
}
),
define("app/fund/viewmodels/CPSummaryViewModel", ["scalejs.sandbox!fund", "underscore", "../columns/CPSummaryColumns", "../columns/CPTileDetailColumns"], function(t, n, e, r) {
    "use strict";
    return function(i) {
        function o(n) {
            t.post("/UpdateFundCollBalance/" + f() + "/" + d + "/" + n.Counter_Party + "/" + t.formattedNumber.removeDelimiters(n.CollateralPosted()) + "/" + n.Collateral_Type, function(t, n) {
                return t ? (console.error(t),
                void c("post.error", t)) : void c("post.complete", {
                    date: f(),
                    fund: d
                })
            }
            )
        }
        var a = t.mvvm.observable
          , u = t.mvvm.observableArray
          , s = t.mvvm.computed
          , c = t.state.raise
          , l = a(null )
          , f = i.date
          , d = i.fund
          , p = a("")
          , h = a()
          , m = u([]);
        return s(function() {
            t.query("/CollateralMgmt/" + f() + "/" + d, function(e, r) {
                if (e)
                    return void console.error(e);
                n.map(r, function(t) {
                    t.Position_Equivalent_MV = parseInt(t.Position_Equivalent_MV),
                    t.CP_Position_Equivalent_MV = parseInt(t.CP_Position_Equivalent_MV),
                    t.CollateralPosted = a(t.CollateralPosted).extend({
                        formattedNumber: !0
                    })
                }
                );
                var i = n.reduce(r, function(t, n) {
                    return t + n.Collateral
                }
                , 0);
                if (p(t.global.toolkit.filter.bn(i)),
                m(r),
                null  !== l()) {
                    var o = n.find(r, function(t) {
                        return t.Counter_Party === l().Counter_Party
                    }
                    );
                    l(o ? o : null )
                }
            }
            )
        }
        ),
        {
            template: {
                table: "CPSummary_template",
                tile: "CPSummary_tile_template",
                treemap: "CPSummary_treemap_template"
            },
            fund: d,
            date: f,
            collateral: p,
            columns: e,
            tileColumns: r,
            details: h,
            data: m,
            post: o
        }
    }
}
),
define("app/fund/columns/CPCounterpartyColumns", ["scalejs.sandbox!fund", "underscore"], function(t, n) {
    "use strict";
    return [{
        id: "Inst_Type_Name",
        tag: "Product Name",
        total_tag: "Totals:"
    }, {
        id: "Position_Equivalent_IM",
        tag: "EP Macro IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_IM",
        tag: "CP IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaIM",
        tag: "Delta IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Position_Equivalent_MV",
        tag: "EP Macro MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_MV",
        tag: "CP MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaMV",
        tag: "Delta MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }]
}
),
define("app/fund/viewmodels/CPCounterpartyViewModel", ["scalejs.sandbox!fund", "underscore", "../columns/CPCounterpartyColumns"], function(t, n, e) {
    "use strict";
    return function(r) {
        var i = (t.mvvm.observable,
        t.mvvm.observableArray)
          , o = (t.mvvm.computed,
        r.date)
          , a = r.fund
          , u = r.counterparty
          , s = r.cpSummary
          , c = n.chain(s.data()).where({
            Counter_Party: u
        }).first().value()
          , l = i([]);
        return t.query("/CollateralMgmtCP/" + o() + "/" + a + "/" + u, function(t, n) {
            return t ? void console.error(t) : void l(n)
        }
        ),
        {
            template: {
                table: "CPCounterparty_template",
                tile: "CPCounterparty_tile_template",
                treemap: "CPCounterparty_treemap_template"
            },
            fund: a,
            date: o,
            counterparty: u,
            cpSummary: s,
            counterpartyRow: c,
            columns: e,
            data: l
        }
    }
}
),
define("app/fund/columns/CPProductColumns", ["scalejs.sandbox!fund", "underscore"], function(t, n) {
    "use strict";
    return [{
        id: "Instrument_Name",
        tag: "Underlier",
        total_tag: "Totals:"
    }, {
        id: "Position_Equivalent_IM",
        tag: "EP Macro IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_IM",
        tag: "CP IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaIM",
        tag: "Delta IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Position_Equivalent_MV",
        tag: "EP Macro MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_MV",
        tag: "CP MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaMV",
        tag: "Delta MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }]
}
),
define("app/fund/viewmodels/CPProductViewModel", ["scalejs.sandbox!fund", "underscore", "../columns/CPProductColumns"], function(t, n, e) {
    "use strict";
    return function(r) {
        var i = (t.mvvm.observable,
        t.mvvm.observableArray)
          , o = (t.mvvm.computed,
        r.date)
          , a = r.fund
          , u = r.counterparty
          , s = r.product
          , c = r.cpSummary
          , l = r.cpCounterparty
          , f = n.chain(c.data()).where({
            Counter_Party: u
        }).first().value()
          , d = l.data()
          , p = i([]);
        return t.query("/CollateralMgmtCPInst/" + o() + "/" + a + "/" + u + "/" + s, function(t, n) {
            return t ? void console.error(t) : void p(n)
        }
        ),
        {
            template: {
                table: "CPProduct_template",
                tile: "CPProduct_tile_template",
                treemap: "CPProduct_treemap_template"
            },
            fund: a,
            date: o,
            counterparty: u,
            product: s,
            cpSummary: c,
            cpCounterparty: l,
            counterpartyRow: f,
            instruments: d,
            columns: e,
            data: p
        }
    }
}
),
define("app/fund/columns/CPTradeDetailColumns", ["scalejs.sandbox!fund", "underscore"], function(t, n) {
    "use strict";
    return [{
        id: "Spread",
        tag: "Spread",
        total_tag: "Totals:"
    }, {
        id: "CPSpread",
        tag: "CPSpread",
        total: !1
    }, {
        id: "Position_Equivalent_MV",
        tag: "Position_Equivalent_MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_MV",
        tag: "CP_Position_Equivalent_MV",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaMVPercent",
        tag: "DeltaMVPercent",
        format: function(t) {
            return t.toFixed(2) + " %"
        },
        total: !1
    }, {
        id: "Position_Equivalent_IM",
        tag: "Position_Equivalent_IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "CP_Position_Equivalent_IM",
        tag: "CP_Position_Equivalent_IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "DeltaIM",
        tag: "Delta IM",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Instrument_Name",
        tag: "Instrument_Name",
        total: !1
    }, {
        id: "CPInstName",
        tag: "CPInstName",
        total: !1
    }, {
        id: "Direction",
        tag: "Direction",
        total: !1
    }, {
        id: "Position",
        tag: "Position",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Position_Equivalent",
        tag: "Position_Equivalent",
        format: n.compose(t.formattedNumber.addDelimiters, t.formattedNumber.removeDecimal)
    }, {
        id: "Trade_Date",
        tag: "Trade_Date",
        format: function(t) {
            return t.substring(0, 10)
        },
        total: !1
    }, {
        id: "Settle_Date",
        tag: "Settle_Date",
        format: function(t) {
            return t.substring(0, 10)
        },
        total: !1
    }, {
        id: "TradeID",
        tag: "TradeID",
        total: !1
    }, {
        id: "CPTradeID",
        tag: "CPTradeID",
        total: !1
    }, {
        id: "MatchID",
        tag: "MatchID",
        total: !1
    }]
}
),
define("app/fund/viewmodels/CPTradeDetailViewModel", ["scalejs.sandbox!fund", "underscore", "../columns/CPTradeDetailColumns"], function(t, n, e) {
    "use strict";
    return function(r) {
        var i = (t.mvvm.observable,
        t.mvvm.observableArray)
          , o = (t.mvvm.computed,
        r.date)
          , a = r.fund
          , u = r.counterparty
          , s = r.product
          , c = r.instrument
          , l = r.cpSummary
          , f = r.cpCounterparty
          , d = r.cpProduct
          , p = n.chain(l.data()).where({
            Counter_Party: u
        }).first().value()
          , h = f.data()
          , m = i([]);
        t.query("/CollateralMgmtCPTradeDetail/" + o() + "/" + a + "/" + u + "/" + s + "/" + c, function(t, n) {
            return t ? void console.error(t) : void m(n)
        }
        );
        var v = function() {
            return a + "/" + u + "/" + s + "/" + c
        }
        ;
        return {
            template: "CPTradeDetail_template",
            fund: a,
            date: o,
            counterparty: u,
            product: s,
            instrument: c,
            cpSummary: l,
            cpCounterparty: f,
            cpProduct: d,
            counterpartyRow: p,
            instruments: h,
            columns: e,
            data: m,
            getUniqueKey: v
        }
    }
}
),
define("app/fund/viewmodels/fundViewModel", ["scalejs.sandbox!fund", "./CPSummaryViewModel", "./CPCounterpartyViewModel", "./CPProductViewModel", "./CPTradeDetailViewModel"], function(t, n, e, r, i) {
    "use strict";
    return function(o, a, u) {
        function s(t) {
            v = new n(t),
            m(v)
        }
        function c(t) {
            m(new e(t))
        }
        function l(t) {
            m(new r(t))
        }
        function f(t) {
            return new i(t)
        }
        function d(t) {
            v.post(t)
        }
        function p(n, e, r) {
            return this.title = n.FundName,
            this.fund = n.FundNameTicker,
            this.date = e,
            this.collateral = t.global.toolkit.filter.bn(n.CollateralTotal),
            this.display = r,
            this
        }
        var h = t.mvvm.observable
          , m = h()
          , v = new n({
            fund: o.FundNameTicker,
            date: a
        });
        return {
            title: o.FundName,
            title_template: "fund_header",
            fund: o.FundNameTicker,
            date: a,
            collateral: t.global.toolkit.filter.bn(o.CollateralTotal),
            drillVM: m,
            summary: s,
            cpSummary: v,
            drill1: c,
            drill2: l,
            display: u,
            getTradeDetail: f,
            postChanges: d,
            update: p
        }
    }
}
),
define("app/fund/bindings/fundBindings", ["scalejs.sandbox!fund", "knockout", "underscore"], function(t, n, e) {
    "use strict";
    var r = (n.isObservable,
    t.state.raise);
    return {
        fund_header: function(t) {
            return {
                hmpress: {
                    time: 0,
                    handler: function() {
                        r("fund.reset", this.drillVM())
                    }
                }
            }
        },
        fund_header_title: function(t) {
            return {
                text: this.title
            }
        },
        fund_header_collateral: function(t) {
            return {
                text: this.collateral
            }
        },
        drill_level: function(t) {
            return this.drillVM() ? {
                render: {
                    template: {
                        name: this.drillVM().template[this.display().name],
                        data: this.drillVM()
                    }
                }
            } : void 0
        },
        treemap_node_value: function(n) {
            return {
                text: this.hasOwnProperty("Position_Equivalent_MV") ? t.formattedNumber.addDelimiters(this.Position_Equivalent_MV) : ""
            }
        },
        treemap: function(t) {
            return function(n) {
                return this.data.max = Math.abs(e.max(this.data(), function(t) {
                    return Math.abs(t.Position_Equivalent_MV)
                }
                ).Position_Equivalent_MV),
                this.data.min = Math.abs(e.min(this.data(), function(t) {
                    return Math.abs(t.Position_Equivalent_MV)
                }
                ).Position_Equivalent_MV),
                this.data.normMin = 1,
                this.data.normMax = 15,
                {
                    component: {
                        name: "treemap",
                        params: {
                            data: {
                                name: "",
                                children: this.data()
                            },
                            value: function(t) {
                                var e = n.$data.data.normMin
                                  , r = n.$data.data.normMax
                                  , i = n.$data.data.min
                                  , o = n.$data.data.max
                                  , a = Math.abs(t.Position_Equivalent_MV);
                                return Math.ceil(e + (a - i) * (r - e) / (o - i))
                            },
                            nodeTemplate: t
                        }
                    }
                }
            }
        }
    }
}
),
define("app/fund/bindings/CPSummaryBindings", ["scalejs.sandbox!fund", "knockout", "app/fund/bindings/fundBindings"], function(t, n, e) {
    "use strict";
    var r = (n.isObservable,
    t.state.raise);
    return {
        details_shown: function(t) {
            return {
                css: {
                    shown: this.details()
                }
            }
        },
        tile_detail: function(t) {
            return {
                template: {
                    name: "CPTileDetail_template",
                    data: this.details()
                }
            }
        },
        table_row_info: function(t) {
            var n = function() {
                return t.$parent.details() && t.$parent.details().data === this
            }
            .bind(this);
            return {
                hmpress: {
                    time: 50,
                    handler: function(e) {
                        n() ? t.$parent.details(null ) : t.$parent.details({
                            columns: t.$parent.tileColumns.tileColumns,
                            wireColumns: t.$parent.tileColumns.wireColumns,
                            data: this
                        })
                    }
                },
                css: {
                    selected: n()
                }
            }
        },
        table_treemap_node_info: function(t) {
            var n = function() {
                return t.$root.drillVM().details() && t.$root.drillVM().details().data === this
            }
            .bind(this);
            return {
                hmpress: {
                    time: 50,
                    handler: function(e) {
                        n() ? t.$root.drillVM().details(null ) : t.$root.drillVM().details({
                            columns: t.$root.drillVM().tileColumns.tileColumns,
                            wireColumns: t.$root.drillVM().tileColumns.wireColumns,
                            data: this
                        })
                    }
                },
                css: {
                    selected: n()
                }
            }
        },
        summary_table_row: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function(n) {
                        "fa" !== n.target.className.substr(0, 2) && r("counterparty.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: this.Counter_Party,
                            cpSummary: t.$parent
                        })
                    }
                }
            }
        },
        summary_treemap_node: function(t) {
            return {
                "if": this.Position_Equivalent_MV,
                css: {
                    positive: this.Position_Equivalent_MV > 0,
                    negative: this.Position_Equivalent_MV < 0
                },
                hmpress: {
                    time: 50,
                    handler: function(n) {
                        "fa" !== n.target.className.substr(0, 2) && this.Counter_Party && r("counterparty.selected", {
                            date: t.$root.drillVM().date,
                            fund: t.$root.drillVM().fund,
                            counterparty: this.Counter_Party,
                            cpSummary: t.$root.drillVM()
                        })
                    }
                }
            }
        },
        summary_treemap: e.treemap("CPSummary_treemap_node_template")
    }
}
),
define("app/fund/bindings/CPTileDetailBindings", ["scalejs.sandbox!fund", "knockout"], function(t, n) {
    "use strict";
    var e = n.isObservable
      , r = t.state.raise;
    return {
        details_confirm: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        r("confirm.clicked", this.data)
                    }
                }
            }
        },
        details_close: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        t.$parent.details(null )
                    }
                }
            }
        },
        details_value: function(t) {
            var n;
            return n = this.hasOwnProperty("calc") && "function" == typeof this.calc ? this.calc(t.$parent.data) : t.$parent.data[this.id],
            e(n) && (n = n()),
            this.format && _.isFunction(this.format) && (n = this.format(n)),
            {
                text: n,
                css: this.id
            }
        },
        details_confirm_input: function(t) {
            return {
                textInput: this.data.CollateralPosted
            }
        }
    }
}
),
define("app/fund/bindings/CPCounterpartyBindings", ["scalejs.sandbox!fund", "knockout", "app/fund/bindings/fundBindings"], function(t, n, e) {
    "use strict";
    var r = (n.isObservable,
    t.state.raise);
    return {
        counterparty_cp_tab: function(t) {
            return {
                text: this.Counter_Party_FullName,
                css: {
                    selected: this.Counter_Party === t.$parent.counterparty
                },
                hmpress: {
                    time: 0,
                    handler: function() {
                        r("counterparty.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: this.Counter_Party,
                            cpSummary: t.$parent.cpSummary
                        })
                    }
                }
            }
        },
        counterparty_table_row: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        r("product.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: this.Counter_Party,
                            product: this.Instrument_Type,
                            cpSummary: t.$parent.cpSummary,
                            cpCounterparty: t.$parent
                        })
                    }
                }
            }
        },
        counterparty_treemap_node: function(t) {
            return {
                css: {
                    positive: this.Position_Equivalent_MV > 0,
                    negative: this.Position_Equivalent_MV < 0
                },
                hmpress: {
                    time: 50,
                    handler: function(n) {
                        r("product.selected", {
                            date: t.$root.drillVM().date,
                            fund: t.$root.drillVM().fund,
                            counterparty: this.Counter_Party,
                            product: this.Instrument_Type,
                            cpSummary: t.$root.drillVM().cpSummary,
                            cpCounterparty: t.$root.drillVM()
                        })
                    }
                }
            }
        },
        counterparty_treemap: e.treemap("CPCounterparty_treemap_node_template")
    }
}
),
define("app/fund/bindings/CPProductBindings", ["scalejs.sandbox!fund", "knockout", "app/fund/bindings/fundBindings"], function(t, n, e) {
    "use strict";
    var r = (n.isObservable,
    t.state.raise);
    return {
        product_product_tab: function(t) {
            return {
                text: this.Inst_Type_Name,
                css: {
                    selected: this.Instrument_Type === t.$parent.product
                },
                hmpress: {
                    time: 0,
                    handler: function() {
                        r("product.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: t.$parent.cpCounterparty.counterparty,
                            product: this.Instrument_Type,
                            cpSummary: t.$parent.cpSummary,
                            cpCounterparty: t.$parent.cpCounterparty
                        })
                    }
                }
            }
        },
        product_cp_tab: function(t) {
            return {
                text: this.Counter_Party_FullName,
                css: {
                    selected: this.Counter_Party === t.$parent.cpCounterparty.counterparty
                },
                hmpress: {
                    time: 0,
                    handler: function() {
                        r("counterparty.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: this.Counter_Party,
                            cpSummary: t.$parent.cpSummary
                        })
                    }
                }
            }
        },
        product_table_row: function(t) {
            return {
                hmpress: {
                    time: 50,
                    handler: function() {
                        r("instrument.selected", {
                            date: t.$parent.date,
                            fund: t.$parent.fund,
                            counterparty: this.Counter_Party,
                            product: this.Instrument_Type,
                            instrument: this.Instrument_Name,
                            cpSummary: t.$parent.cpSummary,
                            cpCounterparty: t.$parent.cpCounterparty,
                            cpProduct: t.$parent
                        })
                    }
                }
            }
        },
        product_treemap_node: function(t) {
            return {
                css: {
                    positive: this.Position_Equivalent_MV > 0,
                    negative: this.Position_Equivalent_MV < 0
                },
                hmpress: {
                    time: 50,
                    handler: function(n) {
                        r("instrument.selected", {
                            date: t.$root.drillVM().date,
                            fund: t.$root.drillVM().fund,
                            counterparty: this.Counter_Party,
                            product: this.Instrument_Type,
                            instrument: this.Instrument_Name,
                            cpSummary: t.$root.drillVM().cpSummary,
                            cpCounterparty: t.$root.drillVM().cpCounterparty,
                            cpProduct: t.$root.drillVM()
                        })
                    }
                }
            }
        },
        product_treemap: e.treemap("CPProduct_treemap_node_template")
    }
}
),
define("app/fund/bindings/tableBindings", ["scalejs.sandbox!fund", "knockout"], function(t, n) {
    "use strict";
    var e = n.isObservable;
    t.state.raise;
    return {
        table_column_cell: function(t) {
            return {
                text: this.tag,
                css: this.id
            }
        },
        table_list_cell: function(t) {
            var n;
            return n = this.hasOwnProperty("calc") && "function" == typeof this.calc ? this.calc(t.$parent) : t.$parent[this.id],
            e(n) && (n = n()),
            this.format && _.isFunction(this.format) && (n = this.format(n)),
            {
                text: n,
                css: this.id
            }
        },
        table_total_cell: function(n) {
            var r = "";
            if (this.hasOwnProperty("total") && !this.total)
                return {
                    text: "",
                    css: this.id
                };
            if (this.hasOwnProperty("total_tag"))
                r = this.total_tag;
            else {
                var i = t.linq.enumerable.from(n.$parent.data());
                r = i.select(function(n) {
                    if (this.hasOwnProperty("calc") && "function" == typeof this.calc)
                        return this.calc(n);
                    if (e(n[this.id])) {
                        var r = n[this.id]();
                        return "string" == typeof r ? t.formattedNumber.removeDelimiters(r) : r
                    }
                    return n[this.id]
                }
                .bind(this)).sum(),
                this.format && _.isFunction(this.format) && (r = this.format(r))
            }
            return {
                text: r,
                css: this.id
            }
        }
    }
}
),
define("text!app/fund/views/fund.html", [], function() {
    return '<div id="fund_header_template">\n    <span data-class="fund_header">\n        <span class="title" data-class="fund_header_title"></span>\n        <span class="collateral">\n            <span class="ref">Collateral Posted</span>\n            <span class="posted" data-class="fund_header_collateral"></span>\n        </span>\n    </span>\n</div>\n\n<div id="fund_template">\n    <div id="fund">\n        <section data-class="drill_level"></section>\n    </div>\n</div>\n\n<div id="openfin_fund_template">\n    <!-- ko template: "window_header_template" --><!-- /ko -->\n    <div id="main" class="openfin">\n        <div id="message" data-bind="render: message"></div>\n        <section class="page">\n            <header>\n                <div id="content-header" class="content-header openfin">\n                    <header data-bind="template: \'fund_header_template\'"></header>\n               </div>\n            </header>\n            <section class="container" data-class="display_container">\n                <div class="content" >\n                    <section data-bind="template: \'fund_template\'"></section>\n                </div>\n            </section>\n        </section>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPSummary/CPSummary.html", [], function() {
    return '<div id="CPSummary_template">\n    <div data-class="details_shown" id="CPSummary">\n        <div class="table">\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <div class="placeholder"></div>\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="summary_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <i data-class="table_row_info" class="fa fa-info btn-icon horizontal"></i>\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <div class="placeholder"></div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <!-- ko class: tile_detail -->\n        <!-- /ko -->\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPSummary/CPSummary_tile.html", [], function() {
    return '<div id="CPSummary_tile_template">\n    <div data-class="details_shown" id="CPSummary">\n        <div class="table">\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <div class="placeholder"></div>\n                    </li>\n                </ul>\n            </div>\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <div class="placeholder"></div>\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="summary_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <i data-class="table_row_info" class="fa fa-info btn-icon horizontal"></i>\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n        </div>\n        <!-- ko class: tile_detail -->\n        <!-- /ko -->\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPSummary/CPSummary_treemap.html", [], function() {
    return '<div id="CPSummary_treemap_node_template">\n    <div data-class="summary_treemap_node" class="content">\n        <header>\n            <i data-class="table_treemap_node_info" class="fa fa-info btn-icon horizontal"></i>\n        </header>\n        <section>\n            <div class="name" data-bind="text: Counter_Party_FullName"></div>\n            <div class="value" data-class="treemap_node_value"></div>\n        </section>\n    </div>\n</div>\n\n<div id="CPSummary_treemap_template">\n    <div data-class="details_shown" id="CPSummary">\n        <div class="treemap" data-class="summary_treemap"></div>\n        <!-- ko class: tile_detail -->\n        <!-- /ko -->\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPSummary/CPTileDetail.html", [], function() {
    return '<div id="CPTileDetail_template">\n    <div id="CPTileDetail">\n        <i class="fa fa-times" data-class="details_close"></i>\n        <!-- ko if: $data -->\n            <!-- ko foreach: columns -->\n                <div>\n                    <span data-bind="text: $data.tag"></span>\n                    <span data-class="details_value"></span>\n                </div>\n            <!-- /ko -->\n            <h2>Wire Instructions</h2>\n            <!-- ko foreach: wireColumns -->\n                <div>\n                    <span data-bind="text: $data.tag"></span>\n                    <span data-class="details_value"></span>\n                </div>\n            <!-- /ko -->\n            <div>\n                <span>Update Agt. Call/Return</span>\n                <span><input type="text" pattern="-?(?:\\d{1,3},?)*" onClick="this.setSelectionRange(0, this.value.length)" data-class="details_confirm_input"></input></span>\n            </div>\n            <div class="options">\n                <a class="fa fa-phone btn-icon horizontal" href="facetime:user@example.com"></a>\n                <a class="fa fa-check btn-icon horizontal" data-class="details_confirm"></a>\n            </div>\n        <!-- /ko -->\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPSummary/CPSummaryConfirmModal.html", [], function() {
    return '<div id="CPSummary_fund_confirm_modal_template">\n    <div class="cp_summary_confirm_modal">\n        <section>\n            <div>\n                <span data-bind="text: $data.data.ABA"></span>\n                <span>ABA</span>\n            </div>\n            <div>\n                <span data-bind="text: $data.data.Account"></span>\n                <span>Account</span>\n            </div>\n            <div>\n                <span data-bind="text: $data.data.FundAcct"></span>\n                <span>FundAcct</span>\n            </div>\n            <div>\n                <span data-bind="text: $data.data.FundName"></span>\n                <span>FundName</span>\n            </div>\n            <div>\n                <span data-bind="text: $data.data.CollateralPosted"></span>\n                <span>Update Agt. Call/Return</span>\n            </div>\n        </section>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPCounterparty/CPCounterparty.html", [], function() {
    return '<div id="CPCounterparty_template">\n    <div id="CPCounterparty">\n        <div class="counterparties" data-bind="foreach: cpSummary.data">\n            <div class="value btn horizontal" data-class="counterparty_cp_tab"></div>\n        </div>\n\n        <div class="table">\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="counterparty_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <!--<a class="fa fa-phone" href="facetime:user@example.com"></a>-->\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPCounterparty/CPCounterparty_tile.html", [], function() {
    return '<div id="CPCounterparty_tile_template">\n    <div id="CPCounterparty">\n        <div class="counterparties" data-bind="foreach: cpSummary.data">\n            <div class="value btn horizontal" data-class="counterparty_cp_tab"></div>\n        </div>\n\n        <div class="table">\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="counterparty_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <!--<a class="fa fa-phone" href="facetime:user@example.com"></a>-->\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPCounterparty/CPCounterparty_treemap.html", [], function() {
    return '<div id="CPCounterparty_treemap_node_template">\n    <div data-class="counterparty_treemap_node" class="content">\n        <section>\n            <div class="name" data-bind="text: $data.Inst_Type_Name"></div>\n            <div class="value" data-class="treemap_node_value"></div>\n        </section>\n    </div>\n</div>\n\n<div id="CPCounterparty_treemap_template">\n    <div id="CPCounterparty">\n        <div class="counterparties" data-bind="foreach: cpSummary.data">\n            <div class="value btn horizontal" data-class="counterparty_cp_tab"></div>\n        </div>\n        <div class="treemap" data-class="counterparty_treemap">\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPProduct/CPProduct.html", [], function() {
    return '<div id="CPProduct_template">\n    <div id="CPProduct">\n        <div id="CPCounterparty">\n            <div class="counterparties" data-bind="foreach: cpSummary.data">\n                <div class="value btn horizontal" data-class="product_cp_tab"></div>\n            </div>\n        </div>\n        <ul class="opts-list">\n            <li>\n                <!-- ko foreach: instruments -->\n                    <div class="value btn horizontal" data-class="product_product_tab"></div>\n                <!-- /ko -->\n            </li>\n        </ul>\n        <div class="table">\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="product_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <!--<a class="fa fa-phone" href="facetime:user@example.com"></a>-->\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPProduct/CPProduct_tile.html", [], function() {
    return '<div id="CPProduct_tile_template">\n    <div id="CPProduct">\n        <div id="CPCounterparty">\n            <div class="counterparties" data-bind="foreach: cpSummary.data">\n                <div class="value btn horizontal" data-class="product_cp_tab"></div>\n            </div>\n        </div>\n        <ul class="opts-list">\n            <li>\n                <!-- ko foreach: instruments -->\n                    <div class="value btn horizontal" data-class="product_product_tab"></div>\n                <!-- /ko -->\n            </li>\n        </ul>\n        <div class="table">\n            <div class="table-footer">\n                <ul class="table-total">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="tile-name" data-class="table_column_cell"></div>\n                        <div class="value" data-class="table_total_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-header">\n                <ul class="table-columns">\n                    <li class="table-row">\n                        <!-- ko foreach: columns -->\n                        <div class="value" data-class="table_column_cell"></div>\n                        <!-- /ko -->\n                        <!--<div class="call"></div>-->\n                    </li>\n                </ul>\n            </div>\n            <div class="table-list">\n                <ul class="list">\n                    <!-- ko foreach: data -->\n                    <li class="table-row" data-class="product_table_row">\n                        <!-- ko foreach: $parent.columns -->\n                            <div class="tile-name" data-class="table_column_cell"></div>\n                            <div class="value" data-class="table_list_cell"></div>\n                        <!-- /ko -->\n                        <!--<a class="fa fa-phone" href="facetime:user@example.com"></a>-->\n                    </li>\n                    <!-- /ko -->\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPProduct/CPProduct_treemap.html", [], function() {
    return '<div id="CPProduct_treemap_node_template">\n    <div data-class="product_treemap_node" class="content">\n        <section>\n            <div class="name" data-bind="text: $data.Instrument_Name"></div>\n            <div class="value" data-class="treemap_node_value"></div>\n        </section>\n    </div>\n</div>\n\n<div id="CPProduct_treemap_template">\n    <div id="CPProduct">\n        <div id="CPCounterparty">\n            <div class="counterparties" data-bind="foreach: cpSummary.data">\n                <div class="value btn horizontal" data-class="product_cp_tab"></div>\n            </div>\n        </div>\n        <ul class="opts-list">\n            <li>\n                <!-- ko foreach: instruments -->\n                    <div class="value btn horizontal" data-class="product_product_tab"></div>\n                <!-- /ko -->\n            </li>\n        </ul>\n        <div class="treemap" data-class="product_treemap">\n    </div>\n</div>\n'
}
),
define("text!app/fund/views/CPProduct/CPTradeDetail.html", [], function() {
    return '<div id="CPTradeDetail_template">\n    <div id="CPTradeDetail">\n        <!-- <header>\n            <h1>Trade Details</h1>\n        </header> -->\n        <section>\n            <div class="table">\n                <div class="table-header">\n                    <ul class="table-columns">\n                        <li class="table-row">\n                            <!-- ko foreach: columns -->\n                            <div class="value" data-class="table_column_cell"></div>\n                            <!-- /ko -->\n                        </li>\n                    </ul>\n                </div>\n                <div class="table-list">\n                    <ul class="list">\n                        <!-- ko foreach: data -->\n                        <li class="table-row">\n                            <!-- ko foreach: $parent.columns -->\n                                <div class="value" data-class="table_list_cell"></div>\n                            <!-- /ko -->\n                        </li>\n                        <!-- /ko -->\n                    </ul>\n                </div>\n                <div class="table-footer">\n                    <ul class="table-total">\n                        <li class="table-row">\n                            <!-- ko foreach: columns -->\n                            <div class="value" data-class="table_total_cell"></div>\n                            <!-- /ko -->\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </section>\n    </div>\n</div>\n'
}
),
define("scalejs.styles-less!app/fund/styles/fund", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPSummary", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPTileDetail", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPSummaryConfirmModal", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPCounterparty", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPProduct", [], function() {}
),
define("scalejs.styles-less!app/fund/styles/CPTradeDetail", [], function() {}
),
define("app/fund/fundModule", ["scalejs.sandbox!fund", "app/fund/viewmodels/fundViewModel", "bindings!fund", "bindings!CPSummaryBindings", "bindings!CPTileDetailBindings", "bindings!CPCounterpartyBindings", "bindings!CPProductBindings", "bindings!tableBindings", "views!fund", "views!./views/CPSummary/CPSummary", "views!./views/CPSummary/CPSummary_tile", "views!./views/CPSummary/CPSummary_treemap", "views!./views/CPSummary/CPTileDetail", "views!./views/CPSummary/CPSummaryConfirmModal", "views!./views/CPCounterparty/CPCounterparty", "views!./views/CPCounterparty/CPCounterparty_tile", "views!./views/CPCounterparty/CPCounterparty_treemap", "views!./views/CPProduct/CPProduct", "views!./views/CPProduct/CPProduct_tile", "views!./views/CPProduct/CPProduct_treemap", "views!./views/CPProduct/CPTradeDetail", "styles!./styles/fund", "styles!./styles/CPSummary", "styles!./styles/CPTileDetail", "styles!./styles/CPSummaryConfirmModal", "styles!./styles/CPCounterparty", "styles!./styles/CPProduct", "styles!./styles/CPTradeDetail"], function(t, n) {
    "use strict";
    return function e() {
        function r(t, e, r) {
            if (!t || t.fund !== r.data.fund || t.date !== r.data.date) {
                var i = {};
                i.FundNameTicker = r.data.fund;
                var o = _.chain(e).where(i).first().value();
                t = d.hasOwnProperty(r.data.fund) ? d[r.data.fund].update(o, r.data.date, this.display) : n(o, r.data.date, this.display)
            }
            return d[r.data.fund] = t,
            p && !t.hasOwnProperty("message") && (t.message = f()),
            t
        }
        var e, i = (t.mvvm.root,
        t.mvvm.template), o = t.state.registerStates, a = (t.state.builder["goto"],
        t.state.builder.gotoInternally), u = t.state.builder.on, s = (t.routing.routerState,
        t.routing.route,
        t.state.builder.state), c = t.state.raise, l = t.state.builder.onEntry, f = t.mvvm.observable, d = {}, p = "undefined" != typeof fin;
        o("main", s("fund", s("fund.waiting", l(function() {
            e = null 
        }
        ), u("fund.selected", a("fund.summary"))), s("fund.summary", l(function(n) {
            if (n.data.date = this.valueDate,
            this.isOpenFin)
                if ("date.changed" === n.name) {
                    for (var o in d)
                        if (d.hasOwnProperty(o)) {
                            var a = d[o];
                            a.summary({
                                date: a.date,
                                fund: a.fund
                            })
                        }
                } else if (e = r.apply(this, [e, this.funds(), n]),
                e.summary(n.data),
                this.region(i("fund_template", e)),
                this.header(i("fund_header_template", e)),
                e.hasOwnProperty("wndw"))
                    e.wndw.show(),
                    e.wndw.bringToFront(),
                    e.wndw.focus();
                else {
                    var u = t.windowFactory.createWindow({
                        name: "Collateral Details" + e.fund,
                        url: window.baseUrl + "/details.html",
                        defaultWidth: 1140,
                        defaultHeight: 550,
                        renderable: i("openfin_fund_template", e)
                    });
                    u.onReady(function() {
                        u.show()
                    }
                    ),
                    e.wndw = u
                }
            else
                e = r.apply(this, [e, this.funds(), n]),
                e.summary(n.data),
                this.region(i("fund_template", e)),
                this.header(i("fund_header_template", e));
            console.log("summary", n.data)
        }
        ), u("fund.changed", a("fund.summary")), u("date.changed", a("fund.summary")), u("counterparty.selected", a("fund.counterparty")), u("confirm.clicked", a("fund.confirm"))), s("fund.confirm", s("fund.confirm.waiting", l(function(t) {
            t.data.fund = t.data.FundNameTicker,
            t.data.date = this.valueDate,
            e = r.apply(this, [e, this.funds(), t]),
            c("message.show", {
                title: "Please Confirm: " + t.data.Counter_Party_FullName,
                "class": "CPSummary_fund_confirm",
                region: i("CPSummary_fund_confirm_modal_template", {
                    columns: e.cpSummary.columns,
                    data: t.data
                }),
                buttons: ["OK", "Cancel"],
                fundvm: e
            })
        }
        ), u("message.OK", a("fund.post")), u("message.Cancel", a("fund.summary")), u("message.close", a("fund.summary"))), u("fund.changed", a("fund.summary")), u("date.changed", a("fund.summary")), u("counterparty.selected", a("fund.counterparty")), u("confirm.clicked", a("fund.confirm"))), s("fund.post", l(function(t) {
            e.postChanges(t.data)
        }
        ), s("fund.post.waiting", l(function(t) {
            console.log("fund.post.waiting", t)
        }
        ), u("post.complete", a("fund.summary")))), s("fund.counterparty", l(function(t) {
            t.data.date = this.valueDate,
            e = r.apply(this, [e, this.funds(), t]),
            e.drill1(t.data),
            console.log("counterparty", t.data)
        }
        ), u("fund.changed", a("fund.summary")), u("date.changed", a("fund.summary")), u("counterparty.selected", a("fund.counterparty")), u("product.selected", a("fund.product")), u("fund.back", a("fund.summary")), u("confirm.clicked", a("fund.confirm")), u("fund.reset", a("fund.summary"))), s("fund.product", l(function(t) {
            t.data.date = this.valueDate,
            e = r.apply(this, [e, this.funds(), t]),
            e.drill2(t.data),
            console.log("product", t.data)
        }
        ), s("fund.product.summary", u("instrument.selected", a("fund.product.tradedetail"))), s("fund.product.tradedetail", l(function(t) {
            var n = e.getTradeDetail(t.data);
            c("message.show", {
                title: "Trade Details: " + n.getUniqueKey(),
                "class": "CPProduct_tradedetail",
                region: i(n.template, n),
                fundvm: e,
                close: !0,
                popout: !0
            })
        }
        ), u("message.OK", a("fund.product.summary")), u("message.close", a("fund.product.summary"))), u("fund.changed", a("fund.summary")), u("date.changed", a("fund.summary")), u("counterparty.selected", a("fund.counterparty")), u("product.selected", a("fund.product")), u("instrument.selected", a("fund.product.tradedetail")), u("fund.back", a("fund.counterparty")), u("confirm.clicked", a("fund.confirm")), u("fund.reset", a("fund.summary"))), u("message.OK", a("fund.post"))))
    }
}
),
define("app/openfin/viewmodels/openfinVM", ["scalejs.sandbox!main", "underscore"], function(t, n) {
    "use strict";
    return function() {
        var e = (t.mvvm.observable,
        t.mvvm.computed,
        t.state.raise,
        function(t) {
            var e = fin.desktop.Application.getCurrent();
            e.getChildWindows(function(e) {
                e = n.filter(e, function(e) {
                    return !n.contains(t, e)
                }
                ),
                e.forEach(function(t) {
                    t.updateOptions({
                        opacity: 0
                    }),
                    t.show(),
                    t.animate({
                        opacity: {
                            opacity: 1,
                            duration: 1e3
                        }
                    })
                }
                )
            }
            )
        }
        )
          , r = function() {
            var t = fin.desktop.Application.getCurrent();
            t.getChildWindows(function(t) {
                t.forEach(function(t) {
                    t.isShowing(function(n) {
                        n && (t.updateOptions({
                            opacity: 1
                        }),
                        t.hide(),
                        t.animate({
                            opacity: {
                                opacity: 0,
                                duration: 1e3
                            }
                        }, function() {
                            console.log("Done"),
                            t.hide()
                        }
                        ))
                    }
                    )
                }
                )
            }
            )
        }
          , i = function(e) {
            var r = (fin.desktop.Application.getCurrent(),
            t.windowFactory.getChildren())
              , i = r.shift();
            r = n.filter(r, function(t) {
                return !n.some(e, function(n) {
                    return n.name === t.name
                }
                )
            }
            ),
            r = n.filter(r, function(t) {
                return !t._hidden
            }
            ),
            r.push(i);
            var o = [];
            r.forEach(function(n) {
                o.push(t.reactive.Observable.create(function(t) {
                    n.getBounds(function(e) {
                        n.w = e.width,
                        n.h = e.height,
                        t.onCompleted()
                    }
                    )
                }
                ))
            }
            ),
            t.reactive.Observable.merge(o).subscribe(n.noop, n.noop, function() {
                var n = t.windowFactory.monitorInfo.primaryMonitor.availableRect
                  , e = n.right - n.left
                  , o = n.bottom - n.top
                  , a = 0
                  , u = 0;
                i = r.pop(),
                i.w > i.h ? (o -= i.h,
                a = i.h) : (e -= i.w,
                u = i.w),
                i.t = 0,
                i.l = 0;
                var s = r.length
                  , c = Math.ceil(Math.sqrt(s))
                  , l = Math.ceil(s / c);
                console.log("calculated for tiling: rows: " + l + "; cols: " + c);
                var f = Math.floor(e / c)
                  , d = Math.floor(o / l);
                console.log("screenWidth: " + e + "; screenHeight: " + o),
                console.log("windowWidth: " + f + "; windowHeight: " + d);
                for (var p = 0; s > p; p += 1) {
                    var h = Math.floor(p / c)
                      , m = p % c;
                    r[p].w = f,
                    r[p].h = d,
                    r[p].t = a + d * h,
                    r[p].l = u + f * m
                }
                r.push(i),
                r.forEach(function(t) {
                    t.updateOptions({
                        opacity: 0
                    }),
                    t.show(),
                    t.animate({
                        opacity: {
                            opacity: 1,
                            duration: 75
                        },
                        size: {
                            width: t.w,
                            height: t.h,
                            duration: 150
                        },
                        position: {
                            left: t.l,
                            top: t.t,
                            duration: 150
                        }
                    })
                }
                )
            }
            )
        }
        ;
        return {
            showAllWindows: e,
            hideAllWindows: r,
            tileWindows: i
        }
    }
}
),
define("app/openfin/bindings/openfinBindings", ["scalejs.sandbox!main"], function(t) {
    "use strict";
    var n = t.state.raise;
    t.mvvm.template;
    return {
        context_menu_show_all: function(t) {
            return {
                click: function() {
                    this.openfinVM.showAllWindows([this.menuWndw]),
                    n("openfin.evt.restore"),
                    this.menuWndw.hide()
                }
            }
        },
        context_menu_exit: function(t) {
            return {
                click: function() {
                    var t = fin.desktop.Application.getCurrent();
                    t.close()
                }
            }
        },
        context_menu_hide_all: function(t) {
            return {
                click: function() {
                    this.openfinVM.hideAllWindows(),
                    n("openfin.evt.minimize"),
                    this.menuWndw.hide()
                }
            }
        },
        context_menu_restore: function(t) {
            return {
                click: function() {
                    n("openfin.evt.restore"),
                    this.menuWndw.hide()
                }
            }
        },
        context_menu_tile: function(t) {
            return {
                click: function() {
                    n("openfin.evt.hdock"),
                    this.openfinVM.tileWindows([this.menuWndw]),
                    n("openfin.evt.restore"),
                    this.menuWndw.hide()
                }
            }
        },
        ofin_header_maximize: function(t) {
            return {
                click: function() {
                    this.wndw.undock(),
                    this.wndw.maximize()
                }
            }
        },
        ofin_header_minimize: function(t) {
            return {
                click: function() {
                    this.wndw.undock(),
                    this.hasOwnProperty("mainWindow") ? n("openfin.evt.minimize") : this.wndw.minimize()
                }
            }
        },
        ofin_header_close: function(t) {
            return {
                click: function() {
                    var t = fin.desktop.Application.getCurrent();
                    this.hasOwnProperty("mainWindow") ? t.close() : 0 === this.wndw.name.indexOf("Message") ? this.wndw.close(!0, function() {
                        console.log("close succeeded")
                    }
                    , function() {
                        console.log("close failed")
                    }
                    ) : this.wndw.hide()
                }
            }
        },
        ofin_header_unlink: function(t) {
            return {
                css: {
                    hide: !(this.wndw && this.wndw.isDocked())
                },
                click: function() {
                    fin.desktop.Application.getCurrent();
                    this.wndw.undock()
                }
            }
        }
    }
}
),
define("text!app/openfin/views/openfin.html", [], function() {
    return '<div id="window_header_template">\n    <header id="windowHeader" class="ui-draggable">\n        <i class="fa fa-close" data-class="ofin_header_close"></i>\n        <i class="fa fa-unlink"data-class="ofin_header_unlink"></i>\n        <i class="fa fa-minus" data-class="ofin_header_minimize"></i>\n        <i class="fa fa-square-o" data-class="ofin_header_maximize"></i>\n    </header>\n</div>\n\n<div id="openfin_main_template">\n    <!-- ko template: "window_header_template" --><!-- /ko -->\n    <div id="main" class="openfin" data-class="main_panel" class="ui-draggable openfin">\n        \n        <header id="logo" class="logo openfin">\n            <a target="_blank" href="http://www.eikospartners.com" class="eikos-logo"></a>\n            <a target="_blank" href="http://www.eikospartners.com" class="company-name">EIKOS PARTNERS</a>\n        </header>\n        \n        <section>\n            <select id="datepicker" class="datepicker openfin" data-class="sidebar_datepicker">\n                <option data-class="sidebar_datepicker_date"></option>\n            </select>\n            <div id="display-options" class="display-options openfin" data-bind="foreach: display_options">\n                <i data-class="display_option"></i>\n            </div>\n        </section>\n        \n        <nav id="sidebar" class="sidebar openfin">\n            <!-- ko foreach: funds -->\n            <div class="tile btn vertical" data-class="sidebar_tile">\n                <i data-class="sidebar_tile_icon"></i>\n                <div class="name" data-class="sidebar_tile_name"></div>\n                <div class="value" data-class="sidebar_tile_value"></div>\n            </div>\n            <!-- /ko -->\n        </nav>\n    </div>\n</div>\n\n<div id="systray_menu_template">\n    <div id="context-menu-container">\n        <ul id="context-menu">\n            <li class="context-menu-option" data-class="context_menu_restore"> \n                Restore\n            </li>\n             <li class="context-menu-option" data-class="context_menu_show_all"> \n                Show All Windows\n            </li>\n            <li class="context-menu-option" data-class="context_menu_hide_all">\n                Hide All Windows\n            </li>\n            <li class="context-menu-option" data-class="context_menu_tile">\n                Tile Windows\n            </li>\n            <hr/>\n            <li class="context-menu-option" data-class="context_menu_exit">\n                Exit\n            </li>\n        </ul>\n    </div>\n</div>\n'
}
),
define("app/openfin/openfinModule", ["scalejs.sandbox!main", "app/openfin/viewmodels/openfinVM", "knockout", "bindings!openfin", "views!openfin", "styles!../main/styles/main"], function(t, n, e) {
    "use strict";
    return function() {
        var r = t.mvvm.root
          , i = t.mvvm.template
          , o = t.state.registerStates
          , a = (t.routing.routerState,
        t.routing.route,
        t.state.builder.gotoInternally)
          , u = t.state.builder.on
          , s = t.state.raise
          , c = t.state.builder.state
          , l = (t.state.builder.parallel,
        t.state.builder.onEntry)
          , f = n(t)
          , d = "undefined" != typeof fin
          , p = 106
          , h = function(n) {
            n.vertSnap = p,
            n.addEventListener("snap-to-edge", function(e) {
                var r = t.windowFactory.monitorInfo.primaryMonitor.availableRect;
                n.isDocked() || (e.y <= p || e.y >= r.bottom - p) && s("openfin.evt.hdock")
            }
            ),
            n.addEventListener("unsnap-from-edge", function(t) {
                n.movedSinceDragStart = !0,
                s("openfin.evt.undock")
            }
            )
        }
          , m = function(t) {
            t.show(),
            t.bringToFront(),
            t.focus()
        }
          , v = function(n, r) {
            var o = t.windowFactory.createWindow({
                name: "SystemTrayMenu",
                url: window.baseUrl + "/details.html",
                defaultWidth: 120,
                defaultHeight: 120,
                cornerRounding: {
                    width: 0,
                    height: 0
                },
                fitToElement: "#context-menu-container",
                onRenderable: function(t) {
                    var r = o.getNativeWindow();
                    r.document.documentElement.classList.remove("openfin");
                    var a = r.document.createComment(" ko render: $data")
                      , u = r.document.createComment(" /ko ");
                    t.appendChild(a),
                    t.appendChild(u),
                    e.applyBindings(i("systray_menu_template", n), t),
                    o._addEventListener("blurred", function() {
                        o.hide()
                    }
                    )
                }
            });
            n.menuWndw = o,
            fin.desktop.Application.getCurrent().setTrayIcon(window.baseUrl + "/img/logo.png", function(t) {
                0 === t.button ? s("openfin.evt.popup") : 2 === t.button && (fin.desktop.System.getMousePosition(function(t) {
                    var e = parseInt(t.left)
                      , r = parseInt(t.top)
                      , i = n.menuWndw.contentWindow;
                    n.menuWndw.moveTo(e, r - i.outerHeight),
                    n.menuWndw.updateOptions({
                        alwaysOnTop: !0
                    }),
                    n.menuWndw.show(),
                    n.menuWndw.focus()
                }
                ),
                console.log("right click")),
                console.log(arguments)
            }
            )
        }
          , g = function(t) {
            t.contentWindow.document.getElementById("main").classList.add("horizcp"),
            t.resizeTo(746, p, "top-left")
        }
        ;
        d && o("app", c("openfin", l(function() {
            var n = this.main
              , e = fin.desktop.Window.getCurrent();
            t.windowFactory.registerWindow(e),
            n.mainWindow = e,
            n.wndw = e,
            n.openfinVM = f,
            r(i("openfin_main_template", n)),
            e.contentWindow.document.documentElement.classList.add("openfin"),
            e.contentWindow.document.body.classList.add("openfin"),
            e.defineDraggableElements(e.defaultDraggableElements()),
            h(e),
            v(n, e)
        }
        ), c("openfin.undocked", l(function() {
            var t = this.main.mainWindow;
            t.resizeTo(300, 650, "top-left"),
            t.contentWindow.document.getElementById("main").classList.remove("horizcp"),
            t.restore(function() {
                m(t)
            }
            )
        }
        ), u("openfin.evt.minimize", a("openfin.minimized")), u("openfin.evt.popup", a("openfin.undocked")), u("openfin.evt.hdock", a("openfin.docked_horizontal"))), c("openfin.minimized", l(function() {
            var t = this.main;
            t.mainWindow.hide()
        }
        ), u("openfin.evt.restore", a("openfin.undocked")), u("openfin.evt.popup", a("openfin.popup"))), c("openfin.popup", l(function() {
            var n = this.main.mainWindow;
            g(n),
            n.restore(function() {
                m(n)
            }
            );
            var e = t.windowFactory.monitorInfo.primaryMonitor.availableRect;
            fin.desktop.System.getMousePosition(function(t) {
                var r = parseInt(t.left)
                  , i = (parseInt(t.top),
                n.contentWindow);
                n.moveTo(r - i.outerWidth, e.bottom - i.outerHeight)
            }
            )
        }
        ), u("fund.changed", a("openfin.minimized")), u("display.changed", a("openfin.minimized")), u("date.changed", a("openfin.minimized"))), c("openfin.docked_horizontal", l(function() {
            var n = this.main.mainWindow;
            g(n);
            t.windowFactory.monitorInfo.primaryMonitor.availableRect,
            n.getBoundingBox();
            n.restore(function() {
                m(n)
            }
            )
        }
        ), u("openfin.evt.undock", a("openfin.undocked")), u("openfin.evt.popup", a("openfin.undocked")), u("openfin.evt.minimize", a("openfin.minimized")))))
    }
}
),
define("scalejs.extensions", ["backend", "formattedNumber", "scalejs.mvvm", "scalejs.statechart-scion", "scalejs.reactive", "scalejs.routing-historyjs", "scalejs.visualization", "toolkit", "knockout.hammer", "openfin.windowFactory"], function() {
    return Array.prototype.slice(arguments)
}
),
define("scalejs.styles-less!app/app", [], function() {}
),
require(["scalejs!application/main,message,fund,openfin", "styles!app/app"], function(t) {
    "use strict";
    "undefined" != typeof fin ? fin.desktop.main(function() {
        t.run()
    }
    ) : t.run()
}
),
define("app/app", function() {}
),
requirejs({
    baseUrl: "src",
    config: {
        "scalejs.statechart-scion": {
            logStatesEnteredAndExited: !0
        }
    },
    scalejs: {
        extensions: ["backend", "formattedNumber", "scalejs.mvvm", "scalejs.statechart-scion", "scalejs.reactive", "scalejs.routing-historyjs", "scalejs.visualization", "toolkit", "knockout.hammer", "openfin.windowFactory"]
    },
    map: {
        "*": {
            sandbox: "scalejs.sandbox",
            bindings: "scalejs.mvvm.bindings",
            views: "scalejs.mvvm.views",
            styles: "scalejs.styles-less",
            less: "../bower_components/less/dist/less-1.5.0"
        }
    },
    paths: {
        almond: "../bower_components/almond/almond",
        backend: "extensions/backend",
        requirejs: "../bower_components/requirejs/require",
        scalejs: "../bower_components/scalejs/dist/scalejs.min",
        linqjs: "../bower_components/linqjs/linq",
        "scalejs.mvvm": "../bower_components/scalejs.mvvm/dist/scalejs.mvvm",
        "scalejs.mvvm.views": "../bower_components/scalejs.mvvm/dist/scalejs.mvvm",
        "scalejs.mvvm.bindings": "../bower_components/scalejs.mvvm/dist/scalejs.mvvm",
        knockout: "../bower_components/knockout/dist/knockout",
        "knockout.mapping": "../bower_components/knockout.mapping/knockout.mapping",
        "scalejs.functional": "../bower_components/scalejs.functional/dist/scalejs.functional.min",
        "scalejs.styles-less": "../bower_components/scalejs.styles-less/scalejs.styles",
        formattedNumber: "extensions/formattedNumber",
        underscore: "../bower_components/underscore/underscore",
        less: "../bower_components/less/dist/less-1.5.0",
        text: "../bower_components/text/text",
        toolkit: "extensions/toolkit",
        "scalejs.statechart-scion": "../bower_components/scalejs.statechart-scion/dist/scalejs.statechart-scion.min",
        "scalejs.reactive": "../bower_components/scalejs.reactive/dist/scalejs.reactive.min",
        "scalejs.routing-historyjs": "../bower_components/scalejs.routing-historyjs/dist/scalejs.routing-historyjs.min",
        "scalejs.linq-linqjs": "../bower_components/scalejs.linq-linqjs/dist/scalejs.linq-linqjs.min",
        "scion-ng": "../bower_components/scion-ng/lib/scion",
        "rx.all": "../bower_components/rxjs/dist/rx.all.min",
        "rx.all.compat": "../bower_components/rxjs/dist/rx.all.compat.min",
        rx: "../bower_components/rxjs/dist/rx.min",
        "rx.compat": "../bower_components/rxjs/dist/rx.compat.min",
        "rx.aggregates": "../bower_components/rxjs/dist/rx.aggregates.min",
        "rx.async": "../bower_components/rxjs/dist/rx.async.min",
        "rx.async.compat": "../bower_components/rxjs/dist/rx.async.compat.min",
        "rx.backpressure": "../bower_components/rxjs/dist/rx.backpressure.min",
        "rx.binding": "../bower_components/rxjs/dist/rx.binding.min",
        "rx.coincidence": "../bower_components/rxjs/dist/rx.coincidence.min",
        "rx.experimental": "../bower_components/rxjs/dist/rx.experimental.min",
        "rx.lite": "../bower_components/rxjs/dist/rx.lite.min",
        "rx.lite.compat": "../bower_components/rxjs/dist/rx.lite.compat.min",
        "rx.joinpatterns": "../bower_components/rxjs/dist/rx.joinpatterns.min",
        "rx.testing": "../bower_components/rxjs/dist/rx.testing.min",
        "rx.time": "../bower_components/rxjs/dist/rx.time.min",
        "rx.virtualtime": "../bower_components/rxjs/dist/rx.virtualtime.min",
        "less-builder": "../bower_components/scalejs.styles-less/less-builder",
        normalize: "../bower_components/scalejs.styles-less/normalize",
        history: "../bower_components/history/scripts/bundled-uncompressed/html5/native.history",
        "_scalejs.routing-historyjs": "../bower_components/_scalejs.routing-historyjs/dist/scalejs.routing-historyjs.min",
        hammer: "../bower_components/hammer.js/hammer",
        "knockout.hammer": "extensions/knockout.hammer",
        "openfin.windowFactory": "extensions/openfin.windowFactory",
        d3: "../bower_components/d3/d3",
        "scalejs.visualization": "../bower_components/scalejs.visualization/dist/scalejs.visualization",
        "scalejs.canvas": "../bower_components/scalejs.canvas/dist/scalejs.canvas",
        chai: "../bower_components/chai/chai",
        mocha: "../bower_components/mocha/mocha"
    },
    shim: {
        history: {
            exports: "History"
        },
        "scalejs.mvvm": {
            deps: ["knockout.mapping", "scalejs.functional"]
        }
    },
    packages: []
}),
define("../rjsconfig", function() {}
),
function(t) {
    var n = document
      , e = "appendChild"
      , r = "styleSheet"
      , i = n.createElement("style");
    i.type = "text/css",
    n.getElementsByTagName("head")[0][e](i),
    i[r] ? i[r].cssText = t : i[e](n.createTextNode(t))
}
('#windowHeader {\n  background-color: cadetblue;\n  overflow: auto;\n}\n#windowHeader > i {\n  float: right;\n  padding: 4px;\n}\n#windowHeader > i.hide {\n  display: none;\n}\n#context-menu-container {\n  display: inline-block;\n}\n#context-menu-container #context-menu {\n  background-color: white;\n  color: black;\n}\n#context-menu-container #context-menu > .context-menu-option {\n  padding: 5px 25px;\n  cursor: default;\n  white-space: nowrap;\n}\n#context-menu-container #context-menu > .context-menu-option:hover {\n  background-color: royalblue;\n  color: white;\n}\n#main {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n#main.openfin {\n  top: 20px;\n  height: calc(100% - 20px);\n  padding: 15px;\n}\n#main.openfin > section.page {\n  height: 100%;\n}\n#main.openfin > section.page > header {\n  margin-bottom: 10px;\n}\n#main.openfin.horizcp #logo {\n  display: inline;\n  margin: 0;\n  position: relative;\n  top: 0;\n}\n#main.openfin.horizcp #logo > a.company-name {\n  display: none;\n}\n#main.openfin.horizcp > section {\n  display: inline;\n  top: -21px;\n  left: -14px;\n  position: relative;\n}\n#main.openfin.horizcp > section #datepicker {\n  padding: 5px;\n}\n#main.openfin.horizcp > section #display-options {\n  display: inline;\n  top: 0;\n  margin-right: 0;\n  padding: 5px;\n}\n#main.openfin.horizcp #sidebar {\n  position: relative;\n  display: inline;\n  top: -21px;\n  padding: 0;\n  width: 100%;\n}\n#main.openfin.horizcp #sidebar > div.tile {\n  display: inline-block;\n  padding: 7px;\n  width: 80px;\n  margin: 2px;\n  height: inherit;\n}\n#main.openfin.horizcp #sidebar > div.tile > i {\n  font-size: 16px;\n  position: relative;\n}\n#main.openfin.horizcp #sidebar > div.tile > div.name {\n  display: inline;\n  position: relative;\n  top: -1px;\n  left: 3px;\n}\n#main.openfin.horizcp #sidebar > div.tile > div.value {\n  display: none;\n}\n#main.openfin.horizcp > footer {\n  display: none;\n}\n#main #datepicker {\n  position: absolute;\n  font-size: 22px;\n  left: auto;\n  right: 0;\n  text-align: right;\n  color: white;\n  text-decoration: none;\n}\n#main #datepicker > option {\n  background: #363d47;\n}\n#main #datepicker.openfin {\n  position: relative;\n}\n#main #logo {\n  padding: 5px;\n  max-width: calc(100% - 189px);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#main #logo.openfin {\n  max-width: initial;\n  padding-left: 0px;\n  margin: -10px -10px;\n}\n#main #logo > i {\n  position: relative;\n  top: -22px;\n  font-size: 26px;\n}\n#main #logo > .eikos-logo {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAFvCAYAAABacjALAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAAB3RJTUUH3wQBDgY1aPeLUAAACPFJREFUeNrt3MtN9FoQRlGMOhkSIP8xCXQ4hwFCYgCIFn5UfbVWAFe/7Trb1dCXba31BEB/z24BgKADIOgACDoAgg4g6AAIOgCCDoCgAwg6AIIOgKADIOgACDqAoAMg6AAIOgCCDiDoAAg6AIIOgKADCDoAgg6AoAMg6AAIOoCgAyDoAAg6AIIOIOgACDoAgg6AoAMIOgCCDoCgAyDoAAg6gKADIOgACDoAgg4g6AAIOgCCDoCgAyDoAIIOgKADIOgACDqAoAMg6AAIOgCCDiDoAAg6AIIOwE5ubgEPub8uNyHQy9vmJvS3reV8It6IvKAj5Ag7go6II+wIOmKOsPMN33IRczHHzNjQcSixrdvWbeiIOWYJQccBxEwh6Dh4mC1BB0DQsUFhxhB0HDTMGoKOAwaCDmCJEHQcLDB7l/L30HmM/zNQfCnL//rvkAo55iaEH7k4lA4lnrWg44DjmZ+8XCDotnMxR9QFHQcaM4Cg03w7B7Mp6NjMMAsIOjYgzCiC7qDYyLClI+g4uNjSBR0HBC97Myvo2M4xIwg6Nh3MLoKOzQuzIujYcMAMCzrVD4KNCzMj6DiYYEsXdBwALANmWtCxnWOGEHTbOZhtQSdu4G1WmCVBxwEEW7qgY9CxJCDoOHhYXhB0Aw79lgUzL+jYzjFjgo7tHMy+oNNkoG1O2NIFHQcMbOmCjkHGEuEsCDq2c8wegm47B2dC0LEhgRkUdGwi4GwIOgcNrM0IW7qg4wCBLV3QMahw/JLhrPzq5hY4OF50nuUp1yPGNnTb+dB7Mv2+uAfOjA3ddu6QhsYrYWO3pdvQbRo2UcyK+yHocway6/bmUM67X76FJeiIOe6beyHoBrHitTuIlhBnSdBpvp07fHT/ZCnoiBpmyP0QdINnO8eWjqA7CGKOZUnQMXCum47LiVkTdNu5mGOmBR1hA2dN0LGdgy19f/44l7AJgHlA0Dn18E7fzm1wM17SXniCbht17aNedF5u7s0P/AzdR2ufShBkQceAi7kXfKGZ9zIQdIfXS8yLDkFH2LzE+sxDtz9b/Oi1etEJurB5iZkHMyPo+GgtWr22847PSqgF3cbhur3oBr1sRV/QHRzXPTpatnRBxwAfGgbbuZfto7Mh9oLu4HiJedGZWUFH2AShzzz85fl0/tGL7VzQhc1LzDyYGUGn70dr0bKdp27pCLpBdd3RLzpfUxR0HBzXPThanqmgM3Dj8DVF2zmCbktFzIvfGzMt6GJuO6fIi26P5+MZCzq2VNs5CLrD67qp9qLzrAWd4C3VL0J7xM/X+RB0m4vgeNGZdUHHdk61edjzv+XZC7rtHNu5e42g+2gtWl50ZgBBd3hdt8iZNQTdhuK6RdcsCDqxG5OvKWbEzZYu6NhMBMWLzlkQdGznVJsHX2MUdAyv7TxoHvzoRdDF3HaOuJoRQWf6ZmQ790wQdIfXdXvRmRUE3eGtckBt52YSQXd4BcOLzllB0IXNwTQPV/xbzI6gC5tomQfPCkH30Vq0xNMMIegOr+sWKbMq6NisEE0EfVjYbOfmodt92evfaDkQdMTcpxYQdNuYcHnR2dIRdFuq6xYkMyzogDgi6A6v67ade6YIOnSKuSgi6LQKmGi5Lwg6RG/nXkoIuuHHLHhBIuiGF8/Piw1BBxHzkhN0BCjh0AsXgg620NjtHEEXB5ueTzpmGUHH4ffvBkEXCddtO/csEfT0g4loOUuC7hYMi4W/gS1cXnSCjoPh2YCg27hs6f1jbjt3hgTdJogXoFlF0B1WcRAtZwdBF5GTD2NyPG3nCLpD67pFy+wg6GLiuqv8O2znCLqNY+yPXszDjJibGUF3iG3pNlBnBEEXN59ORMuLDkF3mMdct2iZEQRdZFy37RxBt4nkHaiuMRMts4GgG+CAyPr2hhcdgu5geZGJuZkQdIecKi8yG6gzgKDb0k88xB2u23aOoNtQXLdomQEE3ZbuukXLjCHo7Q+9X5CKlmePoBtwm+OTb2940SHoDp7oibnlRdAx6HWiYwM14wi6Lb3QIa9w3bZzBJ3RG8zV1y1aZhtBt1m5bts5gs45UfALUtGynSPoDsCIzdK3N7zoEHQH04tMzC0ngo6DUCVKNlAzjKDb0htF4Izrtp0j6NhwLrxu0TK7CLrNK+C6/XzYjCDoEZuOX5DaQM+YDdu5oOOAHB4rG6hZRdBtYj6d2M4RdGw+rtuzQtCxkYmWWUDQxSTtINv8PCME3cHBvbedI+gz2NLF3L1B0G2KiLlZFHRs6f3ikRKt++vyYxYEXdxct5B7FsPd3IJGB97hzPgUAzZ026ofveAZIOgOFiDolGNLx71H0B0w1+2eI+jY0hFzBB2HTWRA0Mna0kXdPUbQHTpRx71F0B0+1+6eMsq2lt+vXcIfX/LLXSHHhu4wuge4d9jQbem2dSFH0CkfsqQ/H4uQI+i29KBDL+xCjqCLengAUkMv3Ai6UAkD8Mm3XLwYAEHHR25A0LGlA4JuSxd1QNDnRR0QdELY0kHQsaUDgo4tHRB0bOmAoGNLBwR9zJYu6iDoBEUdEHRC2NJB0LGlA4KOLR0QdGzpgKBjSwdBZ8yWLuog6ARFHRB0QtjSQdCxpQOCji0dEHRs6YCgY0sHQWfMli7qIOgERR0QdELY0kHQsaUDgo4tHRB0DtvSRR0EnaCoA4JOCFs6CDq2dEDQsaUD/7Ct5cyKsc0fbOjMekHY2MGGTsiWjk832NAREkDQwUsVBB1Bce8RdAAEHZsi7jmCjsAAgo6ou88g6GKD+4ugIzqAoCPq7ikIOgIE/MTfcuGDv/vi5YgNnaAgiRLY0LGx285B0BF4MQdBB+ArP0MHEHQABB0AQQdA0AEEHQBBB0DQARB0AEEHQNABEHQABB0AQQcQdAAEHQBBB0DQAQQdAEEHQNABEHQAQQdA0AEQdAAEHQBBBxB0AAQdAEEHQNABBB0AQQdA0AEQdABBdwsABB0AQQdA0AEQdABBB0DQARB0AAQdQNABEHQABB0AQQdA0AEEHQBBB0DQARB0AEEHQNABEHQABB1A0AEQdAAEHYC9vANLr7/TkgZUYwAAAABJRU5ErkJggg==);\n  background-size: 60px;\n  width: 60px;\n  height: 60px;\n  top: 0;\n}\n#main #logo > a {\n  display: inline-block;\n  font-size: 26px;\n  line-height: 1;\n  position: relative;\n  top: -20px;\n  color: #ffd635;\n}\n#main #display-options {\n  position: absolute;\n  top: 25px;\n  right: 0;\n  margin-right: 20px;\n}\n#main #display-options.openfin {\n  position: relative;\n}\n#main #display-options.openfin > i {\n  margin-left: 0px;\n}\n#main #display-options > i {\n  margin-left: 10px;\n}\n#main #display-options > i:before {\n  font-size: 20px;\n  padding: 7px 12px;\n}\n#main #action-options {\n  position: absolute;\n  top: 25px;\n  right: 0;\n  margin-right: 20px;\n}\n#main #action-options.openfin {\n  position: relative;\n}\n#main #action-options.openfin > i {\n  margin-left: 0px;\n}\n#main #action-options > i {\n  margin-left: 10px;\n}\n#main #action-options > i:before {\n  font-size: 20px;\n  padding: 7px 12px;\n}\n#main #sidebar {\n  position: absolute;\n  top: 50px;\n  bottom: 70px;\n  left: -140px;\n  z-index: 100;\n  overflow: auto;\n  padding: 20px 20px 0 20px;\n}\n#main #sidebar:not(.openfin) {\n  transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n}\n#main #sidebar:not(.openfin) > * {\n  background: #20242a;\n  transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n  box-shadow: 6px 8px 10px 0px #000;\n}\n#main #sidebar.openfin {\n  left: 0px;\n  top: 160px;\n  bottom: auto;\n}\n#main #sidebar > * {\n  position: relative;\n  width: 100px;\n  margin-bottom: 10px;\n}\n#main #sidebar > *.tile {\n  height: 80px;\n  text-transform: uppercase;\n  padding: 10px;\n  text-align: center;\n  font-size: 14px;\n}\n#main #sidebar > *.tile > i {\n  font-size: 32px;\n}\n#main #sidebar > *.tile > .name,\n#main #sidebar > *.tile > .value {\n  font-size: 10px;\n  position: absolute;\n  bottom: 10px;\n}\n#main #sidebar > *.tile > .name {\n  left: 10px;\n}\n#main #sidebar > *.tile > .value {\n  right: 10px;\n}\n#main #content-header {\n  max-width: calc(100% - 167px);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#main #content-header.openfin {\n  max-width: initial;\n}\n#main > header {\n  height: 70px;\n}\n#main > header > * {\n  display: inline-block;\n}\n#main > header > .content-header {\n  padding: 16px 20px;\n}\n#main > header > .datepicker {\n  padding-top: 20px;\n  padding-right: 16px;\n}\n#main > header > i {\n  position: absolute;\n  right: 0;\n  font-size: 22px;\n  padding-top: 25px;\n  padding-right: 2px;\n}\n#main > header > div {\n  height: 70px;\n  position: absolute;\n}\n#main > header.openfin {\n  top: 30px;\n}\n#main > section.page {\n  overflow-y: hidden;\n  height: calc(100% - 140px);\n}\n#main > section.page > section.container {\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n#main > section.page > section.container > .content {\n  width: 100%;\n  height: 100%;\n}\n#main > section.page > section.container > .content > section {\n  height: 100%;\n}\n#main > #sidebar,\n#main > section.page > section.container {\n  transition: 200ms;\n}\n#main > footer {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 70px;\n}\n#main > footer > i {\n  position: relative;\n  top: 20px;\n  left: 20px;\n  font-size: 26px;\n}\n#main > footer > section {\n  width: 300px;\n  margin: -25px auto;\n}\n#main.selecting > #sidebar {\n  left: 0;\n}\n.message {\n  position: fixed;\n  width: 30%;\n  min-width: 500px;\n  top: 50%;\n  left: 50%;\n  padding: 100px 0;\n  z-index: 9001;\n  background: #15181c;\n  border: 1px solid #363d47;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);\n  overflow: auto;\n  transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  box-shadow: 6px 8px 10px 0px #000;\n}\n.message.openfin {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  position: relative;\n  box-shadow: none;\n  -webkit-transform: none;\n  display: inline;\n  border: none;\n}\n.message > header {\n  position: relative;\n  height: 64px;\n  padding: 15px;\n  margin-top: 10px;\n}\n.message > header > i {\n  float: right;\n  padding: 4px;\n  font-size: 24px;\n}\n.message > header > .title {\n  float: left;\n}\n.message > .region,\n.message > .buttons {\n  margin-bottom: 50px;\n  position: relative;\n}\n.message > .buttons {\n  text-align: center;\n  font-size: 22px;\n}\n.message > .buttons > a {\n  padding: 9px 16px;\n  margin: 0 10px;\n}\n.message > h1 {\n  float: left;\n}\n#message_underlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 9000;\n}\nhtml.openfin {\n  border: 3px solid #ffffff;\n  height: 100%;\n}\n* {\n  font-family: Muli, sans-serif;\n  line-height: 1.5;\n  font-weight: 300;\n  box-sizing: border-box;\n  -webkit-overflow-scrolling: touch;\n}\n*:not(input) {\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n  user-select: none !important;\n}\ninput,\nselect {\n  outline: none;\n  color: #ffffff;\n  background: transparent;\n  border: none;\n  -webkit-appearance: none;\n  text-align: right;\n  font-size: 12px;\n}\ninput[type=text] {\n  border-bottom: 1px solid #dadadc;\n}\nbody {\n  background-color: #20242a;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABoCAYAAABYMdpmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUbDCscCy8D9gAAHyNJREFUeNrtXdluXMfRrurlLDNDDjcrtJ0YsBUYyAZf5CoPkHfIk+QF8hi5zl0eIEAQIAsQxFc/HNjxkiiyI4miSHE421n69FL/hc5RxhKnm+TpiWVSDcyNRU9Pd1dXV31V9RUqpaSUUiMiICL0GWVZopRSCCEu/HcigqZpABFNmqYEkcd8Pmd5nrN2LYiI1HdNFw2tNQohiIjAWosAQEmSmJhzEBEgItR1LZIkwXXrsNaCc84kSUIR5uRaayalXPs31loSQpjYe9qtdz6f862tLeaZH5xzNkkS9+L/q7UWjHMOAIAxDj7Pc7LWrv13RIQ0TSFJkuhCdnJyAtvb204IYY6Pj01d11opZQAg6sc5Z05PT7UxxsxmMyOl1FLK6AfcCjNL03Tt2RARKKVckiRERDGEyrXysHY+xhhsYiAilGXJfMJMRHB2dmaTJHGr60VEICJGRAhEJIuikDFvmlJKEtHaT13XvNWo8Hq8PKqqAgAI7qNSikcSZCAiLIpCBM5NzOdz3MSalVKotb6U3BwfH79oGUBd15KIJAMAGAwGUBQFdovre9MYY9b3PUmSsPl8zre3tyHGgdy0kWUZVFXlffrbZzaKSYWIUFUVGwwGa7/MOQfOObe9vU0bEGYAAO7T/q2iJACAw8PDl0zA7tV//g1SStHZIn1vu5TSlWVJvg3M85xZa3ETNu63eSilYDKZQJIk3Lc3dV2TlLK3cE0mk+fHEjrXhw8fRhfmdq0ghECfQBtj6KLLRESYZZno9mpVoKEsSx7jtrf2tFf7CiFAa80BAM7Ozl5LcjvSNIXBYCB8h+ucg9/97ncGEXsL2N7eHpycnPA8z9HjBENRFOb999+nf/7zn1HXu7e3B7PZzHt5nXOwWCy+tt5Ots7OznD1JUMikqv/43K5NOPxuNdG1XUNWZbBdDrl4/F47ck0TQNVVbmdnR37WpSfaWetNeZ57hXo6XRKu7u7vR3RpmlgsVjA3t6e9Glm5xxwznXM17SzBoqiwCzLvOttmgaSJHnpAhMRGmO+hqp9DV9jjEGaprz16HvZgAAAw+EQjDGwDsZr7R4GALdeoFegJx54emFnZycKqpIkCWitRQCiJGOMGQ6H0VENIsK6rkPrpSRJzJrXHl/87y99E+ccT05OolxFIYRtmsb5/oYxBmVZ3npDGhHBGIM+p6LF8V0sTfnkyRPknHu/bDabuadPn25kzc45TNPUO7+1llqg4SIF4Jxz7kUJlxep+DRNdSTNg03TCB/2XJYlDAYDfdsdRK21EEKgzxHM8zwa5t00jfQhKUopyLJMb2Kt7eWUPrmoqgoGg0Fw/qIo+GAwYBdq6M5BnE6nLJLmIUR0PgdxMBiAtVYQ0a2V6LIsuU+YnXPQNE0006yqKrbOFOwEzlprNrXe5XLJfcLsnIM0TYPrXSwWkGWZXWtydM/fYDDgRVFEuYlJklgfjNc9P93rcZuwaSKCuq5RCMECB+f6OusrGg0ZY15kYbFY0HA4pE2s97e//S2E1qu1dpxzF5KFra0tYIzBcrmkl5zCF7V0qzVtH3io27TRaGR8T5yUEuq65n3n+zbaznVde4MoWmuw1rqIc7KQdtze3nYbXC9P0zSknb8mP5eQMaOUkizgBeMLNndfG9H7hEgp0RjD4BaNBw8eBLWVMcbu7+/TbDaL8dSjlJIFbFsCgOgC/dlnn8F8PvfO374g7jrzc84dM8Z4EQilFItlBvzqV79ybZhz3Q+CsixvjdlBRHDnzh3pSwiqqgq++uorBwAwHo97zWWtBSkl99nOTdNAlmV2Ew763bt3UUrpxZyVUrC1tXXlV5qI4OjoyKG1VvomsNYC59zEMgMeP36Mh4eHwvfDtNY2TVMXIxT/qo7FYgGIiMPhUPieXgAwnHOKdIGQiIRvTyeTidnf36eYez+fz2F7exvaVAfhS4VdLpdmZ2fn2utljDFd17VXa85mMx5jYf/+97/hzTffpKqqvHkeUkp+fn6OiAiLxeJGaeRuPHnyBLMs8wY16romzjnFeq2apvE6gsvlEvb39+mytutlR5uEhk3TeC+TMQb65sl3GXbcWst8T19ZliaW10tEaK0Vvvm01tA0jU2SxPkcpm/h4HVdoy/PuXv6z87OzFtvvRUN2RgMBsK330mS6KdPn8LBwUH0izyfz8X29rY3X0QpZba2tqIINBhjuM850Vp/rUqgz/jTn/4EP/vZz5iUMqj5nXMbSyr/prR0SPsREVRV5YbDYRTc+d69e/Dee+8xAOAe03IjlSgAANPplG1tbfFAwhVxzs1yuYTRaNRPoAEAjo+PcXd3d21Er6oqNxgMogH7SingnHsdots6jDFQ17UejUZRnv7WL+Hr0IWmaaAoCrO7u7uRkjWllJBSesvIjDEmy7Ler9HzBX7nO98h3w2KXTaVpulzMPz1eMm8c1tbW9Hs2L///e+otWYegbN7e3vRhZmIYDqdoq8msnv9syyL4iuwC7zqtTbdBg7utUBfMPI8j7YvX3zxBXzwwQfkQ0q2trair2E2m3U1pDz0UldV5WI5omwVXfAJ7SbyLGI7HzdlzGazaHv9/vvvQ0hYTk9Po5TfvYhszGYz5sum6/JFYqamstUvz/McfE5DzEOrqgoRkb0W3wsvOp6cnEQVMF9Aa3t7mxERi2lyTCYT6CglPL4CDYdD8oXBrzrESuUA992ULmk/lpePiOiLWK3+fcvlcSOEVUp5GZQDR6MRR8RoTniapm4dypGmaVcO52Kdccvv4c0ehA0UdoiO08Ba69WWMTT0SlUG+iCkbsHT6dQ1TeMODw8RAL719vZkMoHxeIyLxQLH4/Fa7YWIkCQJAwCrlIIYGqwsS/I59i2VQSzFway13Bc/aGHJ6Gcq2sWywWDgdQi11r0n78puqqoSPvOmqipIksTt7+93N/gmOY/UPrdOKSXW7TvnHOq6FmmaRsGGOefUpjFc+O9JkkBVVYKIzHWFursQ1lrue9GdczQajTZSdseqqhI+PgZrLVhrbV8+hs4etNaykPkihLBCCHtTE5SICIQQQfowKSU+evQoypxbW1vQNI0XGsvzHOu6vraD2JquQVu849fYiED7qiRa7UyDwcAdHR311s5KKWaM8S54Pp9TF5G8qYlJ3bqEEM+zCy88HMZgZ2dHduZABC1tfFRtrfbk1zE9ut+Ypqk3IrhYLNxgMLAnJyfRlQQRAQtxmUkpabFYwFtvvRXjIJnPHmyfxNuETRMRGR/+35an8b6Xu7XLQWttfCnDg8HgeRDmKkKHiOCcwxCfSGdi3blzJ7qSMMYwFkiQcUIIFwN4b/kdMPAUudFoZFfYfG70QEQYjUZkjPGiC7GKHtrSOgo5+IwxPpvN2FWEjoigLEseguk2pbBaDc28tKV1XUcph2qhN+HTzlprICI3nU5hb2/v1qjoL774ApIkIa21D3KD+XwerdDCOed8pgfnvKMJvvR8VVWJ0WiEHmUFSZLYUMH0deWrqiohpbw4sOGcA62161Mh0Y26ruH8/BxC/A+ISMPhkHZ2duA2jffffx/aQ/aecp7nPEbwYzabwWAwcEopr9O9vb3NqqoKmjqdD5BlWfB8EZE2UbTx5z//GbqIpFgHq+R5bvtWfXcbhog8lPuslDJ90gZvgDHt2oy4dcgPTKdTXIXHrjPG4zFMJhMYDofOGMPWKRrOeWfq2MlkcuGr2f2Oqqq8iftKKfjRj35kNiHMLSrz37KuFzl4rbVyuVyyCAfU3WDu4/y11sqHDx/ealrdbu2z2Yxba70cyUVRREsXKIqC+ebTWsvj42MM2PcYOt/5fI7/93//t5F9K4qCrc73EnNSXdcuVpHkRWR6F9jqG0ss/zaNru5OKSWSJPHZopRlmTk5OemNFCilkDEmAkWzhIjmoijjZdiPYrJwrZGvrxH0vJQ+KqV0sZLKl8slCwgz1HX9OoX0mc0KAABPnz61PoctSRJ88uQJjwF7tfV7JkB7jOtgvrIsvexHnaO/qT1bLBYvxVHYBTBdlERrrTXP85wFNASNRiO7XC5fS3Q73n77bfIRXCIiHBwcMK01+Iqbr4A+kdbaeSA8kFLKyWSCXXpxN2+ITwQRIcuy6BHf5XIJ9+7dg47P7kKBrqoKuhKYPhq6I0NZLpfgcwSttSCEcAAAt9kZvAg1QEQbar6kteZ9MyDbCntI09T60kuFEDAajYSUEj766CPIsgyKoghy0zHGNhLxHY1G8Oabb14INKzmQ1uIkD44Ho+hrmvmIzpvbUb74Ycfutci/PUxGAzg5OQEjDFeqockSViXd9FndEIZije0Qsk/+OADKMuSX6QdX9T8nPPoCUjtd7M2G/Hl39l2FwKllI6FAYdoWrXW2PZGfG0/ew5OKSV8FR9KKdc96RF642ArqL5ENeKcu1Cus1KK0jQ1m8jFMcaAc26tfDHnHGRZZmMIc5vYjSGaVgDQHci+CUGIlcyzbnz88ccwnU5X4baNoB6cc+8LJoRgbeVP7/kQkfI8J19eCWMM2w4DGDhfd3p6upG9b5GZ9XvS2mq9abeICD7//HP4/ve/L0LZdA8ePNhIxGi5XDJjDLfWdrnXGxPqqqrAOQez2cyNx2PbIhTR6iTH4zEQkVssFnxdLg3nHJxzAgB0jP1USlnn3NrceEQEIQQEgiiU57mLraSed7lizEtQhFVV8TzPbYxJW6Z+DDiC0THJ5XLJ0jRlnPNvpE2c1pq01hSLGObFfXXOefkHY3Km1HXNhBD8Onwp1lqYTCZ6OBxCrMLXlaIBdM6FYhrAYoS4//siMQxsVm+V2XWfJSJcLBa8qioxHA65EOIb63kopcQ8z1nb+TXqj0BEWC6XQdMjlvBkWeauS1nRNA3s7u5CzCruLi21aRoRumSI2H/zV+P5vgSVxWIB29vbuqoqb3X5Zcbjx4/hzp07wjl3qULb/6GmBgCIRpm2sse89ex9cJ9rmsbu7u72fe0gz3MwxsirkAs55wARYzuCVFUVS5KEM8ZCpg5kWaZFjBtUFAXzmRoAz6NSvYUZAODw8BDrusZYlegRNTWcn59vwnC38KwWkXv2l7VRuV7zdzGB5XJppJTisgLamkTRtctl5aVzoKM8Vc45Fmqc2AVRIjlk7FUT5m7s7u5Gt3va8rUgWbx4FuaNMudoNKLYXCybGnVdg9baElF/gVZKeRO7W8TBXqYBzCUdj2BI/ZscMVt4rI7t7W149OiRt1wrSRIoigJjwYjWWm/hwaswjDGAiGYwGAAi9hNoIoJLOIIuSZIosOCTJ0+gqioW+jtrbZcPYWN+nHM25DBNp9ONabW7d++Sc84bQeScixiFGdPpFLIss1JKChXWflOjrVQxq0SP15awoiiAc+6NZGmtQUqpT09PoxRFGmM459wbcl0sFjSZTMy7774bffNCsGSbv7DRBqJEhFpr4YvEnp+f2729vWhPhXNOOOfwVaI+VkoBEekXbexraeinT5/CYDAA3+G2wmURsbcwt4TsLPR7l8ulHY/HJnZNYpc/ECojU0pdmEd+//79aEGeNsJKAfOExyR8RETjnDPz+dwaY77RYgxjDDRN44jIXGRaXcsrPTg4gNlsJrsc3nW2cyh0e5U9DWWXtd2TeneLWrMWdM4Fc3+VUu7Fi9BeaF7XNTrnTIxuBNZa55xby3/BOYe2O0KUsqf2/ycioraxDwghMMsyDFXy952XiIBzTkop0lq7lgSe1pGLXkmg7927B3fv3oXpdMp8wtw1WY+V7FQUBfmoyloMFD799NPom1pVFWitMcQn4pxzL2LAHfWZtZatwFq9qnPavuhOKYVSyrVFs1mWodY6KuFjO9fXLu2XX365UW18//59+PnPfw4XKYooYzqdMmOMt+6tqirRmgAxnnpsmsY7X13XG4uuFEWBWmvhm79pGtG9Equ/vXWKxYt/F8mGxLquL3UOPrjvpg12FeECeMZ/Fno2uxL5GIn7vkroTjv/7W9/i16T2K1XKYU+29laC0ope35+/jWW0JbJh686zVJK7Pg1+o7lckk2AD9kWYahNsS3ehhjgtpZKSUjChXTWofm4wAA//nPf6Kv11qLoSrsxWLxkuvfOSur2nlFS8vOlOk7mqbBNn/E93rI4+Pj1xr6RYjuv/6Gn1/j448/jqItm6aBsiy9RbbOOXjy5IkjInjnnXeia+emaUSoFdloNHIXoAywWCz4RZCmlBKKouAxIp1JkhAAeGv2pJSwv7/PXgv0yhgOh7BYLILZbFpr99Of/pS++OKLGA6Il+a3K/N55513ondvakPNPJSco7V2FxUqnJycQJqma/c2z3M2nU6xr23b0mu5F9GVlw75GVcdvhboFW3VZTyF8EGA/zaqua5m7rR9QJhouVxuJP+4MzdCTdazLLuwCDTPc2+NXlsNLfq2ykvTFBAR8jy3TdOQR6Ahz3N+dnaGt16g2wrjII90VVVmd3eX+vL+SilBKcV9qahEBKenp1ZKGR3h79Yb4mozxph1eeRbW1vBjgdpmkJZlthp9BgX0Wd6MMbQ15r41ozj4+Og4zGfz6PFRB8/fgxKKXEZOGoToyxLcM6F1isvo+2Wy2UQ7nv8+HE0IWuahgf2Td50yjURuvVN02CIf+Ef//hHlKf/ww8/hIODA2+IuU2I2oip0dbMeRk+nXOwtbXV5SeHnLZQRA/feOMNDj2DLd2YTqf24ODAF2zpCB9vZ7W9cy4Imy2XSx5DmFq7NBhEmUwmYlNapqUv885fluWl53/06FHw+6y1on0Jo6wh9LpZa+VNlln0aavW02c+mM45Z9I0pQi8EGCMkT6YTmsdbLTTRzvXdc18rXzbOIYRQlz6RhVFgWmaeuvhFouF297etjFSbKuqYlJK7tvHqqooz3NzE3vYsHWOUVv9ywKb57Iso76H0NquwQjkpioouv4cbULP2jGbzexVuf+IiELk4oPBgC2XS4yRRJTnufPlTLcoDLYK6+YL9CpJuU/AWob/3kR8XVUv59wbxKjrmmLQLawROjTGeNdbliXt7+9fmattNBrBYDAAX6OetnyKd2ZKhAsaLERQSvE0TW8cLze7SMBCQQVjDHT5FTGeLa110PGsqmpjPHjGGO96rbXAGOtz8s5aG4ro4dHREb799tu9FYSUkhhj3hZuUko2m83YTTM7XhLolsLJ+/bXdU0x0hKVUl1jz1A3Ltrd3XVnZ2cbcwZ98xOR64Io1xWyL7/80st3wRiD8XgsPv/88ygmVFs6FQru8Ol0ijdJS4vVQ53P52JrawtDsJW11nbJ131ueNs0XeR5jh5hBsaY25QmOT8/56Em67PZjA4ODnrRl/3gBz8AIrIt4/w6W7qrAooiYUII8vUOTJIEpJRisVgQRIIOv3GUo21JQaGmiavaMlb/6Q5m8pVyGWNICLERj/wyNFvt/L3b23WXoWkaEWDutP/617/cj3/8415rq+sasiyDsiy9CuOF3/dtV9XP27pdSpittZSmqflfPVFtka3p6L9iO4JVVYWEGay1JsZBdy+atdb5HEQiwr7CDPAsiNJ95WWoFVqFgd/yz9WKZLsuoDG1ZeAiEUD8GsEW80YfK0/bYcnGJLTpYDVf35EuhySW0nj69Kkty/LWEMtfSaAfPXoUXTX7HKWiKDZiOP/+978H5xwLIB+ws7Pjzs/Po8//+PFjL+JDRNGIJ995551b1ZjppbZuIasDEaPedmutWEdW01aO6w00a+S+fGWAZ0GUnZ2djfAcExH3KRNE1DELQZVSLEkSfhsE+koa2hjDO7gt1vBFtdqS+WiwUpt2CojoXXdZlm5nZyd6T+qO2FJr7euxHq3RDhHB/fv3gb9KDDEbHmIVngo5hpxzqKpKxEQ5fFRiSZIAIjJEtMvlslfR7WQy6VCGYNFtVymzCWRFCMF889d1TV0TzlgX6DIO/01COTQAaMZYMFzacqfhfD7/n4WXiIgtl0vsW0G+t7cHs9mM+ajEAACOjo4sIm4kAappGg4B+rWiKCiGMBMRzGYzzLKMB4JGMJlMHGNMwzMs+tv80S8tbrFYYNM0IlRpfXR0FGXTWxMmmAhPRPDHP/6xry0Z4vfYWGql1hraBHtvhXaMfV1xuEVovUdHRwjwPEJ8M8dF5fcvNjWv6zqaXVZVFfNViVhr5SeffHLtV+Ho6Aim0yn65nDOyfl8jtPpdCN7Op1OvZQIzrkLKRGuqygePnwYrLxpmubWVIPDJdiC+KqWve4oy/J5E3TffEVRXGu+Bw8eABEFWYaKopBKqY2YUm3PwRC/iGhfyF5zTSYTICIIrbf9PTcu285Hhcv4s7ZSaw9Ja+3SNLWRNBgfjUZsnUN+nfk66KsoCi8lQluxbobDYfTTLcsSZrMZOzw89BYOFEVhxuMxxbg8bWcz5nN8GWPmJjY+9VasLBYLPhqNfBATMMZMz9RK6BoJVVUlfZE55xxxzs0VDxidc95ca2stCSGiOoLdHmqtARGlDzkjImKM9WIKXWl/BtZabyfftiPs7apYAQDIsszbkoBz/hyb7jO6EDQRWd98jDE8Pj7ml30m//KXv0BZljwgzDCfz6OjGh3zaFmW3vIray1NJhPTFybs5nPOiRAsOZvNDNzQgaEbH4qqdQk8WZbFei5ZnufcdyDGGNN11eqrnZumsWmabiTXoe3yij6zrSxLMxqNojz9SikuhPDizovFwm5vb9/Y3A5f+LXTit7EdCEEOOeiVGJ3/MMBLQ1wCfqFFtP1aueiKKAsS7cpx6iqKq/WNcZQiJDmijBdkO2pI4W/dQK9alYIIbzecJZlUFUVxmAA6mi0QgSEWmtclzjUlpGx4XDoTdx/8uSJ3t3d3UhEcD6fM18ecoswuL6NMleEVfjW2+Z+25toN19VoIlzro0xFNCs/I033oiipaWUxpch1tU9XtQhoMszaXuygAfFobt370bf0I5KN89zFup8GrPjLGMMA68BDAYDF4PG91st0B301DSNN1E8z3MsyzJasCXUqDPPc5xOpy/9/jRNoa5r5oPprLUQC258cYzHY5jNZjzUYKiqKtMl/ff1O6bTKQ/RDsOz1nRROvl+K53Cizbuf9XW7LL4sbUWiMiskjY655hzzptgZowxmyB6bJ0uzPPci2yUZUlpmpoYfcov6/gmSeJuurlxaQ3djSRJTIDhEro+In00T7fxg8HA23WBcw5EJACeRchaIecBmAyKotiIMBMRCCG8/fycc/CHP/whijADPEtTCJWRffTRR7dCmK+7gTyUE7FcLjGGcAAALJdLHkro+eyzzwDgGVOq72+dc/L09HRjucFN07DLtrD45JNPeu/P2dlZMD+lLEt2m+TzyoKnlEJE9IL3SinKsiwKeN/2CBQ+jaaUgjRNwRgDIU63wWBgnj59CgcHB1E3sixLlFJ6f2fL/hSldyARoVKK+WIEHRdgVwF+G8aV3735fE55nlsfD5yUEttE+t4wEeecJpOJ2dnZEeu+K0mSoDB33wUA0YUZACDLMq8mbANC0apRtNbc58+0F9i1v21jAvTRRx/BpjIUiQj29/fhJz/5yUv+VTSBbqE5N5vN2DpGeMYYOOeYMSYKkrC9vQ1aa1hH14WIwWqblnFzYy0sWm3pVQS7u7tusVjA1tZWr/n++te/AiJ6D3axWLjxeOwePHgA3/ve96KtdT6fY1mWsLu7i0mSsNYx35wJ8azKCJxzTikFiOiiNt4EeNZCoeWY8NpvLbl27/HLX/4SlFJBrmpf/jYRfWOpoVprWVVVNFtWa8188xljnqfb9h2ds/3w4UOoqgq11jLkJ2zq0+2jz0frdcjz+ZxvbW0xj5MEjx490oeHh+BrbXzZYYzhoRKqNQLgkiSJqp2Pj4/h8PAQyrIUWZZ5gxrd/Pfv34d33303CrJxUcu4lX1/zqMdQ5OdnZ1hnufiVcGwO18oukC3T630MXc2TRMlZ5qI4NNPP4X33ntPXqUzasccGiv3tysm1lojAIAQIiTMsFwue4fYL0sl1qaPXip56zLzWWsFEeGrVDhujKE2mvySf9D7GQyx2XPO2a9//esottQPf/hDYIxdKVzMOe/S3ViMT5vKxqSUKKXEUAHqV199Zff29iAGmXnTNAiBDMmiKEyaphSDt9taK5qmwVeNBUEIgUVRsIuc3d4CzTk3y+WSfAL1i1/8QiqlIFJGXrA6/VUZdV1TXdfu3r17vb/rN7/5DYTgUq01dMIXw9QwxryycN868yeKo2SMYYwxHqDhdZzzKHas1pojInuV+VOqqoLBYKBjOOB37tyBqqowyzLhM4WUUibP8yj9brp+M69qhLGua5vnuYuuodtwrwvxpyml2CrM1fPJcQBAPhbPb9jGA+dclMt7584dePToESKiCDlK1tpewtwV6IbqSbtzbJqG6rq2RGThWfJTlM/Z2ZkLsXOtk7feAt0tumka6xOwPM+hrmseKXGJvvzyS8MYo1eNiFBrDYwxOxqNohUODAYD9DnCTdPA6emp7YNvAzzrgHt+fo6IyAM1iVAUhbPWmjzPXUtIH+2TJAn51quUgt3dXbqoQh5jgdT37t2D7373u0HycilldLWqlJKMsc4B/J8LcUcH0DQNZFlmugKFGL9lNpvhcDj0Zu91Ie4YsKC1lhGRN8ErNun9C3vJiMir+NYVNRMR/D9pnwRLiHUQEwAAAABJRU5ErkJggg==);\n  background-size: 100px;\n  background-position: fixed;\n  color: #ffffff;\n  overflow: hidden;\n  font-size: 12px;\n}\nbody.openfin {\n  margin: 0;\n  padding: 0;\n}\nul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\na {\n  color: inherit;\n  text-decoration: none;\n}\n.disabled,\n[disabled] {\n  opacity: 0.25;\n}\n.btn {\n  border-color: #363d47;\n  border-style: solid;\n  background: rgba(32, 36, 42, 0.5);\n  border-radius: 10px;\n}\n.btn.horizontal {\n  border-left-width: 3px;\n  border-right-width: 3px;\n  border-top-width: 0;\n  border-bottom-width: 0;\n}\n.btn.vertical {\n  border-top-width: 3px;\n  border-bottom-width: 3px;\n  border-left-width: 0;\n  border-right-width: 0;\n}\n.btn.selected {\n  border-color: #ffd635;\n}\n.btn-icon:before {\n  border-color: #363d47;\n  border-style: solid;\n  background: rgba(32, 36, 42, 0.5);\n  border-radius: 10px;\n}\n.btn-icon.horizontal:before {\n  border-left-width: 3px;\n  border-right-width: 3px;\n  border-top-width: 0;\n  border-bottom-width: 0;\n}\n.btn-icon.vertical:before {\n  border-top-width: 3px;\n  border-bottom-width: 3px;\n  border-left-width: 0;\n  border-right-width: 0;\n}\n.btn-icon.selected:before {\n  border-color: #ffd635;\n}\n.title {\n  font-size: 24px;\n}\n#fund {\n  width: 100%;\n  height: 100%;\n}\n#fund > section {\n  width: 100%;\n  height: 100%;\n}\n#fund > section div.table {\n  overflow-y: auto;\n}\n.content-header > span > .collateral {\n  font-size: 20px;\n  color: #dadadc;\n}\n.content-header > span > .collateral > * {\n  font-size: 24px;\n}\n.content-header > span > .collateral:before,\n.content-header > span > .collateral:after {\n  font-size: 24px;\n  color: #a0aab3;\n}\n.content-header > span > .collateral:before {\n  content: "[";\n}\n.content-header > span > .collateral:after {\n  content: "]";\n}\n.tile #fund div.table-header {\n  display: none;\n}\n.tile #fund .shown div.table > div > ul {\n  -webkit-columns: 1;\n  -moz-columns: 1;\n  columns: 1;\n}\n.tile #fund div.table > div > ul {\n  display: block;\n  -webkit-columns: 2;\n  -moz-columns: 2;\n  columns: 2;\n}\n.tile #fund div.table > div > ul > li {\n  display: inline-block;\n  width: 100%;\n  padding: 20px;\n  margin-bottom: 13px;\n  background: rgba(54, 61, 71, 0.5);\n  border: 1px solid #363d47;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);\n}\n.tile #fund div.table > div > ul > li > div {\n  width: 50% !important;\n  border-bottom: 1px solid #363d47;\n  border-top: 1px solid #363d47;\n}\n.tile #fund div.table > div > ul > li > div:nth-child(2n) {\n  float: right;\n  text-align: right !important;\n}\n.tile #fund div.table > div > ul > li > div:nth-child(2n+1) {\n  float: left;\n  text-align: left !important;\n  color: #dadadc;\n}\n.tile #fund div.table > div > ul > li > div:nth-child(1) {\n  font-size: 14px;\n  color: #dadadc;\n  width: 100% !important;\n  border: none;\n}\n.tile #fund div.table > div > ul > li > div:nth-child(2),\n.tile #fund div.table > div > ul > li > .Counter_Party_FullName,\n.tile #fund div.table > div > ul > li > .Inst_Type_Name,\n.tile #fund div.table > div > ul > li > .Instrument_Name {\n  font-size: 26px;\n  width: 100% !important;\n  float: left;\n  text-align: left !important;\n  border: none;\n  padding-bottom: 10px;\n}\n.tile #fund div.table > div > ul > li > a,\n.tile #fund div.table > div > ul > li > i {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n}\n.tile #fund div.table > div > ul > li > i,\n.tile #fund div.table > div > ul > li > a,\n.tile #fund div.table > div > ul > li > .placeholder {\n  font-size: 22px;\n  width: 44px;\n}\n.tile #fund div.table > div > ul > li > i:before,\n.tile #fund div.table > div > ul > li > a:before,\n.tile #fund div.table > div > ul > li > .placeholder:before {\n  padding: 9px 22px;\n  width: 34px;\n  height: 34px;\n}\n.tile #fund div.table > div.table-footer > ul > li {\n  background: rgba(54, 61, 71, 0.85);\n}\n.table #fund div.table > div > ul,\n#CPTradeDetail div.table > div > ul {\n  display: table;\n  table-layout: fixed;\n}\n.table #fund div.table > div > ul > li,\n#CPTradeDetail div.table > div > ul > li {\n  display: table-row;\n}\n.table #fund div.table > div > ul > li .tile-name,\n#CPTradeDetail div.table > div > ul > li .tile-name {\n  display: none;\n}\n.table #fund div.table > div > ul > li > *,\n#CPTradeDetail div.table > div > ul > li > * {\n  display: table-cell;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.table #fund div.table > div > ul > li > div:not(.placeholder),\n#CPTradeDetail div.table > div > ul > li > div:not(.placeholder) {\n  padding: 7px 10px;\n  background: rgba(32, 36, 42, 0.5);\n}\n.table #fund div.table > div > ul > li > i,\n#CPTradeDetail div.table > div > ul > li > i,\n.table #fund div.table > div > ul > li > a,\n#CPTradeDetail div.table > div > ul > li > a,\n.table #fund div.table > div > ul > li > .placeholder,\n#CPTradeDetail div.table > div > ul > li > .placeholder {\n  width: 44px;\n  text-align: right;\n}\n.table #fund div.table > div > ul > li > i:before,\n#CPTradeDetail div.table > div > ul > li > i:before,\n.table #fund div.table > div > ul > li > a:before,\n#CPTradeDetail div.table > div > ul > li > a:before,\n.table #fund div.table > div > ul > li > .placeholder:before,\n#CPTradeDetail div.table > div > ul > li > .placeholder:before {\n  padding: 7px;\n  width: 34px;\n  height: 34px;\n}\n.table #fund div.table > div > ul.list > li > div:not(.placeholder),\n#CPTradeDetail div.table > div > ul.list > li > div:not(.placeholder) {\n  box-shadow: 0 0 0 1px #363d47;\n}\n.table #fund div.table > div > ul.table-columns > li > div:not(.placeholder),\n#CPTradeDetail div.table > div > ul.table-columns > li > div:not(.placeholder),\n.table #fund div.table > div > ul.table-total > li > div:not(.placeholder),\n#CPTradeDetail div.table > div > ul.table-total > li > div:not(.placeholder) {\n  background: rgba(54, 61, 71, 0.5);\n  outline: 1px solid #20242a, 20%;\n}\n.treemap #fund .root {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.treemap #fund .root ul {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.treemap #fund .root li {\n  padding: 5px;\n}\n.treemap #fund .root li > div.content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: rgba(54, 61, 71, 0.5);\n  border: 1px solid #363d47;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n}\n.treemap #fund .root li > div.content > header > i {\n  position: absolute;\n  top: 10px;\n  right: 0;\n  font-size: 22px;\n}\n.treemap #fund .root li > div.content > header > i:before {\n  padding: 7px 12px;\n}\n.treemap #fund .root li > div.content > section {\n  position: relative;\n  top: 50%;\n  transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -webkit-transform: translate(0, -50%);\n}\n.treemap #fund .root li > div.content > section > .name,\n.treemap #fund .root li > div.content > section > .value {\n  font-size: 20px;\n  text-align: center;\n}\n.treemap #fund .root li > div.content.positive {\n  background: rgba(32, 88, 43, 0.4);\n  box-shadow: 2px 6px 10px 0px #000;\n}\n.treemap #fund .root li > div.content.negative {\n  background: rgba(134, 36, 43, 0.7);\n  box-shadow: inset 4px 4px 10px #000000, 0px 1px 1px #333;\n}\n.treemap #fund .root > li > div.content {\n  background: none;\n  border: none;\n  box-shadow: none;\n}\n#fund div.table > div > ul,\n#CPTradeDetail div.table > div > ul {\n  margin-bottom: 3px;\n  width: 100%;\n  padding: 0;\n}\n#fund div.table > div > ul > li,\n#CPTradeDetail div.table > div > ul > li {\n  position: relative;\n}\n#fund div.table > div > ul > li > i,\n#CPTradeDetail div.table > div > ul > li > i,\n#fund div.table > div > ul > li > a,\n#CPTradeDetail div.table > div > ul > li > a,\n#fund div.table > div > ul > li > .placeholder,\n#CPTradeDetail div.table > div > ul > li > .placeholder {\n  position: relative;\n}\n#fund div.table > div:last-child,\n#CPTradeDetail div.table > div:last-child {\n  margin-bottom: 50px;\n}\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > div.value:nth-child(5),\n#CPTradeDetail #CPCounterparty > div.table > .table-list > ul > li.table-row > div.value:nth-child(5),\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > div.value:nth-child(5),\n#CPTradeDetail #CPProduct > div.table > .table-list > ul > li.table-row > div.value:nth-child(5),\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > div.value:nth-child(5),\n#CPTradeDetail #CPCounterparty > div.table > .table-footer > ul > li.table-row > div.value:nth-child(5),\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > div.value:nth-child(5),\n#CPTradeDetail #CPProduct > div.table > .table-footer > ul > li.table-row > div.value:nth-child(5) {\n  text-align: right;\n}\n#fund #CPSummary {\n  width: 100%;\n  height: 100%;\n}\n#fund #CPSummary .treemap {\n  width: 100%;\n  height: 100%;\n}\n#fund #CPSummary > div.table {\n  max-height: 100%;\n}\n#fund #CPSummary > div.table > div > ul > li.table-row > i,\n#fund #CPSummary > div.table > div > ul > li.table-row > .placeholder {\n  width: 50px;\n}\n#fund #CPSummary > div.table > div > ul > li.table-row > i:before,\n#fund #CPSummary > div.table > div > ul > li.table-row > .placeholder:before {\n  padding: 7px 12px;\n}\n#fund #CPSummary > div.table > .table-header > ul > li.table-row > div.value {\n  text-align: center;\n}\n#fund #CPSummary > div.table > .table-header > ul > li.table-row > div.value.Counter_Party_FullName {\n  text-align: left;\n}\n#fund #CPSummary > div.table > .table-list > ul > li.table-row > div.value,\n#fund #CPSummary > div.table > .table-footer > ul > li.table-row > div.value {\n  text-align: right;\n}\n#fund #CPSummary > div.table > .table-list > ul > li.table-row > div.value.Counter_Party_FullName,\n#fund #CPSummary > div.table > .table-footer > ul > li.table-row > div.value.Counter_Party_FullName {\n  text-align: left;\n}\n#CPTileDetail {\n  position: absolute;\n  right: -375px;\n  top: 70px;\n  width: 375px;\n  height: calc(100% - 140px);\n  overflow: auto;\n  padding: 0 20px;\n  padding-top: 40px;\n  display: none;\n}\n#CPTileDetail > i {\n  font-size: 30px;\n  position: absolute;\n  top: 0;\n  right: 2px;\n  width: 40px;\n}\n#CPTileDetail .options {\n  padding: 20px 50px;\n}\n#CPTileDetail .options > a:before {\n  font-size: 24px;\n  padding: 7px 14px;\n}\n#CPTileDetail > div > :nth-child(2) {\n  float: right;\n}\n#CPTileDetail,\n#CPSummary {\n  transition: 200ms;\n}\n#CPSummary.shown {\n  padding-right: 375px;\n}\n#CPSummary.shown #CPTileDetail {\n  display: inline;\n  right: 0;\n}\n.message.CPSummary_fund_confirm {\n  padding: 0;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal {\n  position: relative;\n  text-align: center;\n  padding: 40px;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section {\n  margin-bottom: 30px;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section:after {\n  content: "";\n  display: block;\n  clear: both;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section > div {\n  display: block;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section > div > span {\n  padding-bottom: 3px;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section > div > span:first-child {\n  float: right;\n  clear: right;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section > div > span:last-child {\n  float: left;\n}\n.message.CPSummary_fund_confirm > .region .cp_summary_confirm_modal > section > input {\n  margin-top: 10px;\n  float: right;\n  clear: right;\n  font-size: 15px;\n}\n#fund #CPCounterparty {\n  width: 100%;\n  height: 100%;\n}\n#fund #CPCounterparty .treemap {\n  width: 100%;\n  height: calc(100% - 66px);\n}\n#fund #CPCounterparty > .counterparties {\n  margin-bottom: 30px;\n}\n#fund #CPCounterparty > .counterparties > .value {\n  display: inline-block;\n  padding: 6px 10px;\n  margin-right: 12px;\n}\n#fund #CPCounterparty > div.table {\n  max-height: calc(100% - 60px);\n}\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .DeltaIM,\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-header > ul > li.table-row > .DeltaMV {\n  text-align: center;\n}\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .DeltaIM,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .DeltaIM,\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPCounterparty > div.table > .table-list > ul > li.table-row > .DeltaMV,\n#fund #CPCounterparty > div.table > .table-footer > ul > li.table-row > .DeltaMV {\n  text-align: right;\n}\n#fund #CPProduct {\n  width: 100%;\n  height: 100%;\n}\n#fund #CPProduct .treemap {\n  width: 100%;\n  height: calc(100% - 132px);\n}\n#fund #CPProduct > #CPCounterparty {\n  width: auto;\n  height: auto;\n}\n#fund #CPProduct > .opts-list {\n  margin-bottom: 30px;\n}\n#fund #CPProduct > .opts-list li > .value {\n  display: inline-block;\n  padding: 6px 10px;\n  margin-right: 12px;\n}\n#fund #CPProduct > div.table {\n  max-height: calc(100% - 120px);\n}\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .DeltaIM,\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-header > ul > li.table-row > .DeltaMV {\n  text-align: center;\n}\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_IM,\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .DeltaIM,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .DeltaIM,\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_MV,\n#fund #CPProduct > div.table > .table-list > ul > li.table-row > .DeltaMV,\n#fund #CPProduct > div.table > .table-footer > ul > li.table-row > .DeltaMV {\n  text-align: right;\n}\n.message.CPProduct_tradedetail {\n  width: 85%;\n  height: 75%;\n  padding: 0;\n}\n.message.CPProduct_tradedetail > .region {\n  padding: 25px;\n}\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section {\n  overflow-x: auto;\n}\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table {\n  width: 300%;\n}\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .CPSpread,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .CP_Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .DeltaMVPercent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .Position,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .Position_Equivalent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .CP_Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .DeltaIM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-header > ul > li.table-row > .Spread {\n  text-align: center;\n}\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .CPSpread,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .CPSpread,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .CP_Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .DeltaMVPercent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .DeltaMVPercent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .Position,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .Position,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .Position_Equivalent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .Position_Equivalent,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .CP_Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .CP_Position_Equivalent_IM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .DeltaIM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .DeltaIM,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .Position_Equivalent_MV,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-list > ul > li.table-row > .Spread,\n.message.CPProduct_tradedetail > .region #CPTradeDetail > section > .table > .table-footer > ul > li.table-row > .Spread {\n  text-align: right;\n}\nhtml.openfin {\n  border: 3px solid #ffffff;\n  height: 100%;\n}\n* {\n  font-family: Muli, sans-serif;\n  line-height: 1.5;\n  font-weight: 300;\n  box-sizing: border-box;\n  -webkit-overflow-scrolling: touch;\n}\n*:not(input) {\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n  user-select: none !important;\n}\ninput,\nselect {\n  outline: none;\n  color: #ffffff;\n  background: transparent;\n  border: none;\n  -webkit-appearance: none;\n  text-align: right;\n  font-size: 12px;\n}\ninput[type=text] {\n  border-bottom: 1px solid #dadadc;\n}\nbody {\n  background-color: #20242a;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABoCAYAAABYMdpmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUbDCscCy8D9gAAHyNJREFUeNrtXdluXMfRrurlLDNDDjcrtJ0YsBUYyAZf5CoPkHfIk+QF8hi5zl0eIEAQIAsQxFc/HNjxkiiyI4miSHE421n69FL/hc5RxhKnm+TpiWVSDcyNRU9Pd1dXV31V9RUqpaSUUiMiICL0GWVZopRSCCEu/HcigqZpABFNmqYEkcd8Pmd5nrN2LYiI1HdNFw2tNQohiIjAWosAQEmSmJhzEBEgItR1LZIkwXXrsNaCc84kSUIR5uRaayalXPs31loSQpjYe9qtdz6f862tLeaZH5xzNkkS9+L/q7UWjHMOAIAxDj7Pc7LWrv13RIQ0TSFJkuhCdnJyAtvb204IYY6Pj01d11opZQAg6sc5Z05PT7UxxsxmMyOl1FLK6AfcCjNL03Tt2RARKKVckiRERDGEyrXysHY+xhhsYiAilGXJfMJMRHB2dmaTJHGr60VEICJGRAhEJIuikDFvmlJKEtHaT13XvNWo8Hq8PKqqAgAI7qNSikcSZCAiLIpCBM5NzOdz3MSalVKotb6U3BwfH79oGUBd15KIJAMAGAwGUBQFdovre9MYY9b3PUmSsPl8zre3tyHGgdy0kWUZVFXlffrbZzaKSYWIUFUVGwwGa7/MOQfOObe9vU0bEGYAAO7T/q2iJACAw8PDl0zA7tV//g1SStHZIn1vu5TSlWVJvg3M85xZa3ETNu63eSilYDKZQJIk3Lc3dV2TlLK3cE0mk+fHEjrXhw8fRhfmdq0ghECfQBtj6KLLRESYZZno9mpVoKEsSx7jtrf2tFf7CiFAa80BAM7Ozl5LcjvSNIXBYCB8h+ucg9/97ncGEXsL2N7eHpycnPA8z9HjBENRFOb999+nf/7zn1HXu7e3B7PZzHt5nXOwWCy+tt5Ots7OznD1JUMikqv/43K5NOPxuNdG1XUNWZbBdDrl4/F47ck0TQNVVbmdnR37WpSfaWetNeZ57hXo6XRKu7u7vR3RpmlgsVjA3t6e9Glm5xxwznXM17SzBoqiwCzLvOttmgaSJHnpAhMRGmO+hqp9DV9jjEGaprz16HvZgAAAw+EQjDGwDsZr7R4GALdeoFegJx54emFnZycKqpIkCWitRQCiJGOMGQ6H0VENIsK6rkPrpSRJzJrXHl/87y99E+ccT05OolxFIYRtmsb5/oYxBmVZ3npDGhHBGIM+p6LF8V0sTfnkyRPknHu/bDabuadPn25kzc45TNPUO7+1llqg4SIF4Jxz7kUJlxep+DRNdSTNg03TCB/2XJYlDAYDfdsdRK21EEKgzxHM8zwa5t00jfQhKUopyLJMb2Kt7eWUPrmoqgoGg0Fw/qIo+GAwYBdq6M5BnE6nLJLmIUR0PgdxMBiAtVYQ0a2V6LIsuU+YnXPQNE0006yqKrbOFOwEzlprNrXe5XLJfcLsnIM0TYPrXSwWkGWZXWtydM/fYDDgRVFEuYlJklgfjNc9P93rcZuwaSKCuq5RCMECB+f6OusrGg0ZY15kYbFY0HA4pE2s97e//S2E1qu1dpxzF5KFra0tYIzBcrmkl5zCF7V0qzVtH3io27TRaGR8T5yUEuq65n3n+zbaznVde4MoWmuw1rqIc7KQdtze3nYbXC9P0zSknb8mP5eQMaOUkizgBeMLNndfG9H7hEgp0RjD4BaNBw8eBLWVMcbu7+/TbDaL8dSjlJIFbFsCgOgC/dlnn8F8PvfO374g7jrzc84dM8Z4EQilFItlBvzqV79ybZhz3Q+CsixvjdlBRHDnzh3pSwiqqgq++uorBwAwHo97zWWtBSkl99nOTdNAlmV2Ew763bt3UUrpxZyVUrC1tXXlV5qI4OjoyKG1VvomsNYC59zEMgMeP36Mh4eHwvfDtNY2TVMXIxT/qo7FYgGIiMPhUPieXgAwnHOKdIGQiIRvTyeTidnf36eYez+fz2F7exvaVAfhS4VdLpdmZ2fn2utljDFd17VXa85mMx5jYf/+97/hzTffpKqqvHkeUkp+fn6OiAiLxeJGaeRuPHnyBLMs8wY16romzjnFeq2apvE6gsvlEvb39+mytutlR5uEhk3TeC+TMQb65sl3GXbcWst8T19ZliaW10tEaK0Vvvm01tA0jU2SxPkcpm/h4HVdoy/PuXv6z87OzFtvvRUN2RgMBsK330mS6KdPn8LBwUH0izyfz8X29rY3X0QpZba2tqIINBhjuM850Vp/rUqgz/jTn/4EP/vZz5iUMqj5nXMbSyr/prR0SPsREVRV5YbDYRTc+d69e/Dee+8xAOAe03IjlSgAANPplG1tbfFAwhVxzs1yuYTRaNRPoAEAjo+PcXd3d21Er6oqNxgMogH7SingnHsdots6jDFQ17UejUZRnv7WL+Hr0IWmaaAoCrO7u7uRkjWllJBSesvIjDEmy7Ler9HzBX7nO98h3w2KXTaVpulzMPz1eMm8c1tbW9Hs2L///e+otWYegbN7e3vRhZmIYDqdoq8msnv9syyL4iuwC7zqtTbdBg7utUBfMPI8j7YvX3zxBXzwwQfkQ0q2trair2E2m3U1pDz0UldV5WI5omwVXfAJ7SbyLGI7HzdlzGazaHv9/vvvQ0hYTk9Po5TfvYhszGYz5sum6/JFYqamstUvz/McfE5DzEOrqgoRkb0W3wsvOp6cnEQVMF9Aa3t7mxERi2lyTCYT6CglPL4CDYdD8oXBrzrESuUA992ULmk/lpePiOiLWK3+fcvlcSOEVUp5GZQDR6MRR8RoTniapm4dypGmaVcO52Kdccvv4c0ehA0UdoiO08Ba69WWMTT0SlUG+iCkbsHT6dQ1TeMODw8RAL719vZkMoHxeIyLxQLH4/Fa7YWIkCQJAwCrlIIYGqwsS/I59i2VQSzFway13Bc/aGHJ6Gcq2sWywWDgdQi11r0n78puqqoSPvOmqipIksTt7+93N/gmOY/UPrdOKSXW7TvnHOq6FmmaRsGGOefUpjFc+O9JkkBVVYKIzHWFursQ1lrue9GdczQajTZSdseqqhI+PgZrLVhrbV8+hs4etNaykPkihLBCCHtTE5SICIQQQfowKSU+evQoypxbW1vQNI0XGsvzHOu6vraD2JquQVu849fYiED7qiRa7UyDwcAdHR311s5KKWaM8S54Pp9TF5G8qYlJ3bqEEM+zCy88HMZgZ2dHduZABC1tfFRtrfbk1zE9ut+Ypqk3IrhYLNxgMLAnJyfRlQQRAQtxmUkpabFYwFtvvRXjIJnPHmyfxNuETRMRGR/+35an8b6Xu7XLQWttfCnDg8HgeRDmKkKHiOCcwxCfSGdi3blzJ7qSMMYwFkiQcUIIFwN4b/kdMPAUudFoZFfYfG70QEQYjUZkjPGiC7GKHtrSOgo5+IwxPpvN2FWEjoigLEseguk2pbBaDc28tKV1XUcph2qhN+HTzlprICI3nU5hb2/v1qjoL774ApIkIa21D3KD+XwerdDCOed8pgfnvKMJvvR8VVWJ0WiEHmUFSZLYUMH0deWrqiohpbw4sOGcA62161Mh0Y26ruH8/BxC/A+ISMPhkHZ2duA2jffffx/aQ/aecp7nPEbwYzabwWAwcEopr9O9vb3NqqoKmjqdD5BlWfB8EZE2UbTx5z//GbqIpFgHq+R5bvtWfXcbhog8lPuslDJ90gZvgDHt2oy4dcgPTKdTXIXHrjPG4zFMJhMYDofOGMPWKRrOeWfq2MlkcuGr2f2Oqqq8iftKKfjRj35kNiHMLSrz37KuFzl4rbVyuVyyCAfU3WDu4/y11sqHDx/ealrdbu2z2Yxba70cyUVRREsXKIqC+ebTWsvj42MM2PcYOt/5fI7/93//t5F9K4qCrc73EnNSXdcuVpHkRWR6F9jqG0ss/zaNru5OKSWSJPHZopRlmTk5OemNFCilkDEmAkWzhIjmoijjZdiPYrJwrZGvrxH0vJQ+KqV0sZLKl8slCwgz1HX9OoX0mc0KAABPnz61PoctSRJ88uQJjwF7tfV7JkB7jOtgvrIsvexHnaO/qT1bLBYvxVHYBTBdlERrrTXP85wFNASNRiO7XC5fS3Q73n77bfIRXCIiHBwcMK01+Iqbr4A+kdbaeSA8kFLKyWSCXXpxN2+ITwQRIcuy6BHf5XIJ9+7dg47P7kKBrqoKuhKYPhq6I0NZLpfgcwSttSCEcAAAt9kZvAg1QEQbar6kteZ9MyDbCntI09T60kuFEDAajYSUEj766CPIsgyKoghy0zHGNhLxHY1G8Oabb14INKzmQ1uIkD44Ho+hrmvmIzpvbUb74Ycfutci/PUxGAzg5OQEjDFeqockSViXd9FndEIZije0Qsk/+OADKMuSX6QdX9T8nPPoCUjtd7M2G/Hl39l2FwKllI6FAYdoWrXW2PZGfG0/ew5OKSV8FR9KKdc96RF642ArqL5ENeKcu1Cus1KK0jQ1m8jFMcaAc26tfDHnHGRZZmMIc5vYjSGaVgDQHci+CUGIlcyzbnz88ccwnU5X4baNoB6cc+8LJoRgbeVP7/kQkfI8J19eCWMM2w4DGDhfd3p6upG9b5GZ9XvS2mq9abeICD7//HP4/ve/L0LZdA8ePNhIxGi5XDJjDLfWdrnXGxPqqqrAOQez2cyNx2PbIhTR6iTH4zEQkVssFnxdLg3nHJxzAgB0jP1USlnn3NrceEQEIQQEgiiU57mLraSed7lizEtQhFVV8TzPbYxJW6Z+DDiC0THJ5XLJ0jRlnPNvpE2c1pq01hSLGObFfXXOefkHY3Km1HXNhBD8Onwp1lqYTCZ6OBxCrMLXlaIBdM6FYhrAYoS4//siMQxsVm+V2XWfJSJcLBa8qioxHA65EOIb63kopcQ8z1nb+TXqj0BEWC6XQdMjlvBkWeauS1nRNA3s7u5CzCruLi21aRoRumSI2H/zV+P5vgSVxWIB29vbuqoqb3X5Zcbjx4/hzp07wjl3qULb/6GmBgCIRpm2sse89ex9cJ9rmsbu7u72fe0gz3MwxsirkAs55wARYzuCVFUVS5KEM8ZCpg5kWaZFjBtUFAXzmRoAz6NSvYUZAODw8BDrusZYlegRNTWcn59vwnC38KwWkXv2l7VRuV7zdzGB5XJppJTisgLamkTRtctl5aVzoKM8Vc45Fmqc2AVRIjlk7FUT5m7s7u5Gt3va8rUgWbx4FuaNMudoNKLYXCybGnVdg9baElF/gVZKeRO7W8TBXqYBzCUdj2BI/ZscMVt4rI7t7W149OiRt1wrSRIoigJjwYjWWm/hwaswjDGAiGYwGAAi9hNoIoJLOIIuSZIosOCTJ0+gqioW+jtrbZcPYWN+nHM25DBNp9ONabW7d++Sc84bQeScixiFGdPpFLIss1JKChXWflOjrVQxq0SP15awoiiAc+6NZGmtQUqpT09PoxRFGmM459wbcl0sFjSZTMy7774bffNCsGSbv7DRBqJEhFpr4YvEnp+f2729vWhPhXNOOOfwVaI+VkoBEekXbexraeinT5/CYDAA3+G2wmURsbcwt4TsLPR7l8ulHY/HJnZNYpc/ECojU0pdmEd+//79aEGeNsJKAfOExyR8RETjnDPz+dwaY77RYgxjDDRN44jIXGRaXcsrPTg4gNlsJrsc3nW2cyh0e5U9DWWXtd2TeneLWrMWdM4Fc3+VUu7Fi9BeaF7XNTrnTIxuBNZa55xby3/BOYe2O0KUsqf2/ycioraxDwghMMsyDFXy952XiIBzTkop0lq7lgSe1pGLXkmg7927B3fv3oXpdMp8wtw1WY+V7FQUBfmoyloMFD799NPom1pVFWitMcQn4pxzL2LAHfWZtZatwFq9qnPavuhOKYVSyrVFs1mWodY6KuFjO9fXLu2XX365UW18//59+PnPfw4XKYooYzqdMmOMt+6tqirRmgAxnnpsmsY7X13XG4uuFEWBWmvhm79pGtG9Equ/vXWKxYt/F8mGxLquL3UOPrjvpg12FeECeMZ/Fno2uxL5GIn7vkroTjv/7W9/i16T2K1XKYU+29laC0ope35+/jWW0JbJh686zVJK7Pg1+o7lckk2AD9kWYahNsS3ehhjgtpZKSUjChXTWofm4wAA//nPf6Kv11qLoSrsxWLxkuvfOSur2nlFS8vOlOk7mqbBNn/E93rI4+Pj1xr6RYjuv/6Gn1/j448/jqItm6aBsiy9RbbOOXjy5IkjInjnnXeia+emaUSoFdloNHIXoAywWCz4RZCmlBKKouAxIp1JkhAAeGv2pJSwv7/PXgv0yhgOh7BYLILZbFpr99Of/pS++OKLGA6Il+a3K/N55513ondvakPNPJSco7V2FxUqnJycQJqma/c2z3M2nU6xr23b0mu5F9GVlw75GVcdvhboFW3VZTyF8EGA/zaqua5m7rR9QJhouVxuJP+4MzdCTdazLLuwCDTPc2+NXlsNLfq2ykvTFBAR8jy3TdOQR6Ahz3N+dnaGt16g2wrjII90VVVmd3eX+vL+SilBKcV9qahEBKenp1ZKGR3h79Yb4mozxph1eeRbW1vBjgdpmkJZlthp9BgX0Wd6MMbQ15r41ozj4+Og4zGfz6PFRB8/fgxKKXEZOGoToyxLcM6F1isvo+2Wy2UQ7nv8+HE0IWuahgf2Td50yjURuvVN02CIf+Ef//hHlKf/ww8/hIODA2+IuU2I2oip0dbMeRk+nXOwtbXV5SeHnLZQRA/feOMNDj2DLd2YTqf24ODAF2zpCB9vZ7W9cy4Imy2XSx5DmFq7NBhEmUwmYlNapqUv885fluWl53/06FHw+6y1on0Jo6wh9LpZa+VNlln0aavW02c+mM45Z9I0pQi8EGCMkT6YTmsdbLTTRzvXdc18rXzbOIYRQlz6RhVFgWmaeuvhFouF297etjFSbKuqYlJK7tvHqqooz3NzE3vYsHWOUVv9ywKb57Iso76H0NquwQjkpioouv4cbULP2jGbzexVuf+IiELk4oPBgC2XS4yRRJTnufPlTLcoDLYK6+YL9CpJuU/AWob/3kR8XVUv59wbxKjrmmLQLawROjTGeNdbliXt7+9fmattNBrBYDAAX6OetnyKd2ZKhAsaLERQSvE0TW8cLze7SMBCQQVjDHT5FTGeLa110PGsqmpjPHjGGO96rbXAGOtz8s5aG4ro4dHREb799tu9FYSUkhhj3hZuUko2m83YTTM7XhLolsLJ+/bXdU0x0hKVUl1jz1A3Ltrd3XVnZ2cbcwZ98xOR64Io1xWyL7/80st3wRiD8XgsPv/88ygmVFs6FQru8Ol0ijdJS4vVQ53P52JrawtDsJW11nbJ131ueNs0XeR5jh5hBsaY25QmOT8/56Em67PZjA4ODnrRl/3gBz8AIrIt4/w6W7qrAooiYUII8vUOTJIEpJRisVgQRIIOv3GUo21JQaGmiavaMlb/6Q5m8pVyGWNICLERj/wyNFvt/L3b23WXoWkaEWDutP/617/cj3/8415rq+sasiyDsiy9CuOF3/dtV9XP27pdSpittZSmqflfPVFtka3p6L9iO4JVVYWEGay1JsZBdy+atdb5HEQiwr7CDPAsiNJ95WWoFVqFgd/yz9WKZLsuoDG1ZeAiEUD8GsEW80YfK0/bYcnGJLTpYDVf35EuhySW0nj69Kkty/LWEMtfSaAfPXoUXTX7HKWiKDZiOP/+978H5xwLIB+ws7Pjzs/Po8//+PFjL+JDRNGIJ995551b1ZjppbZuIasDEaPedmutWEdW01aO6w00a+S+fGWAZ0GUnZ2djfAcExH3KRNE1DELQZVSLEkSfhsE+koa2hjDO7gt1vBFtdqS+WiwUpt2CojoXXdZlm5nZyd6T+qO2FJr7euxHq3RDhHB/fv3gb9KDDEbHmIVngo5hpxzqKpKxEQ5fFRiSZIAIjJEtMvlslfR7WQy6VCGYNFtVymzCWRFCMF889d1TV0TzlgX6DIO/01COTQAaMZYMFzacqfhfD7/n4WXiIgtl0vsW0G+t7cHs9mM+ajEAACOjo4sIm4kAappGg4B+rWiKCiGMBMRzGYzzLKMB4JGMJlMHGNMwzMs+tv80S8tbrFYYNM0IlRpfXR0FGXTWxMmmAhPRPDHP/6xry0Z4vfYWGql1hraBHtvhXaMfV1xuEVovUdHRwjwPEJ8M8dF5fcvNjWv6zqaXVZVFfNViVhr5SeffHLtV+Ho6Aim0yn65nDOyfl8jtPpdCN7Op1OvZQIzrkLKRGuqygePnwYrLxpmubWVIPDJdiC+KqWve4oy/J5E3TffEVRXGu+Bw8eABEFWYaKopBKqY2YUm3PwRC/iGhfyF5zTSYTICIIrbf9PTcu285Hhcv4s7ZSaw9Ja+3SNLWRNBgfjUZsnUN+nfk66KsoCi8lQluxbobDYfTTLcsSZrMZOzw89BYOFEVhxuMxxbg8bWcz5nN8GWPmJjY+9VasLBYLPhqNfBATMMZMz9RK6BoJVVUlfZE55xxxzs0VDxidc95ca2stCSGiOoLdHmqtARGlDzkjImKM9WIKXWl/BtZabyfftiPs7apYAQDIsszbkoBz/hyb7jO6EDQRWd98jDE8Pj7ml30m//KXv0BZljwgzDCfz6OjGh3zaFmW3vIray1NJhPTFybs5nPOiRAsOZvNDNzQgaEbH4qqdQk8WZbFei5ZnufcdyDGGNN11eqrnZumsWmabiTXoe3yij6zrSxLMxqNojz9SikuhPDizovFwm5vb9/Y3A5f+LXTit7EdCEEOOeiVGJ3/MMBLQ1wCfqFFtP1aueiKKAsS7cpx6iqKq/WNcZQiJDmijBdkO2pI4W/dQK9alYIIbzecJZlUFUVxmAA6mi0QgSEWmtclzjUlpGx4XDoTdx/8uSJ3t3d3UhEcD6fM18ecoswuL6NMleEVfjW2+Z+25toN19VoIlzro0xFNCs/I033oiipaWUxpch1tU9XtQhoMszaXuygAfFobt370bf0I5KN89zFup8GrPjLGMMA68BDAYDF4PG91st0B301DSNN1E8z3MsyzJasCXUqDPPc5xOpy/9/jRNoa5r5oPprLUQC258cYzHY5jNZjzUYKiqKtMl/ff1O6bTKQ/RDsOz1nRROvl+K53Cizbuf9XW7LL4sbUWiMiskjY655hzzptgZowxmyB6bJ0uzPPci2yUZUlpmpoYfcov6/gmSeJuurlxaQ3djSRJTIDhEro+In00T7fxg8HA23WBcw5EJACeRchaIecBmAyKotiIMBMRCCG8/fycc/CHP/whijADPEtTCJWRffTRR7dCmK+7gTyUE7FcLjGGcAAALJdLHkro+eyzzwDgGVOq72+dc/L09HRjucFN07DLtrD45JNPeu/P2dlZMD+lLEt2m+TzyoKnlEJE9IL3SinKsiwKeN/2CBQ+jaaUgjRNwRgDIU63wWBgnj59CgcHB1E3sixLlFJ6f2fL/hSldyARoVKK+WIEHRdgVwF+G8aV3735fE55nlsfD5yUEttE+t4wEeecJpOJ2dnZEeu+K0mSoDB33wUA0YUZACDLMq8mbANC0apRtNbc58+0F9i1v21jAvTRRx/BpjIUiQj29/fhJz/5yUv+VTSBbqE5N5vN2DpGeMYYOOeYMSYKkrC9vQ1aa1hH14WIwWqblnFzYy0sWm3pVQS7u7tusVjA1tZWr/n++te/AiJ6D3axWLjxeOwePHgA3/ve96KtdT6fY1mWsLu7i0mSsNYx35wJ8azKCJxzTikFiOiiNt4EeNZCoeWY8NpvLbl27/HLX/4SlFJBrmpf/jYRfWOpoVprWVVVNFtWa8188xljnqfb9h2ds/3w4UOoqgq11jLkJ2zq0+2jz0frdcjz+ZxvbW0xj5MEjx490oeHh+BrbXzZYYzhoRKqNQLgkiSJqp2Pj4/h8PAQyrIUWZZ5gxrd/Pfv34d33303CrJxUcu4lX1/zqMdQ5OdnZ1hnufiVcGwO18oukC3T630MXc2TRMlZ5qI4NNPP4X33ntPXqUzasccGiv3tysm1lojAIAQIiTMsFwue4fYL0sl1qaPXip56zLzWWsFEeGrVDhujKE2mvySf9D7GQyx2XPO2a9//esottQPf/hDYIxdKVzMOe/S3ViMT5vKxqSUKKXEUAHqV199Zff29iAGmXnTNAiBDMmiKEyaphSDt9taK5qmwVeNBUEIgUVRsIuc3d4CzTk3y+WSfAL1i1/8QiqlIFJGXrA6/VUZdV1TXdfu3r17vb/rN7/5DYTgUq01dMIXw9QwxryycN868yeKo2SMYYwxHqDhdZzzKHas1pojInuV+VOqqoLBYKBjOOB37tyBqqowyzLhM4WUUibP8yj9brp+M69qhLGua5vnuYuuodtwrwvxpyml2CrM1fPJcQBAPhbPb9jGA+dclMt7584dePToESKiCDlK1tpewtwV6IbqSbtzbJqG6rq2RGThWfJTlM/Z2ZkLsXOtk7feAt0tumka6xOwPM+hrmseKXGJvvzyS8MYo1eNiFBrDYwxOxqNohUODAYD9DnCTdPA6emp7YNvAzzrgHt+fo6IyAM1iVAUhbPWmjzPXUtIH+2TJAn51quUgt3dXbqoQh5jgdT37t2D7373u0HycilldLWqlJKMsc4B/J8LcUcH0DQNZFlmugKFGL9lNpvhcDj0Zu91Ie4YsKC1lhGRN8ErNun9C3vJiMir+NYVNRMR/D9pnwRLiHUQEwAAAABJRU5ErkJggg==);\n  background-size: 100px;\n  background-position: fixed;\n  color: #ffffff;\n  overflow: hidden;\n  font-size: 12px;\n}\nbody.openfin {\n  margin: 0;\n  padding: 0;\n}\nul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\na {\n  color: inherit;\n  text-decoration: none;\n}\n.disabled,\n[disabled] {\n  opacity: 0.25;\n}\n.btn {\n  border-color: #363d47;\n  border-style: solid;\n  background: rgba(32, 36, 42, 0.5);\n  border-radius: 10px;\n}\n.btn.horizontal {\n  border-left-width: 3px;\n  border-right-width: 3px;\n  border-top-width: 0;\n  border-bottom-width: 0;\n}\n.btn.vertical {\n  border-top-width: 3px;\n  border-bottom-width: 3px;\n  border-left-width: 0;\n  border-right-width: 0;\n}\n.btn.selected {\n  border-color: #ffd635;\n}\n.btn-icon:before {\n  border-color: #363d47;\n  border-style: solid;\n  background: rgba(32, 36, 42, 0.5);\n  border-radius: 10px;\n}\n.btn-icon.horizontal:before {\n  border-left-width: 3px;\n  border-right-width: 3px;\n  border-top-width: 0;\n  border-bottom-width: 0;\n}\n.btn-icon.vertical:before {\n  border-top-width: 3px;\n  border-bottom-width: 3px;\n  border-left-width: 0;\n  border-right-width: 0;\n}\n.btn-icon.selected:before {\n  border-color: #ffd635;\n}\n.title {\n  font-size: 24px;\n}\n');
